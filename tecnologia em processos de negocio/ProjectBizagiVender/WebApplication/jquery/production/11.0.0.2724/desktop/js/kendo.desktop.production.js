(function(n,t,i){function nt(){}function lr(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=n.charAt(0),r=n.substring(1);return"="===i?"+("+r+")+":":"===i?"+$kendoHtmlEncode("+r+")+":";"+n+";$kendoOutput+="}function f(n,t,i){return n+="",t=t||2,i=t-n.length,i?ai[t].substring(0,i)+n:n}function gt(n){var u=n.css(r.support.transitions.css+"box-shadow")||n.css("box-shadow"),t=u?u.match(ou)||[0,0,0,0,0]:[0,0,0,0,0],i=a.max(+t[3],+(t[4]||0));return{left:-t[1]+i,right:+t[1]+i,bottom:+t[2]+i}}function ar(t,i){var s,r,f,e,h,c,o,l,v=u.browser,y="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(o=t.parent(".k-animation-container"),l=o[0].style,o.is(":hidden")&&o.show(),s=et.test(l.width)||et.test(l.height),s||o.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(r=gt(t),f=t[0].style.width,e=t[0].style.height,h=et.test(f),c=et.test(e),v.opera&&(r.left=r.right=r.bottom=5),s=h||c,!h&&(!i||i&&f)&&(f=t.outerWidth()),!c&&(!i||i&&e)&&(e=t.outerHeight()),t.wrap(n("<div/>").addClass("k-animation-container").css({width:f,height:e,marginLeft:r.left*(y?1:-1),paddingLeft:r.left,paddingRight:r.right,paddingBottom:r.bottom})),s&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),v.msie&&a.floor(v.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function ht(n){for(var t=1,i=arguments.length,t=1;i>t;t++)ni(n,arguments[t]);return n}function ni(n,t){var u,i,e,f,o,s=r.data.ObservableArray,h=r.data.LazyObservableArray,c=r.data.DataSource,l=r.data.HierarchicalDataSource;for(u in t)i=t[u],e=typeof i,f=e===d&&null!==i?i.constructor:null,f&&f!==Array&&f!==s&&f!==h&&f!==c&&f!==l?i instanceof Date?n[u]=new Date(i.getTime()):g(i.clone)?n[u]=i.clone():(o=n[u],n[u]=typeof o===d?o||{}:{},ni(n[u],i)):e!==st&&(n[u]=i);return n}function ct(n,t,r){for(var u in t)if(t.hasOwnProperty(u)&&t[u].test(n))return u;return r!==i?r:n}function vr(n){return n.replace(/([a-z][A-Z])/g,function(n){return n.charAt(0)+"-"+n.charAt(1).toLowerCase()})}function ti(n){return n.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})}function yr(t,i){var u,f={};return document.defaultView&&document.defaultView.getComputedStyle?(u=document.defaultView.getComputedStyle(t,""),i&&n.each(i,function(n,t){f[t]=u.getPropertyValue(t)})):(u=t.currentStyle,i&&n.each(i,function(n,t){f[t]=u[ti(t)]})),r.size(f)||(f=u),f}function pr(n){var t,i=0;for(t in n)n.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i}function wr(n,i,r){i||(i="offset");var f=n[i]();return u.browser.msie&&(u.pointers||u.msPointers)&&!r&&(f.top-=t.pageYOffset-document.documentElement.scrollTop,f.left-=t.pageXOffset-document.documentElement.scrollLeft),f}function br(n){var t={};return rt("string"==typeof n?n.split(" "):n,function(n){t[n]=this}),t}function kr(n){return new r.effects.Element(n)}function dr(n,t,i,r){return typeof n===o&&(g(t)&&(r=t,t=400,i=!1),g(i)&&(r=i,i=!1),typeof t===sr&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),h({effects:{},duration:400,reverse:!1,init:ut,teardown:ut,hide:!1},n,{completeCallback:n.complete,complete:ut})}function ii(t,i,r,u,f){for(var e,o=0,s=t.length;s>o;o++)e=n(t[o]),e.queue(function(){w.promise(e,dr(i,r,u,f))});return t}function gr(n,t,i,r){return t&&(t=t.split(" "),rt(t,function(t,i){n.toggleClass(i,r)})),n}function nu(n){return(""+n).replace(yi,"&amp;").replace(pi,"&lt;").replace(ki,"&gt;").replace(wi,"&quot;").replace(bi,"&#39;")}function lt(n,t){var u;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(rr,"-$1"),u=n.getAttribute("data-"+r.ns+t),null===u?u=i:"null"===u?u=null:"true"===u?u=!0:"false"===u?u=!1:su.test(u)?u=parseFloat(u):tr.test(u)&&!ir.test(u)&&(u=Function("return ("+u+")")()),u}function ri(t,u){var e,f,o={};for(e in u)f=lt(t,e),f!==i&&(nr.test(e)&&(f=r.template(n("#"+f).html())),o[e]=f);return o}function tu(t,i){return n.contains(t,i)?-1:1}function iu(){var t=n(this);return n.inArray(t.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function ru(n,t){var i=n.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!n.disabled:"a"===i?n.href||t:t)&&uu(n)}function uu(t){return!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")||n.expr.filters.hidden(this)}).length}function s(n,t){return new s.fn.init(n,t)}var p,g,ui,fi,tt,ei,oi,si,hi,ci,li,ai,vi,w,yi,pi,wi,bi,ki,at,di,gi,b,vt,nr,tr,ir,rr,yt,pt,wt,ur,e,k,fr,bt,it,er,or,v,r=t.kendo=t.kendo||{cultures:{}},h=n.extend,rt=n.each,fu=n.isArray,kt=n.proxy,ut=n.noop,a=Math,ft=t.JSON||{},u={},et=/%/,eu=/\{(\d+)(:[^\}]+)?\}/g,ou=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,su=/^(\+|-?)\d+(\.?)\d*$/,c="function",o="string",y="number",d="object",ot="null",sr="boolean",st="undefined",hr={},cr={},dt=[].slice,l=t.Globalize;r.version="2015.1.429";nt.extend=function(n){var t,r,u=function(){},f=this,i=n&&n.init?n.init:function(){f.apply(this,arguments)};u.prototype=f.prototype;r=i.fn=i.prototype=new u;for(t in n)r[t]=null!=n[t]&&n[t].constructor===Object?h(!0,{},u.prototype[t],n[t]):n[t];return r.constructor=i,i.extend=f.extend,i};nt.prototype._initOptions=function(n){this.options=ht({},this.options,n)};g=r.isFunction=function(n){return"function"==typeof n};ui=function(){this._defaultPrevented=!0};fi=function(){return this._defaultPrevented===!0};tt=nt.extend({init:function(){this._events={}},bind:function(n,t,r){var u,h,s,f,l,e=this,a=typeof n===o?[n]:n,v=typeof t===c;if(t===i){for(u in n)e.bind(u,n[u]);return e}for(u=0,h=a.length;h>u;u++)n=a[u],f=v?t:t[n],f&&(r&&(s=f,f=function(){e.unbind(n,f);s.apply(e,arguments)},f.original=s),l=e._events[n]=e._events[n]||[],l.push(f));return e},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var r,e,u=this,s=typeof n===o?[n]:n,h=typeof t===c,i=0,f=s.length;f>i;i++)n=s[i],r=h?t:t[n],r&&(e=u._events[n]=u._events[n]||[],e.unshift(r));return u},trigger:function(n,t){var r,f,u=this,i=u._events[n];if(i){for(t=t||{},t.sender=u,t._defaultPrevented=!1,t.preventDefault=ui,t.isDefaultPrevented=fi,i=i.slice(),r=0,f=i.length;f>r;r++)i[r].call(u,t);return t._defaultPrevented===!0}return!1},unbind:function(n,t){var r,f=this,u=f._events[n];if(n===i)f._events={};else if(u)if(t)for(r=u.length-1;r>=0;r--)(u[r]===t||u[r].original===t)&&u.splice(r,1);else f._events[n]=[];return f}});ei=/^\w+/;oi=/\$\{([^}]*)\}/g;si=/\\\}/g;hi=/__CURLY__/g;ci=/\\#/g;li=/__SHARP__/g;ai=["","0","00","000","0000"];p={paramName:"data",useWithBlock:!0,render:function(n,t){for(var u="",i=0,r=t.length;r>i;i++)u+=n(t[i]);return u},compile:function(n,t){var e,f,u,o=h({},this,t),s=o.paramName,l=s.match(ei)[0],c=o.useWithBlock,i="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(g(n))return n;for(i+=c?"with("+s+"){":"",i+="$kendoOutput=",f=n.replace(si,"__CURLY__").replace(oi,"#=$kendoHtmlEncode($1)#").replace(hi,"}").replace(ci,"__SHARP__").split("#"),u=0;f.length>u;u++)i+=lr(f[u],u%2==0);i+=c?";}":";";i+="return $kendoOutput;";i=i.replace(li,"#");try{return e=Function(l,i),e._slotCount=Math.floor(f.length/2),e}catch(a){throw Error(r.format("Invalid template:'{0}' Generated code:'{1}'",n,i));}}},function(){function u(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t===o?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function i(f,e){var l,p,a,b,v,w,k=n,s=e[f];if(s&&typeof s===d&&typeof s.toJSON===c&&(s=s.toJSON(f)),typeof t===c&&(s=t.call(e,f,s)),w=typeof s,w===o)return u(s);if(w===y)return isFinite(s)?s+"":ot;if(w===sr||w===ot)return s+"";if(w===d){if(!s)return ot;if(n+=r,v=[],"[object Array]"===h.apply(s)){for(b=s.length,l=0;b>l;l++)v[l]=i(l,s)||ot;return a=0===v.length?"[]":n?"[\n"+n+v.join(",\n"+n)+"\n"+k+"]":"["+v.join(",")+"]",n=k,a}if(t&&typeof t===d)for(b=t.length,l=0;b>l;l++)typeof t[l]===o&&(p=t[l],a=i(p,s),a&&v.push(u(p)+(n?": ":":")+a));else for(p in s)Object.hasOwnProperty.call(s,p)&&(a=i(p,s),a&&v.push(u(p)+(n?": ":":")+a));return a=0===v.length?"{}":n?"{\n"+n+v.join(",\n"+n)+"\n"+k+"}":"{"+v.join(",")+"}",n=k,a}}var n,r,t,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h={}.toString;typeof Date.prototype.toJSON!==c&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?f(n.getUTCFullYear(),4)+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});typeof ft.stringify!==c&&(ft.stringify=function(u,f,e){var s;if(n="",r="",typeof e===y)for(s=0;e>s;s+=1)r+=" ";else typeof e===o&&(r=e);if(t=f,f&&typeof f!==c&&(typeof f!==d||typeof f.length!==y))throw Error("JSON.stringify");return i("",{"":u})})}(),function(){function p(n){if(n){if(n.numberFormat)return n;if(typeof n===o){var t=r.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function w(n){return n&&(n=p(n)),n||r.cultures.current}function d(n){n.groupSizes=n.groupSize;n.percent.groupSizes=n.percent.groupSize;n.currency.groupSizes=n.currency.groupSize}function g(n,t,r){r=w(r);var u=r.calendars.standard,e=u.days,o=u.months;return t=u.patterns[t]||t,t.replace(tt,function(t){var s,r,h;return"d"===t?r=n.getDate():"dd"===t?r=f(n.getDate()):"ddd"===t?r=e.namesAbbr[n.getDay()]:"dddd"===t?r=e.names[n.getDay()]:"M"===t?r=n.getMonth()+1:"MM"===t?r=f(n.getMonth()+1):"MMM"===t?r=o.namesAbbr[n.getMonth()]:"MMMM"===t?r=o.names[n.getMonth()]:"yy"===t?r=f(n.getFullYear()%100):"yyyy"===t?r=f(n.getFullYear(),4):"h"===t?r=n.getHours()%12||12:"hh"===t?r=f(n.getHours()%12||12):"H"===t?r=n.getHours():"HH"===t?r=f(n.getHours()):"m"===t?r=n.getMinutes():"mm"===t?r=f(n.getMinutes()):"s"===t?r=n.getSeconds():"ss"===t?r=f(n.getSeconds()):"f"===t?r=a.floor(n.getMilliseconds()/100):"ff"===t?(r=n.getMilliseconds(),r>99&&(r=a.floor(r/10)),r=f(r)):"fff"===t?r=f(n.getMilliseconds(),3):"tt"===t?r=n.getHours()<12?u.AM[0]:u.PM[0]:"zzz"===t?(s=n.getTimezoneOffset(),h=0>s,r=(""+a.abs(s/60)).split(".")[0],s=a.abs(s)-60*r,r=(h?"+":"-")+f(r),r+=":"+f(s)):("zz"===t||"z"===t)&&(r=n.getTimezoneOffset()/60,h=0>r,r=(""+a.abs(r)).split(".")[0],r=(h?"+":"-")+("zz"===t?f(r):r)),r!==i?r:t.slice(1,t.length-1)})}function nt(n,r,f){f=w(f);var vt,ft,ot,yt,bt,b,p,nt,ei,o,tt,d,kt,ri,g,a,l,pt,dt,ui,gt,fi,ct,c=f.numberFormat,st=c.groupSize[0],lt=c[v],wt=c[u],at=c.decimals,ni=c.pattern[0],ti=[],et=0>n,ii=t,y=t,ht=-1;if(n===i)return t;if(!isFinite(n))return n;if(!r)return f.name.length?n.toLocaleString():""+n;if(bt=it.exec(r)){if(r=bt[1].toLowerCase(),ft="c"===r,ot="p"===r,(ft||ot)&&(c=ft?c.currency:c.percent,st=c.groupSize[0],lt=c[v],wt=c[u],at=c.decimals,vt=c.symbol,ni=c.pattern[et?0:1]),yt=bt[2],yt&&(at=+yt),"e"===r)return yt?n.toExponential(at):n.toExponential();if(ot&&(n*=100),n=e(n,at),et=0>n,n=n.split(u),b=n[0],p=n[1],et&&(b=b.substring(1)),y=b,nt=b.length,nt>=st)for(y=t,o=0;nt>o;o++)o>0&&(nt-o)%st==0&&(y+=lt),y+=b.charAt(o);if(p&&(y+=wt+p),"n"===r&&!et)return y;for(n=t,o=0,tt=ni.length;tt>o;o++)d=ni.charAt(o),n+="n"===d?y:"$"===d||"%"===d?vt:d;return n}if(et&&(n=-n),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(rt,function(n){var t=n.charAt(0).replace("\\",""),i=n.slice(1).replace(t,"");return ti.push(i),k})),r=r.split(";"),et&&r[1])r=r[1],ri=!0;else if(0===n){if(r=r[2]||r[0],-1==r.indexOf(s)&&-1==r.indexOf(h))return r}else r=r[0];if(ui=r.indexOf("%"),gt=r.indexOf("$"),ot=-1!=ui,ft=-1!=gt,ot&&(n*=100),ft&&"\\"===r[gt-1]&&(r=r.split("\\").join(""),ft=!1),(ft||ot)&&(c=ft?c.currency:c.percent,st=c.groupSize[0],lt=c[v],wt=c[u],at=c.decimals,vt=c.symbol),kt=r.indexOf(v)>-1,kt&&(r=r.replace(ut,t)),g=r.indexOf(u),tt=r.length,-1!=g?(p=(""+n).split("e"),p=p[1]?e(n,Math.abs(p[1])):p[0],p=p.split(u)[1]||t,l=r.lastIndexOf(h)-g,a=r.lastIndexOf(s)-g,pt=l>-1,dt=a>-1,o=p.length,pt||dt||(r=r.substring(0,g)+r.substring(g+1),tt=r.length,g=-1,o=0),pt&&l>a?o=l:a>l&&(dt&&o>a?o=a:pt&&l>o&&(o=l)),o>-1&&(n=e(n,o))):n=e(n),a=r.indexOf(s),fi=l=r.indexOf(h),ht=-1==a&&-1!=l?l:-1!=a&&-1==l?a:a>l?l:a,a=r.lastIndexOf(s),l=r.lastIndexOf(h),ct=-1==a&&-1!=l?l:-1!=a&&-1==l?a:a>l?a:l,ht==tt&&(ct=ht),-1!=ht){if(y=(""+n).split(u),b=y[0],p=y[1]||t,nt=b.length,ei=p.length,et&&-1*n>=0&&(et=!1),kt)if(nt===st&&g-fi>nt)b=lt+b;else if(nt>st){for(y=t,o=0;nt>o;o++)o>0&&(nt-o)%st==0&&(y+=lt),y+=b.charAt(o);b=y}for(n=r.substring(0,ht),et&&!ri&&(n+="-"),o=ht;tt>o;o++){if(d=r.charAt(o),-1==g){if(nt>ct-o){n+=b;break}}else if(-1!=l&&o>l&&(ii=t),nt>=g-o&&g-o>-1&&(n+=b,o=g),g===o){n+=(p?wt:t)+p;o+=ct-g+1;continue}d===h?(n+=d,ii=d):d===s&&(n+=ii)}if(ct>=ht&&(n+=r.substring(ct+1)),ft||ot){for(y=t,o=0,tt=n.length;tt>o;o++)d=n.charAt(o),y+="$"===d||"%"===d?vt:d;n=y}if(tt=ti.length)for(o=0;tt>o;o++)n=n.replace(k,ti[o])}return n}var e,c,tt=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,it=/^(n|c|p|e)(\d*)$/i,rt=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,ut=/\,/g,t="",u=".",v=",",s="#",h="0",k="??",b="en-US",ft={}.toString;r.cultures["en-US"]={name:b,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};r.culture=function(n){var t,u=r.cultures;return n===i?u.current:(t=p(n)||u[b],t.calendar=t.calendars.standard,u.current=t,l&&!l.load&&d(t.numberFormat),i)};r.findCulture=p;r.getCulture=w;r.culture(b);e=function(n,t){return t=t||0,n=(""+n).split("e"),n=Math.round(+(n[0]+"e"+(n[1]?+n[1]+t:t))),n=(""+n).split("e"),n=+(n[0]+"e"+(n[1]?+n[1]-t:-t)),n.toFixed(t)};c=function(n,t,r){if(t){if("[object Date]"===ft.call(n))return g(n,t,r);if(typeof n===y)return nt(n,t,r)}return n!==i?n:""};l&&!l.load&&(c=function(t,i,r){return n.isPlainObject(r)&&(r=r.name),l.format(t,i,r)});r.format=function(n){var t=arguments;return n.replace(eu,function(n,i,r){var u=t[parseInt(i,10)+1];return c(u,r?r.substring(1):"")})};r._extractFormat=function(n){return"{0:"===n.slice(0,3)&&(n=n.slice(3,n.length-1)),n};r._activeElement=function(){try{return document.activeElement}catch(n){return document.documentElement.activeElement}};r._round=e;r.toString=c}(),function(){function t(n,t,i){return!(n>=t&&i>=n)}function c(n){return n.charAt(0)}function u(t){return n.map(t,c)}function a(n,t){t||23!==n.getHours()||n.setHours(n.getHours()+2)}function v(n){for(var t=0,r=n.length,i=[];r>t;t++)i[t]=(n[t]+"").toLowerCase();return i}function f(n){var t,i={};for(t in n)i[t]=v(n[t]);return i}function p(n,r,e){if(!n)return null;var l,o,dt,yt,pt,wt,ft,ht,ct,p,g,gt,ot,w=function(n){for(var t=0;r[ut]===n;)t++,ut++;return t>0&&(ut-=1),t},tt=function(t){var r=s[t]||RegExp("^\\d{1,"+t+"}"),i=n.substr(y,t).match(r);return i?(i=i[0],y+=i.length,parseInt(i,10)):null},lt=function(t,i){for(var f,e,r,u=0,o=t.length;o>u;u++)if(f=t[u],e=f.length,r=n.substr(y,e),i&&(r=r.toLowerCase()),r==f)return y+=e,u+1;return null},at=function(){var t=!1;return n.charAt(y)===r[ut]&&(y++,t=!0),t},v=e.calendars.standard,c=null,it=null,b=null,h=null,rt=null,et=null,nt=null,ut=0,y=0,bt=!1,kt=new Date,vt=v.twoDigitYearMax||2029,st=kt.getFullYear();for(r||(r="d"),yt=v.patterns[r],yt&&(r=yt),r=r.split(""),dt=r.length;dt>ut;ut++)if(l=r[ut],bt)"'"===l?bt=!1:at();else if("d"===l){if(o=w("d"),v._lowerDays||(v._lowerDays=f(v.days)),b=3>o?tt(2):lt(v._lowerDays[3==o?"namesAbbr":"names"],!0),null===b||t(b,1,31))return null}else if("M"===l){if(o=w("M"),v._lowerMonths||(v._lowerMonths=f(v.months)),it=3>o?tt(2):lt(v._lowerMonths[3==o?"namesAbbr":"names"],!0),null===it||t(it,1,12))return null;it-=1}else if("y"===l){if(o=w("y"),c=tt(o),null===c)return null;2==o&&("string"==typeof vt&&(vt=st+parseInt(vt,10)),c=st-st%100+c,c>vt&&(c-=100))}else if("h"===l){if(w("h"),h=tt(2),12==h&&(h=0),null===h||t(h,0,11))return null}else if("H"===l){if(w("H"),h=tt(2),null===h||t(h,0,23))return null}else if("m"===l){if(w("m"),rt=tt(2),null===rt||t(rt,0,59))return null}else if("s"===l){if(w("s"),et=tt(2),null===et||t(et,0,59))return null}else if("f"===l){if(o=w("f"),ot=n.substr(y,o).match(s[3]),nt=tt(o),null!==nt&&(ot=ot[0].length,3>ot&&(nt*=Math.pow(10,3-ot)),o>3&&(nt=parseInt((""+nt).substring(0,3),10))),null===nt||t(nt,0,999))return null}else if("t"===l){if(o=w("t"),ht=v.AM,ct=v.PM,1===o&&(ht=u(ht),ct=u(ct)),pt=lt(ct),!pt&&!lt(ht))return null}else if("z"===l){if(wt=!0,o=w("z"),"Z"===n.substr(y,1)){at();continue}if((ft=n.substr(y,6).match(o>2?d:k),!ft)||(ft=ft[0].split(":"),p=ft[0],g=ft[1],!g&&p.length>3&&(y=p.length-2,g=p.substring(y),p=p.substring(0,y)),p=parseInt(p,10),t(p,-12,13))||o>2&&(g=parseInt(g,10),isNaN(g)||t(g,0,59)))return null}else if("'"===l)bt=!0,at();else if(!at())return null;return gt=null!==h||null!==rt||et||null,null===c&&null===it&&null===b&&gt?(c=st,it=kt.getMonth(),b=kt.getDate()):(null===c&&(c=st),null===b&&(b=1)),pt&&12>h&&(h+=12),wt?(p&&(h+=-p),g&&(rt+=-g),n=new Date(Date.UTC(c,it,b,h,rt,et,nt))):(n=new Date(c,it,b,h,rt,et,nt),a(n,h)),100>c&&n.setFullYear(c),n.getDate()!==b&&wt===i?null:n}function w(n){var t="-"===n.substr(0,1)?-1:1;return n=n.substring(1),n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),t*n}var e=/\u00A0/g,b=/[eE][\-+]?[0-9]+/,k=/[+|\-]\d{1,2}/,d=/[+|\-]\d{1,2}:?\d{2}/,g=/^\/Date\((.*?)\)\/$/,nt=/[+-]\d*/,o=["G","g","d","F","D","y","m","T","t"],s={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},h={}.toString;r.parseDate=function(n,t,i){var f,u,s,c,e;if("[object Date]"===h.call(n))return n;if(f=0,u=null,n&&0===n.indexOf("/D")&&(u=g.exec(n)))return u=u[1],e=nt.exec(u.substring(1)),u=new Date(parseInt(u,10)),e&&(e=w(e[0]),u=r.timezone.apply(u,0),u=r.timezone.convert(u,0,-1*e)),u;if(i=r.getCulture(i),!t){for(t=[],c=i.calendar.patterns,s=o.length;s>f;f++)t[f]=c[o[f]];f=0;t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=fu(t)?t:[t],s=t.length;s>f;f++)if(u=p(n,t[f],i))return u;return u};r.parseInt=function(n,t){var i=r.parseFloat(n,t);return i&&(i=0|i),i};r.parseFloat=function(n,t,i){if(!n&&0!==n)return null;if(typeof n===y)return n;n=""+n;t=r.getCulture(t);var f,h,u=t.numberFormat,c=u.percent,l=u.currency,s=l.symbol,a=c.symbol,o=n.indexOf("-");return b.test(n)?(n=parseFloat(n.replace(u["."],".")),isNaN(n)&&(n=null),n):o>0?null:(o=o>-1,n.indexOf(s)>-1||i&&i.toLowerCase().indexOf("c")>-1?(u=l,f=u.pattern[0].replace("$",s).split("n"),n.indexOf(f[0])>-1&&n.indexOf(f[1])>-1&&(n=n.replace(f[0],"").replace(f[1],""),o=!0)):n.indexOf(a)>-1&&(h=!0,u=c,s=a),n=n.replace("-","").replace(s,"").replace(e," ").split(u[","].replace(e," ")).join("").replace(u["."],"."),n=parseFloat(n),isNaN(n)?n=null:o&&(n*=-1),n&&h&&(n/=100),n)};l&&!l.load&&(r.parseDate=function(n,t,i){return"[object Date]"===h.call(n)?n:l.parseDate(n,t,i)},r.parseFloat=function(t,r){return typeof t===y?t:t===i||null===t?null:(n.isPlainObject(r)&&(r=r.name),t=l.parseFloat(t,r),isNaN(t)?null:t)})}(),function(){var h,s,c,e,f,r,l;u._scrollbar=i;u.scrollbar=function(n){if(isNaN(u._scrollbar)||n){var i,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),u._scrollbar=i=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),i}return u._scrollbar};u.isRtl=function(t){return n(t).closest(".k-rtl").length>0};h=document.createElement("table");try{h.innerHTML="<tr><td><\/td><\/tr>";u.tbodyInnerHtml=!0}catch(a){u.tbodyInnerHtml=!1}u.touch="ontouchstart"in t;u.msPointers=t.MSPointerEvent;u.pointers=t.PointerEvent;s=u.transitions=!1;c=u.transforms=!1;e="HTMLElement"in t?HTMLElement.prototype:[];u.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style;rt(["Moz","webkit","O","ms"],function(){var n,t=""+this,r=typeof h.style[t+"Transition"]===o;return r||typeof h.style[t+"Transform"]===o?(n=t.toLowerCase(),c={css:"ms"!=n?"-"+n+"-":"",prefix:t,event:"o"===n||"webkit"===n?n:""},r&&(s=c,s.event=s.event?s.event+"TransitionEnd":"transitionend"),!1):i});h=null;u.transforms=c;u.transitions=s;u.devicePixelRatio=t.devicePixelRatio===i?1:t.devicePixelRatio;try{u.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth;u.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(a){u.screenWidth=t.screen.availWidth;u.screenHeight=t.screen.availHeight}u.detectOS=function(n){var f,r,i=!1,e=[],s=!/mobile safari/i.test(n),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(r in o)if(o.hasOwnProperty(r)&&(e=n.match(o[r]))){if("windows"==r&&"plugins"in navigator)return!1;i={};i.device=r;i.tablet=ct(r,c,!1);i.browser=ct(n,l,"default");i.name=ct(r,h);i[i.name]=!0;i.majorVersion=e[2];i.minorVersion=e[3].replace("_",".");f=i.minorVersion.replace(".","").substr(0,2);i.flatVersion=i.majorVersion+f+Array(3-(3>f.length?f.length:2)).join("0");i.cordova=typeof t.PhoneGap!==st||typeof t.cordova!==st;i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova;i.android&&(1.5>u.devicePixelRatio&&400>i.flatVersion||s)&&(u.screenWidth>800||u.screenHeight>800)&&(i.tablet=r);break}return i};f=u.mobileOS=u.detectOS(navigator.userAgent);u.wpDevicePixelRatio=f.wp?screen.width/320:0;u.kineticScrollNeeded=f&&(u.touch||u.msPointers||u.pointers);u.hasNativeScrolling=!1;(f.ios||f.android&&f.majorVersion>2||f.wp)&&(u.hasNativeScrolling=f);u.mouseAndTouchPresent=u.touch&&!(u.mobileOS.ios||u.mobileOS.android);u.detectBrowser=function(n){var i,t=!1,r=[],u={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in u)if(u.hasOwnProperty(i)&&(r=n.match(u[i]))){t={};t[i]=!0;t[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0;t.version=parseInt(document.documentMode||r[2],10);break}return t};u.browser=u.detectBrowser(navigator.userAgent);u.zoomLevel=function(){try{return u.touch?document.documentElement.clientWidth/t.innerWidth:u.browser.msie&&u.browser.version>=10?(top||t).document.documentElement.offsetWidth/(top||t).innerWidth:1}catch(n){return 1}};u.cssBorderSpacing=i!==document.documentElement.style.borderSpacing&&!(u.browser.msie&&8>u.browser.version),function(t){var i="",r=n(document.documentElement),f=parseInt(t.version,10);t.msie?i="ie":t.mozilla?i="ff":t.safari?i="safari":t.webkit?i="webkit":t.opera&&(i="opera");i&&(i="k-"+i+" k-"+i+f);u.mobileOS&&(i+=" k-mobile");r.addClass(i)}(u.browser);u.eventCapture=document.documentElement.addEventListener;r=document.createElement("input");u.placeholder="placeholder"in r;u.propertyChangeEvent="onpropertychange"in r;u.input=function(){for(var n,i=["number","date","time","month","week","datetime","datetime-local"],e=i.length,u="test",f={},t=0;e>t;t++)n=i[t],r.setAttribute("type",n),r.value=u,f[n.replace("-","")]="text"!==r.type&&r.value!==u;return f}();r.style.cssText="float:left;";u.cssFloat=!!r.style.cssFloat;r=null;u.stableSort=function(){for(var t=[{index:0,field:"b"}],n=1;513>n;n++)t.push({index:n,field:"a"});return t.sort(function(n,t){return n.field>t.field?1:t.field>n.field?-1:0}),1===t[0].index}();u.matchesSelector=e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.matchesSelector||e.matches||function(t){for(var i=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:n(t),r=i.length;r--;)if(i[r]==this)return!0;return!1};u.pushState=t.history&&t.history.pushState;l=document.documentMode;u.hashChange="onhashchange"in t&&!(u.browser.msie&&(!l||8>=l))}();vi={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};w={};n.extend(w,{enabled:!0,Element:function(t){this.element=n(t)},promise:function(n,t){n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display");t.hide&&n.data("olddisplay",n.css("display")).hide();t.init&&t.init();t.completeCallback&&t.completeCallback(n);n.dequeue()},disable:function(){this.enabled=!1;this.promise=this.promiseShim},enable:function(){this.enabled=!0;this.promise=this.animatedPromise}});w.promiseShim=w.promise;"kendoAnimate"in n.fn||h(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return ii(this,n,t,i,r)},kendoAddClass:function(n,t){return r.toggleClass(this,n,t,!0)},kendoRemoveClass:function(n,t){return r.toggleClass(this,n,t,!1)},kendoToggleClass:function(n,t,i){return r.toggleClass(this,n,t,i)}});yi=/&/g;pi=/</g;wi=/"/g;bi=/'/g;ki=/>/g;at=function(n){return n.target};u.touch&&(at=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):n.target},rt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}}));u.touch?u.mobileOS?(u.mousedown="touchstart",u.mouseup="touchend",u.mousemove="touchmove",u.mousecancel="touchcancel",u.click="touchend",u.resize="orientationchange"):(u.mousedown="mousedown touchstart",u.mouseup="mouseup touchend",u.mousemove="mousemove touchmove",u.mousecancel="mouseleave touchcancel",u.click="click",u.resize="resize"):u.pointers?(u.mousemove="pointermove",u.mousedown="pointerdown",u.mouseup="pointerup",u.mousecancel="pointercancel",u.click="pointerup",u.resize="orientationchange resize"):u.msPointers?(u.mousemove="MSPointerMove",u.mousedown="MSPointerDown",u.mouseup="MSPointerUp",u.mousecancel="MSPointerCancel",u.click="MSPointerUp",u.resize="orientationchange resize"):(u.mousemove="mousemove",u.mousedown="mousedown",u.mouseup="mouseup",u.mousecancel="mouseleave",u.click="click",u.resize="resize");di=function(n,t){for(var r,i,o=t||"d",e=1,u=0,f=n.length;f>u;u++)i=n[u],""!==i&&(r=i.indexOf("["),0!==r&&(-1==r?i="."+i:(e++,i="."+i.substring(0,r)+" || {})"+i.substring(r))),e++,o+=i+(f-1>u?" || {})":")"));return Array(e).join("(")+o};gi=/^([a-z]+:)?\/\//i;h(r,{ui:r.ui||{},fx:r.fx||kr,effects:r.effects||w,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||u,animate:r.animate||ii,ns:"",attr:function(n){return"data-"+r.ns+n},getShadows:gt,wrap:ar,deepExtend:ht,getComputedStyles:yr,size:pr,toCamelCase:ti,toHyphens:vr,getOffset:r.getOffset||wr,parseEffects:r.parseEffects||br,toggleClass:r.toggleClass||gr,directions:r.directions||vi,Observable:tt,Class:nt,Template:p,template:kt(p.compile,p),render:kt(p.render,p),stringify:kt(ft.stringify,ft),eventTarget:at,htmlEncode:nu,isLocalUrl:function(n){return n&&!gi.test(n)},expr:function(n,t,i){return n=n||"",typeof t==o&&(i=t,t=!1),i=i||"d",n&&"["!==n.charAt(0)&&(n="."+n),t?(n=n.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),n=n.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),n=di(n.split("."),i),n=n.replace(/_\$DOT\$_/g,".")):n=i+n,n},getter:function(n,t){var i=n+t;return hr[i]=hr[i]||Function("d","return "+r.expr(n,t))},setter:function(n){return cr[n]=cr[n]||Function("d,value",r.expr(n)+"=value")},accessor:function(n){return{get:r.getter(n),set:r.setter(n)}},guid:function(){for(var t,i="",n=0;32>n;n++)t=16*a.random()|0,(8==n||12==n||16==n||20==n)&&(i+="-"),i+=(12==n?4:16==n?3&t|8:t).toString(16);return i},roleSelector:function(n){return n.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(n){var t,i=n.split(" ");if(i)for(t=0;i.length>t;t++)"view"!=i[t]&&(i[t]=i[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return i.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(n){return/^(label|input|textarea|select)$/i.test(n.target.tagName)},logToConsole:function(n){var u=t.console;!r.suppressLog&&i!==u&&u.log&&u.log(n)}});b=tt.extend({init:function(n,t){var u,i=this;i.element=r.jQuery(n).handler(i);i.angular("init",t);tt.fn.init.call(i);u=t?t.dataSource:null;u&&(t=h({},t,{dataSource:{}}));t=i.options=h(!0,{},i.options,t);u&&(t.dataSource=u);i.element.attr(r.attr("role"))||i.element.attr(r.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(n){n=n||this.wrapper;var i=this.element,t="tabindex",r=n.attr(t)||i.attr(t);i.removeAttr(t);n.attr(t,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t);n.extend(this.options,t)},_setEvents:function(n){for(var i,t=this,r=0,u=t.events.length;u>r;r++)i=t.events[r],t.options[i]&&n[i]&&t.unbind(i,t.options[i]);t.bind(t.events,n)},resize:function(n){var t=this.getSize(),i=this._size;(n||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,n),this.trigger("resize",t))},getSize:function(){return r.dimensions(this.element)},size:function(n){return n?(this.setSize(n),i):this.getSize()},setSize:n.noop,_resize:n.noop,destroy:function(){var n=this;n.element.removeData("kendo"+n.options.prefix+n.options.name);n.element.removeData("handler");n.unbind()},angular:function(){}});vt=b.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:n.map(i.dataItems(),function(n){return{dataItem:n}})}})}});r.dimensions=function(n,t){var i=n[0];return t&&n.css(t),{width:i.offsetWidth,height:i.offsetHeight}};r.notify=ut;nr=/template$/i;tr=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/;ir=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/;rr=/([A-Z])/g;r.initWidget=function(u,f,e){var h,p,s,v,d,c,w,l,b,g,y,k,a;if(e?e.roles&&(e=e.roles):e=r.ui.roles,u=u.nodeType?u:u[0],c=u.getAttribute("data-"+r.ns+"role")){b=-1===c.indexOf(".");s=b?e[c]:r.getter(c)(t);y=n(u).data();k=s?"kendo"+s.fn.options.prefix+s.fn.options.name:"";g=b?RegExp("^kendo.*"+c+"$","i"):RegExp("^"+k+"$","i");for(a in y)if(a.match(g)){if(a!==k)return y[a];h=y[a]}if(s){for(l=lt(u,"dataSource"),f=n.extend({},ri(u,s.fn.options),f),l&&(f.dataSource=typeof l===o?r.getter(l)(t):l),v=0,d=s.fn.events.length;d>v;v++)p=s.fn.events[v],w=lt(u,p),w!==i&&(f[p]=r.getter(w)(t));return h?n.isEmptyObject(f)||h.setOptions(f):h=new s(u,f),h}}};r.rolesFromNamespaces=function(n){var t,i,u=[];for(n[0]||(n=[r.ui,r.dataviz.ui]),t=0,i=n.length;i>t;t++)u[t]=n[t].roles;return h.apply(null,[{}].concat(u.reverse()))};r.init=function(t){var i=r.rolesFromNamespaces(dt.call(arguments,1));n(t).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},i)})};r.destroy=function(t){n(t).find("[data-"+r.ns+"role]").addBack().each(function(){var t,i=n(this).data();for(t in i)0===t.indexOf("kendo")&&typeof i[t].destroy===c&&i[t].destroy()})};r.resize=function(t,i){var u,f=n(t).find("[data-"+r.ns+"role]").addBack().filter(iu);f.length&&(u=n.makeArray(f),u.sort(tu),n.each(u,function(){var t=r.widgetInstance(n(this));t&&t.resize(i)}))};r.parseOptions=ri;h(r.ui,{Widget:b,DataBoundWidget:vt,roles:{},progress:function(t,i){var f,o,s,e,u=t.find(".k-loading-mask"),h=r.support,c=h.browser;i?u.length||(f=h.isRtl(t),o=f?"right":"left",e=t.scrollLeft(),s=c.webkit&&f?t[0].scrollWidth-t.width()-2*e:0,u=n("<div class='k-loading-mask'><span class='k-loading-text'>Loading...<\/span><div class='k-loading-image'/><div class='k-loading-color'/><\/div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(e)+s).prependTo(t)):u&&u.remove()},plugin:function(t,u,f){var s,e=t.fn.options.name;u=u||r.ui;f=f||"";u[e]=t;u.roles[e.toLowerCase()]=t;s="getKendo"+f+e;e="kendo"+f+e;n.fn[e]=function(u){var f,s=this;return typeof u===o?(f=dt.call(arguments,1),this.each(function(){var t,o,h=n.data(this,e);if(!h)throw Error(r.format("Cannot call method '{0}' of {1} before it is initialized",u,e));if(t=h[u],typeof t!==c)throw Error(r.format("Cannot find method '{0}' of {1}",u,e));return o=t.apply(h,f),o!==i?(s=o,!1):i})):this.each(function(){new t(this,u)}),s};n.fn[e].widget=t;n.fn[s]=function(){return this.data(e)}}});yt={bind:function(){return this},nullObject:!0,options:{}};pt=b.extend({init:function(n,t){b.fn.init.call(this,n,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){b.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var n=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(n,r.mobile.ui)||yt},viewHasNativeScrolling:function(){var n=this.view();return n&&n.options.useNativeScrolling},container:function(){var n=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(n.eq(0),r.mobile.ui)||yt}});h(r.mobile,{init:function(n){r.init(n,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:pt,DataBoundWidget:vt.extend(pt.prototype),roles:{},plugin:function(n){r.ui.plugin(n,r.mobile.ui,"Mobile")}}});ht(r.dataviz,{init:function(n){r.init(n,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(n){r.ui.plugin(n,r.dataviz.ui)}},roles:{}});r.touchScroller=function(t,i){return n(t).map(function(t,f){return f=n(f),u.kineticScrollNeeded&&r.mobile.ui.Scroller&&!f.data("kendoMobileScroller")?(f.kendoMobileScroller(i),f.data("kendoMobileScroller")):!1})[0]};r.preventDefault=function(n){n.preventDefault()};r.widgetInstance=function(n,i){var f,o,s,h,u=n.data(r.ns+"role"),e=[];if(u){if("content"===u&&(u="scroller"),i)if(i[0])for(f=0,o=i.length;o>f;f++)e.push(i[f].roles[u]);else e.push(i.roles[u]);else e=[r.ui.roles[u],r.dataviz.ui.roles[u],r.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(e=[r.getter(u)(t)]),f=0,o=e.length;o>f;f++)if(s=e[f],s&&(h=n.data("kendo"+s.fn.options.prefix+s.fn.options.name)))return h}};r.onResize=function(i){var r=i;return u.mobileOS.android&&(r=function(){setTimeout(i,600)}),n(t).on(u.resize,r),r};r.unbindResize=function(i){n(t).off(u.resize,i)};r.attrValue=function(n,t){return n.data(r.ns+t)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};n.extend(n.expr[":"],{kendoFocusable:function(t){var i=n.attr(t,"tabindex");return ru(t,!isNaN(i)&&i>-1)}});wt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];ur="label, input, [data-rel=external]";e={setupMouseMute:function(){var i,t=0,r=wt.length,f=document.documentElement;if(!e.mouseTrap&&u.eventCapture)for(e.mouseTrap=!0,e.bustClick=!1,e.captureMouse=!1,i=function(t){e.captureMouse&&("click"===t.type?e.bustClick&&!n(t.target).is(ur)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>t;t++)f.addEventListener(wt[t],i,!0)},muteMouse:function(n){e.captureMouse=!0;n.data.bustClick&&(e.bustClick=!0);clearTimeout(e.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(e.mouseTrapTimeoutID);e.mouseTrapTimeoutID=setTimeout(function(){e.captureMouse=!1;e.bustClick=!1},400)}};k={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};u.touch&&(u.mobileOS.ios||u.mobileOS.android)?k={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:u.pointers?k={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:u.msPointers&&(k={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"});!u.msPointers||"onmspointerenter"in t||n.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,i){n.event.special[t]={delegateType:i,bindType:i,handle:function(t){var u,f=this,r=t.relatedTarget,e=t.handleObj;return(!r||r!==f&&!n.contains(f,r))&&(t.type=e.origType,u=e.handler.apply(this,arguments),t.type=i),u}}});fr=function(n){return k[n]||n};bt=/([^ ]+)/g;r.applyEventMap=function(n,t){return n=n.replace(bt,fr),t&&(n=n.replace(bt,"$1."+t)),n};it=n.fn.on;h(!0,s,n);s.fn=s.prototype=new n;s.fn.constructor=s;s.fn.init=function(t,i){return i&&i instanceof n&&!(i instanceof s)&&(i=s(i)),n.fn.init.call(this,t,i,er)};s.fn.init.prototype=s.fn;er=s(document);h(s.fn,{handler:function(n){return this.data("handler",n),this},autoApplyNS:function(n){return this.data("kendoNS",n||r.guid()),this},on:function(){var s,n,i,f,h,c,t=this,l=t.data("kendoNS");return 1===arguments.length?it.call(t,arguments[0]):(s=t,n=dt.call(arguments),typeof n[n.length-1]===st&&n.pop(),i=n[n.length-1],f=r.applyEventMap(n[0],l),u.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(e.setupMouseMute(),h=2===n.length?null:n[1],c=f.indexOf("click")>-1&&f.indexOf("touchend")>-1,it.call(this,{touchstart:e.muteMouse,touchend:e.unMuteMouse},h,{bustClick:c})),typeof i===o&&(s=t.data("handler"),i=s[i],n[n.length-1]=function(n){i.call(s,n)}),n[0]=f,it.apply(t,n),t)},kendoDestroy:function(n){return n=n||this.data("kendoNS"),n&&this.off("."+n),this}});r.jQuery=s;r.eventMap=k;r.timezone=function(){function t(t,i){var r,o,s,c=i[3],e=i[4],f=i[5],h=i[8];return h||(i[8]=h={}),h[t]?h[t]:(isNaN(e)?0===e.indexOf("last")?(r=new Date(Date.UTC(t,n[c]+1,1,f[0]-24,f[1],f[2],0)),o=u[e.substr(4,3)],s=r.getUTCDay(),r.setUTCDate(r.getUTCDate()+o-s-(o>s?7:0))):e.indexOf(">=")>=0&&(r=new Date(Date.UTC(t,n[c],e.substr(5),f[0],f[1],f[2],0)),o=u[e.substr(0,3)],s=r.getUTCDay(),r.setUTCDate(r.getUTCDate()+o-s+(s>o?7:0))):r=new Date(Date.UTC(t,n[c],e,f[0],f[1],f[2],0)),h[t]=r)}function f(n,i,r){var f,e,u,o;return(i=i[r])?(u=new Date(n).getUTCFullYear(),i=jQuery.grep(i,function(n){var i=n[0],t=n[1];return u>=i&&(t>=u||i==u&&"only"==t||"max"==t)}),i.push(n),i.sort(function(n,i){return"number"!=typeof n&&(n=+t(u,n)),"number"!=typeof i&&(i=+t(u,i)),n-i}),o=i[jQuery.inArray(n,i)-1]||i[i.length-1],isNaN(o)?o:null):(f=r.split(":"),e=0,f.length>1&&(e=60*f[0]+ +f[1]),[-1e6,"max","-","Jan",1,[0,0,0],e,"-"])}function e(n,t,i){var u,f,e,r=t[i];if("string"==typeof r&&(r=t[r]),!r)throw Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(u=r.length-1;u>=0&&(f=r[u][3],!(f&&n>f));u--);if(e=r[u+1],!e)throw Error('Timezone "'+i+'" not found on '+n+".");return e}function i(n,t,i,r){typeof n!=y&&(n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));var u=e(n,t,r);return{zone:u,rule:f(n,i,u[1])}}function s(n,t){var u,f,e;return"Etc/UTC"==t||"Etc/GMT"==t?0:(u=i(n,this.zones,this.rules,t),f=u.zone,e=u.rule,r.parseFloat(e?f[0]-e[6]:f[0]))}function h(n,t){var f=i(n,this.zones,this.rules,t),e=f.zone,r=f.rule,u=e[2];return u.indexOf("/")>=0?u.split("/")[r&&+r[6]?1:0]:u.indexOf("%s")>=0?u.replace("%s",r&&"-"!=r[7]?r[7]:""):u}function c(n,t,i){var r,u;return typeof t==o&&(t=this.offset(n,t)),typeof i==o&&(i=this.offset(n,i)),r=n.getTimezoneOffset(),n=new Date(n.getTime()+6e4*(t-i)),u=n.getTimezoneOffset(),new Date(n.getTime()+6e4*(u-r))}function l(n,t){return this.convert(n,n.getTimezoneOffset(),t)}function a(n,t){return this.convert(n,t,n.getTimezoneOffset())}function v(n){return this.apply(new Date(n),"Etc/UTC")}var n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:s,convert:c,apply:l,remove:a,abbr:h,toLocalDate:v}}();r.date=function(){function t(n,t){return 0===t&&23===n.getHours()?(n.setHours(n.getHours()+2),!0):!1}function e(n,i,r){var u=n.getHours();r=r||1;i=(i-n.getDay()+7*r)%7;n.setDate(n.getDate()+i);t(n,u)}function c(n,t,i){return n=new Date(n),e(n,t,i),n}function o(n){return new Date(n.getFullYear(),n.getMonth(),1)}function l(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0),i=o(n),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return r&&t.setHours(i.getHours()+r/60),t}function i(n){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),t(n,0),n}function a(n){return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function r(n){return n.getTime()-i(n)}function v(t,i,u){var f,e=r(i),o=r(u);return t&&e!=o?(i>=u&&(u+=n),f=r(t),e>f&&(f+=n),e>o&&(o+=n),f>=e&&o>=f):!0}function y(t,i,r){var u,e=i.getTime(),f=r.getTime();return e>=f&&(f+=n),u=t.getTime(),u>=e&&f>=u}function u(i,r){var u=i.getHours();return i=new Date(i),s(i,r*n),t(i,u),i}function s(n,t,i){var r,u=n.getTimezoneOffset();n.setTime(n.getTime()+t);i||(r=n.getTimezoneOffset()-u,n.setTime(n.getTime()+r*f))}function h(){return i(new Date)}function p(n){return i(n).getTime()==h().getTime()}function w(n){var t=new Date(1980,1,1,0,0,0);return n&&t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var f=6e4,n=864e5;return{adjustDST:t,dayOfWeek:c,setDayOfWeek:e,getDate:i,isInDateRange:y,isInTimeRange:v,isToday:p,nextDay:function(n){return u(n,1)},previousDay:function(n){return u(n,-1)},toUtcTime:a,MS_PER_DAY:n,MS_PER_HOUR:60*f,MS_PER_MINUTE:f,setTime:s,addDays:u,today:h,toInvariantTime:w,firstDayOfMonth:o,lastDayOfMonth:l,getMilliseconds:r}}();r.stripWhitespace=function(n){var t,u,i;if(document.createNodeIterator)for(t=document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(u=0;n.childNodes.length>u;u++)i=n.childNodes[u],3!=i.nodeType||/\S/.test(i.nodeValue)||(n.removeChild(i),u--),1==i.nodeType&&r.stripWhitespace(i)};or=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};r.animationFrame=function(n){or.call(t,n)};v=[];r.queueAnimation=function(n){v[v.length]=n;1===v.length&&r.runNextAnimation()};r.runNextAnimation=function(){r.animationFrame(function(){v[0]&&(v.shift()(),v[0]&&r.runNextAnimation())})};r.parseQueryStringParams=function(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;f>t;t+=2)""!==i[t]&&(r[decodeURIComponent(i[t])]=decodeURIComponent(i[t+1]));return r};r.elementUnderCursor=function(n){return i!==n.x.client?document.elementFromPoint(n.x.client,n.y.client):i};r.wheelDeltaY=function(n){var r,t=n.originalEvent,u=t.wheelDeltaY;return t.wheelDelta?(u===i||u)&&(r=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(r=10*-t.detail),r};r.throttle=function(n,t){var r,u,f=0;return!t||0>=t?n:(u=function(){function u(){n.apply(o,s);f=+new Date}var o=this,e=+new Date-f,s=arguments;return f?(r&&clearTimeout(r),e>t?u():r=setTimeout(u,t-e),i):u()},u.cancel=function(){clearTimeout(r)},u)};r.caret=function(t,r,u){var f,e,o,h,s=r!==i;if(u===i&&(u=r),t[0]&&(t=t[0]),!s||!t.disabled){try{t.selectionStart!==i?s?(t.focus(),t.setSelectionRange(r,u)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(n(t).is(":visible")&&t.focus(),f=t.createTextRange(),s?(f.collapse(!0),f.moveStart("character",r),f.moveEnd("character",u-r),f.select()):(e=f.duplicate(),f.moveToBookmark(document.selection.createRange().getBookmark()),e.setEndPoint("EndToStart",f),o=e.text.length,h=o+f.text.length,r=[o,h]))}catch(c){r=[]}return r}};r.compileMobileDirective=function(n,i){var u=t.angular;return n.attr("data-"+r.ns+"role",n[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),u.element(n).injector().invoke(["$compile",function(t){t(n)(i);/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),r.widgetInstance(n,r.mobile.ui)};r.antiForgeryTokens=function(){var t={},r=n("meta[name=csrf-token],meta[name=_csrf]").attr("content"),u=n("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return n("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),u!==i&&r!==i&&(t[u]=r),t},function(){function u(t,i,u,f){var s,o,h=n("<form>").attr({action:u,method:"POST",target:f}),e=r.antiForgeryTokens();e.fileName=i;s=t.split(";base64,");e.contentType=s[0].replace("data:","");e.base64=s[1];for(o in e)e.hasOwnProperty(o)&&n("<input>").attr({value:e[o],name:o,type:"hidden"}).appendTo(h);h.appendTo("body").submit().remove()}function f(n,t){var u,e,r,f,i,o=n;if("string"==typeof n){for(u=n.split(";base64,"),e=u[0],r=atob(u[1]),f=new Uint8Array(r.length),i=0;r.length>i;i++)f[i]=r.charCodeAt(i);o=new Blob([f.buffer],{type:e})}navigator.msSaveBlob(o,t)}function e(n,r){t.Blob&&n instanceof Blob&&(n=URL.createObjectURL(n));i.download=r;i.href=n;var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null);i.dispatchEvent(u)}var i=document.createElement("a"),o="download"in i;r.saveAs=function(n){var t=u;n.forceProxy||(o?t=e:navigator.msSaveBlob&&(t=f));t(n.dataURI,n.fileName,n.proxyURL,n.proxyTarget)}}()})(jQuery,window),function(n,t){function u(r,e){for(var h,v,o,a,c,w,y=[],k=r.logic||"and",b=r.filters,l=0,p=b.length;p>l;l++)r=b[l],h=r.field,c=r.value,a=r.operator,r.filters?r=u(r,e):(w=r.ignoreCase,h=h.replace(/\./g,"/"),r=f[a],e&&(r=s[a]),r&&c!==t&&(v=n.type(c),"string"===v?(o="'{1}'",c=c.replace(/'/g,"''"),w===!0&&(h="tolower("+h+")")):o="date"===v?e?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",r.length>3?"substringof"!==r?o="{0}({2},"+o+")":(o="{0}("+o+",{2})","doesnotcontain"===a&&(e?(o="{0}({2},'{1}') eq -1",r="indexof"):o+=" eq false")):o="{2} {0} "+o,r=i.format(o,r,c,h))),y.push(r);return r=y.join(" "+k+" "),y.length>1&&(r="("+r+")"),r}function o(n){for(var t in n)0===t.indexOf("@odata")&&delete n[t]}var i=window.kendo,r=n.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},s=r({},f,{contains:"contains"}),e={pageSize:n.noop,page:n.noop,filter:function(n,t,i){t&&(n.$filter=u(t,i))},sort:function(t,i){var r=n.map(i,function(n){var t=n.field.replace(/\./g,"/");return"desc"===n.dir&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(n,t){t&&(n.$skip=t)},take:function(n,t){t&&(n.$top=t)}},h={read:{dataType:"jsonp"}};r(!0,i.data,{schemas:{odata:{type:"json",data:function(n){return n.d.results||[n.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t,r){var f,s,u,o;if(n=n||{},t=t||"read",o=(this.options||h)[t],o=o?o.dataType:"json","read"===t){f={$inlinecount:"allpages"};"json"!=o&&(f.$format="json");for(u in n)e[u]?e[u](f,n[u],r):f[u]=n[u]}else{if("json"!==o)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(u in n)s=n[u],"number"==typeof s&&(n[u]=s+"");f=i.stringify(n)}}return f}}}});r(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(t){return t=n.extend({},t),o(t),t.value?t.value:[t]},total:function(n){return n["@odata.count"]}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t){var r=i.data.transports.odata.parameterMap(n,t,!0);return"read"==t&&(r.$count=!0,delete r.$inlinecount),r}}}})}(window.kendo.jQuery),function(n,t){var i=window.kendo,r=n.isArray,u=n.isPlainObject,o=n.map,s=n.each,f=n.extend,h=i.getter,c=i.Class,e=c.extend({init:function(t){var p,v,y,w,e=this,c=t.total,h=t.model,b=t.parse,l=t.errors,k=t.serialize,a=t.data;h&&(u(h)&&(p=t.modelBase||i.data.Model,h.fields&&s(h.fields,function(t,i){u(i)&&i.field?n.isFunction(i.field)||(i=f(i,{field:e.getter(i.field)})):i={field:e.getter(i)};h.fields[t]=i}),v=h.id,v&&(y={},y[e.xpathToMember(v,!0)]={field:e.getter(v)},h.fields=f(y,h.fields),h.id=e.xpathToMember(v)),h=p.define(h)),e.model=h);c&&("string"==typeof c?(c=e.getter(c),e.total=function(n){return parseInt(c(n),10)}):"function"==typeof c&&(e.total=c));l&&("string"==typeof l?(l=e.getter(l),e.errors=function(n){return l(n)||null}):"function"==typeof l&&(e.errors=l));a&&("string"==typeof a?(a=e.xpathToMember(a),e.data=function(n){var i,t=e.evaluate(n,a);return t=r(t)?t:[t],e.model&&h.fields?(i=new e.model,o(t,function(n){if(n){var t,r={};for(t in h.fields)r[t]=i._parse(t,h.fields[t].field(n));return r}})):t}):"function"==typeof a&&(e.data=a));"function"==typeof b&&(w=e.parse,e.parse=function(n){var t=b.call(e,n);return w.call(e,t)});"function"==typeof k&&(e.serialize=k)},total:function(n){return this.data(n).length},errors:function(n){return n?n.errors:null},serialize:function(n){return n},parseDOM:function(n){for(var e,i,o,h,u,c,f={},l=n.attributes,a=l.length,s=0;a>s;s++)c=l[s],f["@"+c.nodeName]=c.nodeValue;for(i=n.firstChild;i;i=i.nextSibling)o=i.nodeType,3===o||4===o?f["#text"]=i.nodeValue:1===o&&(e=this.parseDOM(i),h=i.nodeName,u=f[h],r(u)?u.push(e):u=u!==t?[u,e]:e,f[h]=u);return f},evaluate:function(n,t){for(var e,u,o,i,f,s=t.split(".");e=s.shift();)if(n=n[e],r(n)){for(u=[],t=s.join("."),f=0,o=n.length;o>f;f++)i=this.evaluate(n[f],t),i=r(i)?i:[i],u.push.apply(u,i);return u}return n},parse:function(t){var i,r,u={};return i=t.documentElement||n.parseXML(t).documentElement,r=this.parseDOM(i),u[i.nodeName]=r,u},xpathToMember:function(n,t){return n?(n=n.replace(/^\//,"").replace(/\//g,"."),n.indexOf("@")>=0?n.replace(/\.?(@.*)/,t?"$1":'["$1"]'):n.indexOf("text()")>=0?n.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):n):""},getter:function(n){return h(this.xpathToMember(n),!0)}});n.extend(!0,i.data,{XmlDataReader:e,readers:{xml:e}})}(window.kendo.jQuery),function(n,t){function kt(n,t,i,u){return function(f){var o,e={};for(o in f)e[o]=f[o];e.field=u?i+"."+f.field:i;t==r&&n._notifyChange&&n._notifyChange(e);n.trigger(t,e)}}function pi(t,i){if(t===i)return!0;var u,r=n.type(t),f=n.type(i);if(r!==f)return!1;if("date"===r)return t.getTime()===i.getTime();if("object"!==r&&"array"!==r)return!1;for(u in t)if(!pi(t[u],i[u]))return!1;return!0}function gr(n,t){var i;for(var r in n)if((i=n[r],b(i)&&i.field&&i.field===t)||i===t)return i;return null}function u(n){this.data=n||[]}function ut(n,i){if(n){var r=typeof n===s?{field:n,dir:i}:n,u=c(r)?r:r!==t?[r]:[];return ou(u,function(n){return!!n.dir})}}function wi(n){var i,f,r,t,u=n.filters;if(u)for(i=0,f=u.length;f>i;i++)r=u[i],t=r.operator,t&&typeof t===s&&(r.operator=lr[t.toLowerCase()]||t),wi(r)}function st(n){return n&&!k(n)?((c(n)||!n.filters)&&(n={logic:"and",filters:c(n)?n:[n]}),wi(n),n):t}function nu(n){return c(n)?n:[n]}function ft(n,i){var r=typeof n===s?{field:n,dir:i}:n,u=c(r)?r:r!==t?[r]:[];return ii(u,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates}})}function tu(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function iu(n,t,r,u,f,e){var h,c,s,l,o;for(t=t||[],l=t.length,h=0;l>h;h++)c=t[h],s=c.aggregate,o=c.field,n[o]=n[o]||{},e[o]=e[o]||{},e[o][s]=e[o][s]||{},n[o][s]=ar[s.toLowerCase()](n[o][s],r,i.accessor(o),u,f,e[o][s])}function l(n){return"number"==typeof n&&!isNaN(n)}function ht(n){return n&&n.getTime}function ct(n){for(var i=n.length,r=Array(i),t=0;i>t;t++)r[t]=n[t].toJSON();return r}function ru(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;h>s;s++){e=n[s];for(f in t)o=u[f],o&&o!==f&&(e[o]=t[f](e),delete e[f])}}function bi(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;h>s;s++){e=n[s];for(f in t)e[f]=i._parse(f,t[f](e)),o=u[f],o&&o!==f&&delete e[o]}}function ki(n,t,i,r,u){for(var f,o,e=0,s=n.length;s>e;e++)f=n[e],o=r[f.field],o&&o!=f.field&&(f.field=o),f.value=i._parse(f.field,f.value),f.hasSubgroups?ki(f.items,t,i,r,u):bi(f.items,t,i,r,u)}function dt(n,t,i,r,u,f){return function(e){return e=n(e),e&&!k(r)&&("[object Array]"===wt.call(e)||e instanceof y||(e=[e]),i(e,r,new t,u,f)),e||[]}}function gt(n,t,i,r){for(var f,u,o,e=0;t.length&&r&&(f=t[e],u=f.items,o=u.length,n&&n.field===f.field&&n.value===f.value?(n.hasSubgroups&&n.items.length?gt(n.items[n.items.length-1],f.items,i,r):(u=u.slice(i,i+r),n.items=n.items.concat(u)),t.splice(e--,1)):f.hasSubgroups&&u.length?(gt(f,u,i,r),f.items.length||t.splice(e--,1)):(u=u.slice(i,i+r),f.items=u,f.items.length||t.splice(e--,1)),0===u.length?i-=o:(i=0,r-=u.length),!(++e>=t.length)););t.length>e&&t.splice(e,t.length-e)}function ni(n){for(var f,i,r,u=[],t=0,e=n.length;e>t;t++)if(r=n.at(t),r.hasSubgroups)u=u.concat(ni(r.items));else for(f=r.items,i=0;f.length>i;i++)u.push(f.at(i));return u}function di(n,t){var r,u,i;if(t)for(r=0,u=n.length;u>r;r++)i=n.at(r),i.hasSubgroups?di(i.items,t):i.items=new bt(i.items,t)}function gi(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i].hasSubgroups){if(gi(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function uu(n,t,i,r){for(var u=0;n.length>u&&n[u].data!==t&&!nr(n[u].data,i,r);u++);}function nr(n,t,i){for(var r=0,u=n.length;u>r;r++){if(n[r]&&n[r].hasSubgroups)return nr(n[r].items,t,i);if(n[r]===t||n[r]===i)return n[r]=i,!0}}function tr(n,i,r,u,f){for(var e,s,o=0,h=n.length;h>o;o++)if(e=n[o],e&&!(e instanceof u))if(e.hasSubgroups===t||f){for(s=0;i.length>s;s++)if(i[s]===e){n[o]=i.at(s);uu(r,i,e,n[o]);break}}else tr(e.items,i,r,u,f)}function ir(n,t){for(var r,i=0,u=n.length;u>i;i++)if(r=n.at(i),r.uid==t.uid)return n.splice(i,1),r}function ti(n,t){for(var i,u,r=n.length-1,f=0;r>=f;r--)u=n[r],i={value:t.get(u.field),field:u.field,items:i?[i]:[t],hasSubgroups:!!i,aggregates:{}};return i}function rr(n,t){return t?fr(n,function(n){return n.uid?n.uid==t.uid:n[t.idField]===t.id}):-1}function ur(n,t){return t?fr(n,function(n){return n.uid==t.uid}):-1}function fr(n,t){for(var i=0,r=n.length;r>i;i++)if(t(n[i]))return i;return-1}function er(n,t){var i,r;return n&&!k(n)?(i=n[t],r=b(i)?i.from||i.field||t:n[t]||t,a(r)?t:r):t}function or(n,t){var r,f,u,i={};for(u in n)"filters"!==u&&(i[u]=n[u]);if(n.filters)for(i.filters=[],r=0,f=n.filters.length;f>r;r++)i.filters[r]=or(n.filters[r],t);else i.field=er(t.fields,i.field);return i}function lt(n,t){for(var i,u,f,o=[],r=0,e=n.length;e>r;r++){i={};u=n[r];for(f in u)i[f]=u[f];i.field=er(t.fields,i.field);i.aggregates&&c(i.aggregates)&&(i.aggregates=lt(i.aggregates,t));o.push(i)}return o}function fu(t,i){for(var e,u,r,s=n(t)[0].children,h=[],c=i[0],l=i[1],f=0,o=s.length;o>f;f++)e={},r=s[f],r.disabled||(e[c.field]=r.text,u=r.attributes.value,u=u&&u.specified?r.value:r.text,e[l.field]=u,h.push(e));return h}function eu(t,i){for(var r,h,f,e,o,c=n(t)[0].tBodies[0],l=c?c.rows:[],v=i.length,a=[],u=0,s=l.length;s>u;u++){for(f={},o=!0,h=l[u].cells,r=0;v>r;r++)e=h[r],"th"!==e.nodeName.toLowerCase()&&(o=!1,f[i[r].field]=e.innerHTML);o||a.push(f)}return a}function sr(n){return function(){var t=this._data,i=h.fn[n].apply(this,ot.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),i}}function hr(t,i){function s(n,t){return n.filter(t).add(n.find(t))}for(var r,f,h,o,c,u,a=n(t).children(),v=[],b=i[0].field,y=i[1]&&i[1].field,p=i[2]&&i[2].field,w=i[3]&&i[3].field,e=0,l=a.length;l>e;e++)r={_loaded:!0},f=a.eq(e),o=f[0].firstChild,u=f.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),h=f.attr("data-id"),h&&(r.id=h),o&&(r[b]=3==o.nodeType?o.nodeValue:u.text()),y&&(r[y]=s(u,"a").attr("href")),w&&(r[w]=s(u,"img").attr("src")),p&&(c=s(u,".k-sprite").prop("className"),r[p]=c&&n.trim(c.replace("k-sprite",""))),t.length&&(r.items=hr(t.eq(0),i)),"true"==f.attr("data-hasChildren")&&(r.hasChildren=!0),v.push(r);return v}var ii,at,cr,ri,lr,ar,ui,fi,it,ei,h,oi,si,w,hi,vr,e=n.extend,v=n.proxy,b=n.isPlainObject,k=n.isEmptyObject,c=n.isArray,ou=n.grep,ci=n.ajax,li=n.each,d=n.noop,i=window.kendo,a=i.isFunction,g=i.Observable,vt=i.Class,s="string",ai="function",yr="create",pr="read",wr="update",br="destroy",r="change",kr="sync",vi="get",nt="error",tt="requestStart",yi="progress",rt="requestEnd",su=[yr,pr,wr,br],et=function(n){return n},yt=i.getter,pt=i.stringify,f=Math,hu=[].push,cu=[].join,lu=[].pop,au=[].splice,vu=[].shift,ot=[].slice,yu=[].unshift,wt={}.toString,pu=i.support.stableSort,wu=/^\/Date\((.*?)\)\/$/,bu=/(\r+|\n+)/g,ku=/(?=['\\])/g,y=g.extend({init:function(n,t){var i=this;i.type=t||o;g.fn.init.call(i);i.length=n.length;i.wrapAll(n,i)},at:function(n){return this[n]},toJSON:function(){for(var t,i=this.length,r=Array(i),n=0;i>n;n++)t=this[n],t instanceof o&&(t=t.toJSON()),r[n]=t;return r},parent:d,wrapAll:function(n,t){var i,r,u=this,f=function(){return u};for(t=t||[],i=0,r=n.length;r>i;i++)t[i]=u.wrap(n[i],f);return t},wrap:function(n,t){var u,i=this;return null!==n&&"[object Object]"===wt.call(n)&&(u=n instanceof i.type||n instanceof p,u||(n=n instanceof o?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(r,function(n){i.trigger(r,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.node?n.action||"itemloaded":"itemchange"})})),n},push:function(){var n,i=this.length,t=this.wrapAll(arguments);return n=hu.apply(this,t),this.trigger(r,{action:"add",index:i,items:t}),n},slice:ot,sort:[].sort,join:cu,pop:function(){var n=this.length,t=lu.apply(this);return n&&this.trigger(r,{action:"remove",index:n-1,items:[t]}),t},splice:function(n,t,i){var u,f,e,o=this.wrapAll(ot.call(arguments,2));if(u=au.apply(this,[n,t].concat(o)),u.length)for(this.trigger(r,{action:"remove",index:n,items:u}),f=0,e=u.length;e>f;f++)u[f]&&u[f].children&&u[f].unbind(r);return i&&this.trigger(r,{action:"add",index:n,items:o}),u},shift:function(){var t=this.length,n=vu.apply(this);return t&&this.trigger(r,{action:"remove",index:0,items:[n]}),n},unshift:function(){var n,t=this.wrapAll(arguments);return n=yu.apply(this,t),this.trigger(r,{action:"add",index:0,items:t}),n},indexOf:function(n){for(var r=this,t=0,i=r.length;i>t;t++)if(r[t]===n)return t;return-1},forEach:function(n){for(var t=0,i=this.length;i>t;t++)n(this[t],t,this)},map:function(n){for(var t=0,i=[],r=this.length;r>t;t++)i[t]=n(this[t],t,this);return i},filter:function(n){for(var i,t=0,r=[],u=this.length;u>t;t++)i=this[t],n(i,t,this)&&(r[r.length]=i);return r},find:function(n){for(var i,t=0,r=this.length;r>t;t++)if(i=this[t],n(i,t,this))return i},every:function(n){for(var i,t=0,r=this.length;r>t;t++)if(i=this[t],!n(i,t,this))return!1;return!0},some:function(n){for(var i,t=0,r=this.length;r>t;t++)if(i=this[t],n(i,t,this))return!0;return!1},remove:function(n){var t=this.indexOf(n);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),bt=y.extend({init:function(n,t){g.fn.init.call(this);this.type=t||o;for(var i=0;n.length>i;i++)this[i]=n[i];this.length=i;this._parent=v(function(){return this},this)},at:function(n){var t=this[n];return t instanceof this.type?t.parent=this._parent:t=this[n]=this.wrap(t,this._parent),t}}),o=g.extend({init:function(n){var t,r,u=this,f=function(){return u};g.fn.init.call(this);for(r in n)t=n[r],"object"==typeof t&&t&&!t.getTime&&"_"!=r.charAt(0)&&(t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n){return this.hasOwnProperty(n)&&"_events"!==n&&typeof this[n]!==ai&&"uid"!==n},forEach:function(n){for(var t in this)this.shouldSerialize(t)&&n(this[t],t)},toJSON:function(){var n,t,i={};for(t in this)this.shouldSerialize(t)&&(n=this[t],(n instanceof o||n instanceof y)&&(n=n.toJSON()),i[t]=n);return i},get:function(n){var r,t=this;return t.trigger(vi,{field:n}),r="this"===n?t:i.getter(n,!0)(t)},_set:function(n,t){var r,u,f,s=this,e=n.indexOf(".")>=0;if(e)for(r=n.split("."),u="";r.length>1;){if(u+=r.shift(),f=i.getter(u,!0)(s),f instanceof o)return f.set(r.join("."),t),e;u+="."}return i.setter(n)(s,t),e},set:function(n,t){var u=this,f=n.indexOf(".")>=0,e=i.getter(n,!0)(u);e!==t&&(u.trigger("set",{field:n,value:t})||(f||(t=u.wrap(t,n,function(){return u})),(!u._set(n,t)||n.indexOf("(")>=0||n.indexOf("[")>=0)&&u.trigger(r,{field:n})))},parent:d,wrap:function(n,t,i){var u,f,s=this,e=wt.call(n);return null==n||"[object Object]"!==e&&"[object Array]"!==e||(u=n instanceof y,f=n instanceof h,"[object Object]"!==e||f||u?("[object Array]"===e||u||f)&&(u||f||(n=new y(n)),n.parent()!=i()&&n.bind(r,kt(s,r,t,!1))):(n instanceof o||(n=new o(n)),n.parent()!=i()&&(n.bind(vi,kt(s,vi,t,!0)),n.bind(r,kt(s,r,t,!0)))),n.parent=i),n}}),dr={number:function(n){return i.parseFloat(n)},date:function(n){return i.parseDate(n)},boolean:function(n){return typeof n===s?"true"===n.toLowerCase():null!=n?!!n:n},string:function(n){return null!=n?n+"":n},"default":function(n){return n}},du={string:"",number:0,date:new Date,boolean:!1,"default":""},p=o.extend({init:function(i){var u,f,r=this;if((!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i),r._initializers))for(u=0;r._initializers.length>u;u++)f=r._initializers[u],i[f]=r.defaults[f]();o.fn.init.call(r,i);r.dirty=!1;r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return o.fn.shouldSerialize.call(this,n)&&"uid"!==n&&!("id"!==this.idField&&"id"===n)&&"dirty"!==n&&"_accessors"!==n},_parse:function(n,t){var i,u=this,f=n,r=u.fields||{};return n=r[n],n||(n=gr(r,f)),n&&(i=n.parse,!i&&n.type&&(i=dr[n.type.toLowerCase()])),i?i(t):t},_notifyChange:function(n){var t=n.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(n){return n=(this.fields||{})[n],n?n.editable!==!1:!0},set:function(n,t,i){var r=this;r.editable(n)&&(t=r._parse(n,t),pi(t,r.get(n))||(r.dirty=!0,o.fn.set.call(r,n,t,i)))},accept:function(n){var i,r,t=this,u=function(){return t};for(i in n)r=n[i],"_"!=i.charAt(0)&&(r=t.wrap(n[i],i,u)),t._set(i,r);t.idField&&(t.id=t.get(t.idField));t.dirty=!1},isNew:function(){return this.id===this._defaultId}});p.define=function(n,i){i===t&&(i=n,n=p);var o,f,u,v,h,l,b,c,r=e({defaults:{}},i),y={},a=r.id,w=[];if(a&&(r.idField=a),r.id&&delete r.id,a&&(r.defaults[a]=r._defaultId=""),"[object Array]"===wt.call(r.fields)){for(l=0,b=r.fields.length;b>l;l++)u=r.fields[l],typeof u===s?y[u]={}:u.field&&(y[u.field]=u);r.fields=y}for(f in r.fields)u=r.fields[f],v=u.type||"default",h=null,c=f,f=typeof u.field===s?u.field:f,u.nullable||(h=r.defaults[c!==f?c:f]=u.defaultValue!==t?u.defaultValue:du[v.toLowerCase()],"function"==typeof h&&w.push(f)),i.id===f&&(r._defaultId=h),r.defaults[c!==f?c:f]=h,u.parse=u.parse||dr[v];return w.length>0&&(r._initializers=w),o=n.extend(r),o.define=function(n){return p.define(o,n)},r.fields&&(o.fields=r.fields,o.idField=r.idField),o};at={selector:function(n){return a(n)?n:yt(n)},compare:function(n){var t=this.selector(n);return function(n,i){return n=t(n),i=t(i),null==n&&null==i?0:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:i>n?-1:0}},create:function(n){var t=n.compare||this.compare(n.field);return"desc"==n.dir?function(n,i){return t(i,n,!0)}:t},combine:function(n){return function(t,i){for(var u=n[0](t,i),r=1,f=n.length;f>r;r++)u=u||n[r](t,i);return u}}};cr=e({},at,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return r&&r.getTime&&u&&u.getTime&&(r=r.getTime(),u=u.getTime()),r===u?n.__position-i.__position:null==r?-1:null==u?1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},desc:function(n){var t=this.selector(n);return function(n,i){var u=t(n),r=t(i);return u&&u.getTime&&r&&r.getTime&&(u=u.getTime(),r=r.getTime()),u===r?n.__position-i.__position:null==u?1:null==r?-1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},create:function(n){return this[n.dir](n.field)}});ii=function(n,t){for(var r=n.length,u=Array(r),i=0;r>i;i++)u[i]=t(n[i],i,n);return u};ri=function(){function n(n){return n.replace(ku,"\\").replace(bu,"")}function t(t,i,r,u){var f;return null!=r&&(typeof r===s&&(r=n(r),f=wu.exec(r),f?r=new Date(+f[1]):u?(r="'"+r.toLowerCase()+"'",i="("+i+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(i="("+i+"?"+i+".getTime():"+i+")",r=r.getTime())),i+" "+t+" "+r}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":"string"==typeof t?"'"+n(t)+"'":""+t},eq:function(n,i,r){return t("==",n,i,r)},neq:function(n,i,r){return t("!=",n,i,r)},gt:function(n,i,r){return t(">",n,i,r)},gte:function(n,i,r){return t(">=",n,i,r)},lt:function(n,i,r){return t("<",n,i,r)},lte:function(n,i,r){return t("<=",n,i,r)},startswith:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".lastIndexOf('"+i+"', 0) == 0"},endswith:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"', "+t+".length - "+(i||"").length+") >= 0"},contains:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"') >= 0"},doesnotcontain:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"') == -1"}}}();u.filterExpr=function(n){for(var r,f,h,c,a=[],e=[],o=[],v=n.filters,s=0,l=v.length;l>s;s++)r=v[s],h=r.field,c=r.operator,r.filters?(f=u.filterExpr(r),r=f.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(o.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(e.length+t)+"]"}),o.push.apply(o,f.operators),e.push.apply(e,f.fields)):(typeof h===ai?(f="__f["+e.length+"](d)",e.push(h)):f=i.expr(h),typeof c===ai?(r="__o["+o.length+"]("+f+", "+ri.quote(r.value)+")",o.push(c)):r=ri[(c||"eq").toLowerCase()](f,r.value,r.ignoreCase!==t?r.ignoreCase:!0)),a.push(r);return{expression:"("+a.join({and:" && ",or:" || "}[n.logic])+")",fields:e,operators:o}};lr={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};u.normalizeFilter=st;u.prototype={toArray:function(){return this.data},range:function(n,t){return new u(this.data.slice(n,n+t))},skip:function(n){return new u(this.data.slice(n))},take:function(n){return new u(this.data.slice(0,n))},select:function(n){return new u(ii(this.data,n))},order:function(n,t){var i={dir:t};return n&&(n.compare?i.compare=n.compare:i.field=n),new u(this.data.slice(0).sort(at.create(i)))},orderBy:function(n){return this.order(n,"asc")},orderByDescending:function(n){return this.order(n,"desc")},sort:function(n,t,i){var r,f,u=ut(n,t),e=[];if(i=i||at,u.length){for(r=0,f=u.length;f>r;r++)e.push(i.create(u[r]));return this.orderBy({compare:i.combine(e)})}return this},filter:function(n){var t,r,s,i,h,f,e,o,c=this.data,l=[];if(n=st(n),!n||0===n.filters.length)return this;for(i=u.filterExpr(n),f=i.fields,e=i.operators,h=o=Function("d, __f, __o","return "+i.expression),(f.length||e.length)&&(o=function(n){return h(n,f,e)}),t=0,s=c.length;s>t;t++)r=c[t],o(r)&&l.push(r);return new u(l)},group:function(n,t){n=ft(n||[]);t=t||this.data;var i,f=this,r=new u(f.data);return n.length>0&&(i=n[0],r=r.groupBy(i).select(function(r){var f=new u(t).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]);return{field:r.field,value:r.value,items:n.length>1?new u(r.items).group(n.slice(1),f.toArray()).toArray():r.items,hasSubgroups:n.length>1,aggregates:f.aggregate(i.aggregates)}})),r},groupBy:function(n){if(k(n)||!this.data.length)return new u([]);for(var o,s,t=n.field,h=this._sortForGrouping(t,n.dir||"asc"),l=i.accessor(t),f=l.get(h[0],t),e={field:t,value:f,items:[]},a=[e],r=0,c=h.length;c>r;r++)o=h[r],s=l.get(o,t),tu(f,s)||(f=s,e={field:t,value:f,items:[]},a.push(e)),e.items.push(o);return new u(a)},_sortForGrouping:function(n,t){var i,f,r=this.data;if(!pu){for(i=0,f=r.length;f>i;i++)r[i].__position=i;for(r=new u(r).sort(n,t,cr).toArray(),i=0,f=r.length;f>i;i++)delete r[i].__position;return r}return this.sort(n,t).toArray()},aggregate:function(n){var t,i,r={},u={};if(n&&n.length)for(t=0,i=this.data.length;i>t;t++)iu(r,n,this.data[t],t,i,u);return r}};ar={sum:function(n,t,i){var r=i.get(t);return l(n)?l(r)&&(n+=r):n=r,n},count:function(n){return(n||0)+1},average:function(n,i,r,u,f,e){var o=r.get(i);return e.count===t&&(e.count=0),l(n)?l(o)&&(n+=o):n=o,l(o)&&e.count++,u==f-1&&l(n)&&(n/=e.count),n},max:function(n,t,i){var r=i.get(t);return l(n)||ht(n)||(n=r),r>n&&(l(r)||ht(r))&&(n=r),n},min:function(n,t,i){var r=i.get(t);return l(n)||ht(n)||(n=r),n>r&&(l(r)||ht(r))&&(n=r),n}};u.process=function(n,i){i=i||{};var e,r=new u(n),f=i.group,o=ft(f||[]).concat(ut(i.sort||[])),s=i.filterCallback,h=i.filter,c=i.skip,l=i.take;return h&&(r=r.filter(h),s&&(r=s(r)),e=r.toArray().length),o&&(r=r.sort(o),f&&(n=r.toArray())),c!==t&&l!==t&&(r=r.range(c,l)),f&&(r=r.group(f,n)),{total:e,data:r.toArray()}};ui=vt.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:function(n){n.success(n.data)}});fi=vt.extend({init:function(n){var i,t=this;n=t.options=e({},t.options,n);li(su,function(t,i){typeof n[i]===s&&(n[i]={url:n[i]})});t.cache=n.cache?it.create(n.cache):{find:d,add:d};i=n.parameterMap;a(n.push)&&(t.push=n.push);t.push||(t.push=et);t.parameterMap=a(i)?i:function(n){var t={};return li(n,function(n,r){n in i&&(n=i[n],b(n)&&(r=n.value(r),n=n.key));t[n]=r}),t}},options:{parameterMap:et},create:function(n){return ci(this.setup(n,yr))},read:function(i){var r,o,u,f=this,e=f.cache;i=f.setup(i,pr);r=i.success||d;o=i.error||d;u=e.find(i.data);u!==t?r(u):(i.success=function(n){e.add(i.data,n);r(n)},n.ajax(i))},update:function(n){return ci(this.setup(n,wr))},destroy:function(n){return ci(this.setup(n,br))},setup:function(n,t){n=n||{};var r,u=this,i=u.options[t],f=a(i.data)?i.data(n.data):i.data;return n=e(!0,{},i,n),r=e(!0,{},f,n.data),n.data=u.parameterMap(r,t),a(n.url)&&(n.url=n.url(r)),n}});it=vt.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[pt(n)]=i)},find:function(n){return this._store[pt(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[pt(n)]}});it.create=function(n){var t={inmemory:function(){return new it}};return b(n)&&a(n.find)?n:n===!0?new it:t[n]()};ei=vt.extend({init:function(n){var l,e,i,y,o,w,k,u,h,a,f,c,r,t=this;n=n||{};for(l in n)e=n[l],t[l]=typeof e===s?yt(e):e;y=n.modelBase||p;b(t.model)&&(t.model=i=y.define(t.model));o=v(t.data,t);t._dataAccessFunction=o;t.model&&(w=v(t.groups,t),k=v(t.serialize,t),u={},h={},a={},f={},c=!1,i=t.model,i.fields&&(li(i.fields,function(n,t){var i;r=n;b(t)&&t.field?r=t.field:typeof t===s&&(r=t);b(t)&&t.from&&(i=t.from);c=c||i&&i!==n||r!==n;h[n]=yt(i||r);a[n]=yt(n);u[i||r]=n;f[n]=i||r}),!n.serialize&&c&&(t.serialize=dt(k,i,ru,a,u,f))),t._dataAccessFunction=o,t.data=dt(o,i,bi,h,u,f),t.groups=dt(w,i,ki,h,u,f))},errors:function(n){return n?n.errors:null},parse:et,data:et,total:function(n){return n.length},groups:et,aggregates:function(){return{}},serialize:function(n){return n}});h=g.extend({init:function(n){var s,o,f,u=this;n&&(o=n.data);n=u.options=e({},u.options,n);u._map={};u._prefetch={};u._data=[];u._pristineData=[];u._ranges=[];u._view=[];u._pristineTotal=0;u._destroyed=[];u._pageSize=n.pageSize;u._page=n.page||(n.pageSize?1:t);u._sort=ut(n.sort);u._filter=st(n.filter);u._group=ft(n.group);u._aggregate=n.aggregate;u._total=n.total;u._shouldDetachObservableParents=!0;g.fn.init.call(u);u.transport=oi.create(n,o);a(u.transport.push)&&u.transport.push({pushCreate:v(u._pushCreate,u),pushUpdate:v(u._pushUpdate,u),pushDestroy:v(u._pushDestroy,u)});null!=n.offlineStorage&&("string"==typeof n.offlineStorage?(f=n.offlineStorage,u._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(n){localStorage.setItem(f,pt(n))}}):u._storage=n.offlineStorage);u.reader=new i.data.readers[n.schema.type||"json"](n.schema);s=u.reader.model||{};u._detachObservableParents();u._data=u._observe(u._data);u._online=!0;u.bind(["push",nt,r,tt,kr,rt,yi],n)},options:{data:null,schema:{modelBase:p},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},online:function(i){return i!==t?this._online!=i&&(this._online=i,i)?this.sync():n.Deferred().resolve().promise():this._online},offlineData:function(n){return null==this.options.offlineStorage?null:n!==t?this._storage.setItem(n):this._storage.getItem()||{}},_isServerGrouped:function(){var n=this.group()||[];return this.options.serverGrouping&&n.length},_pushCreate:function(n){this._push(n,"pushCreate")},_pushUpdate:function(n){this._push(n,"pushUpdate")},_pushDestroy:function(n){this._push(n,"pushDestroy")},_push:function(n,t){var i=this._readData(n);i||(i=n);this[t](i)},_flatData:function(n,t){if(n){if(this._isServerGrouped())return ni(n);if(!t)for(var i=0;n.length>i;i++)n.at(i)}return n},parent:d,get:function(n){for(var i=this._flatData(this._data),t=0,r=i.length;r>t;t++)if(i[t].id==n)return i[t]},getByUid:function(n){var t,r,i=this._flatData(this._data);if(i)for(t=0,r=i.length;r>t;t++)if(i[t].uid==n)return i[t]},indexOf:function(n){return ur(this._data,n)},at:function(n){return this._data.at(n)},data:function(n){var r,i=this;if(n===t){if(i._data)for(r=0;i._data.length>r;r++)i._data.at(r);return i._data}i._detachObservableParents();i._data=this._observe(n);i._pristineData=n.slice(0);i._storeData();i._ranges=[];i.trigger("reset");i._addRange(i._data);i._total=i._data.length;i._pristineTotal=i._total;i._process(i._data)},view:function(n){return n===t?this._view:(this._view=this._observeView(n),t)},_observeView:function(n){var i,t=this;return tr(n,t._data,t._ranges,t.reader.model||o,t._isServerGrouped()),i=new bt(n,t.reader.model),i.parent=function(){return t.parent()},i},flatView:function(){var n=this.group()||[];return n.length?ni(this._view):this._view},add:function(n){return this.insert(this._data.length,n)},_createNewModel:function(n){return this.reader.model?new this.reader.model(n):n instanceof o?n:new o(n)},insert:function(n,t){return t||(t=n,n=0),t instanceof p||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(n,0,ti(this.group(),t)):this._data.splice(n,0,t),t},pushCreate:function(n){var t,f,i,e,u,r;c(n)||(n=[n]);t=[];f=this.options.autoSync;this.options.autoSync=!1;try{for(i=0;n.length>i;i++)e=n[i],u=this.add(e),t.push(u),r=u.toJSON(),this._isServerGrouped()&&(r=ti(this.group(),r)),this._pristineData.push(r)}finally{this.options.autoSync=f}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(n){var u,f,i,e,t;for(c(n)||(n=[n]),u=[],f=0;n.length>f;f++)i=n[f],e=this._createNewModel(i),t=this.get(e.id),t?(u.push(t),t.accept(i),t.trigger(r),this._updatePristineForModel(t,i)):this.pushCreate(i);u.length&&this.trigger("push",{type:"update",items:u})},pushDestroy:function(n){var t=this._removeItems(n);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(n){var i,f,t,e,r,u;c(n)||(n=[n]);i=[];f=this.options.autoSync;this.options.autoSync=!1;try{for(t=0;n.length>t;t++)e=n[t],r=this._createNewModel(e),u=!1,this._eachItem(this._data,function(n){for(var f,t=0;n.length>t;t++)if(f=n.at(t),f.id===r.id){i.push(f);n.splice(t,1);u=!0;break}}),u&&(this._removePristineForModel(r),this._destroyed.pop())}finally{this.options.autoSync=f}return i},remove:function(n){var i,r=this,u=r._isServerGrouped();return this._eachItem(r._data,function(f){return i=ir(f,n),i&&u?(i.isNew&&i.isNew()||r._destroyed.push(i),!0):t}),this._removeModelFromRanges(n),this._updateRangesLength(),n},sync:function(){var r,s,i,t=this,f=[],e=[],h=t._destroyed,u=t._flatData(t._data),o=n.Deferred().resolve().promise();if(t.online()){if(!t.reader.model)return o;for(r=0,s=u.length;s>r;r++)u[r].isNew()?f.push(u[r]):u[r].dirty&&e.push(u[r]);i=[];t.options.batch&&t.transport.submit?i=t._sendSubmit(f,e,h):(i.push.apply(i,t._send("create",f)),i.push.apply(i,t._send("update",e)),i.push.apply(i,t._send("destroy",h)));o=n.when.apply(null,i).then(function(){for(var n=0,i=arguments.length;i>n;n++)t._accept(arguments[n]);t._storeData(!0);t._change({action:"sync"});t.trigger(kr)})}else t._storeData(!0),t._change({action:"sync"});return o},cancelChanges:function(n){var t=this;n instanceof i.data.Model?t._cancelModel(n):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data),t._change())},hasChanges:function(){var n,i,t=this._data;if(this._destroyed.length)return!0;for(n=0,i=t.length;i>n;n++)if(t[n].isNew&&t[n].isNew()||t[n].dirty)return!0;return!1},_accept:function(t){var o,r=this,f=t.models,i=t.response,u=0,s=r._isServerGrouped(),h=r._pristineData,e=t.type;if(r.trigger(rt,{response:i,type:e}),i&&!k(i)){if(i=r.reader.parse(i),r._handleCustomErrors(i))return;i=r.reader.data(i);c(i)||(i=[i])}else i=n.map(f,function(n){return n.toJSON()});for("destroy"===e&&(r._destroyed=[]),u=0,o=f.length;o>u;u++)"destroy"!==e?(f[u].accept(i[u]),"create"===e?h.push(s?ti(r.group(),f[u]):i[u]):"update"===e&&r._updatePristineForModel(f[u],i[u])):r._removePristineForModel(f[u])},_updatePristineForModel:function(n,t){this._executeOnPristineForModel(n,function(n,r){i.deepExtend(r[n],t)})},_executeOnPristineForModel:function(n,i){this._eachPristineItem(function(r){var u=rr(r,n);return u>-1?(i(u,r),!0):t})},_removePristineForModel:function(n){this._executeOnPristineForModel(n,function(n,t){t.splice(n,1)})},_readData:function(n){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,n)},_eachPristineItem:function(n){this._eachItem(this._pristineData,n)},_eachItem:function(n,t){n&&n.length&&(this._isServerGrouped()?gi(n,t):t(n))},_pristineForModel:function(n){var r,i,u=function(u){return i=rr(u,n),i>-1?(r=u[i],!0):t};return this._eachPristineItem(u),r},_cancelModel:function(n){var t=this._pristineForModel(n);this._eachItem(this._data,function(i){var r=ur(i,n);r>=0&&(!t||n.isNew()&&!t.__state__?i.splice(r,1):i[r].accept(t))})},_submit:function(t,i){var r=this;r.trigger(tt,{type:"submit"});r.transport.submit(e({success:function(i,r){var u=n.grep(t,function(n){return n.type==r})[0];u&&u.resolve({response:i,models:u.models,type:r})},error:function(n,i,u){for(var f=0;t.length>f;f++)t[f].reject(n);r.error(n,i,u)}},i))},_sendSubmit:function(t,i,r){var u=this,f=[];return u.options.batch&&(t.length&&f.push(n.Deferred(function(n){n.type="create";n.models=t})),i.length&&f.push(n.Deferred(function(n){n.type="update";n.models=i})),r.length&&f.push(n.Deferred(function(n){n.type="destroy";n.models=r})),u._submit(f,{data:{created:u.reader.serialize(ct(t)),updated:u.reader.serialize(ct(i)),destroyed:u.reader.serialize(ct(r))}})),f},_promise:function(t,i,r){var u=this;return n.Deferred(function(n){u.trigger(tt,{type:r});u.transport[r].call(u.transport,e({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t,i,r){n.reject(t);u.error(t,i,r)}},t))}).promise()},_send:function(n,t){var i,f,r=this,u=[],e=r.reader.serialize(ct(t));if(r.options.batch)t.length&&u.push(r._promise({data:{models:e}},t,n));else for(i=0,f=t.length;f>i;i++)u.push(r._promise({data:e[i]},[t[i]],n));return u},read:function(t){var i=this,u=i._params(t),r=n.Deferred();return i._queueRequest(u,function(){var n=i.trigger(tt,{type:"read"});n?(i._dequeueRequest(),r.resolve(n)):(i.trigger(yi),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:u,success:function(n){i.success(n);r.resolve()},error:function(){var n=ot.call(arguments);i.error.apply(i,n);r.reject.apply(r,n)}}):null!=i.options.offlineStorage&&(i.success(i.offlineData()),r.resolve()))}),r.promise()},_readAggregates:function(n){return this.reader.aggregates(n)},success:function(n){var f,r,u,e,i=this,o=i.options;if(i.trigger(rt,{response:n,type:"read"}),i.online()){if(n=i.reader.parse(n),i._handleCustomErrors(n))return i._dequeueRequest(),t;i._total=i.reader.total(n);i._aggregate&&o.serverAggregates&&(i._aggregateResult=i._readAggregates(n));n=i._readData(n)}else{for(n=i._readData(n),f=[],r=0;n.length>r;r++)u=n[r],e=u.__state__,"destroy"==e?this._destroyed.push(this._createNewModel(u)):f.push(u);n=f;i._total=n.length}i._pristineTotal=i._total;i._pristineData=n.slice(0);i._detachObservableParents();i._data=i._observe(n);null!=i.options.offlineStorage&&i._eachItem(i._data,function(n){for(var i,t=0;n.length>t;t++)i=n.at(t),"update"==i.__state__&&(i.dirty=!0)});i._storeData();i._addRange(i._data);i._process(i._data);i._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var n=0;this._data.length>n;n++)this._data[n].parent&&(this._data[n].parent=d)},_storeData:function(n){function u(n){for(var t,i,o=[],r=0;n.length>r;r++)t=n.at(r),i=t.toJSON(),f&&t.items?i.items=u(t.items):(i.uid=t.uid,e&&(t.isNew()?i.__state__="create":t.dirty&&(i.__state__="update"))),o.push(i);return o}var t,i,r,f=this._isServerGrouped(),e=this.reader.model;if(null!=this.options.offlineStorage){for(t=u(this._data),i=0;this._destroyed.length>i;i++)r=this._destroyed[i].toJSON(),r.__state__="destroy",t.push(r);this.offlineData(t);n&&(this._pristineData=t)}},_addRange:function(n){var t=this,i=t._skip||0,r=i+t._flatData(n,!0).length;t._ranges.push({start:i,end:r,data:n});t._ranges.sort(function(n,t){return n.start-t.start})},error:function(n,t,i){this._dequeueRequest();this.trigger(rt,{});this.trigger(nt,{xhr:n,status:t,errorThrown:i})},_params:function(n){var t=this,i=e({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=lt(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=or(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=lt(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=lt(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:v(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1;n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(nt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(n){var u,t=this,i=t.reader.model,f=!1;return t._shouldDetachObservableParents=!0,i&&n.length&&(f=!(n[0]instanceof i)),n instanceof y?(t._shouldDetachObservableParents=!1,f&&(n.type=t.reader.model,n.wrapAll(n,n))):(u=t.pageSize()&&!t.options.serverPaging?bt:y,n=new u(n,t.reader.model),n.parent=function(){return t.parent()}),t._isServerGrouped()&&di(n,i),t._changeHandler&&t._data&&t._data instanceof y?t._data.unbind(r,t._changeHandler):t._changeHandler=v(t._change,t),n.bind(r,t._changeHandler)},_change:function(n){var u,f,r,t=this,i=n?n.action:"";if("remove"===i)for(u=0,f=n.items.length;f>u;u++)n.items[u].isNew&&n.items[u].isNew()||t._destroyed.push(n.items[u]);!t.options.autoSync||"add"!==i&&"remove"!==i&&"itemchange"!==i?(r=parseInt(t._total,10),l(t._total)||(r=parseInt(t._pristineTotal,10)),"add"===i?r+=n.items.length:"remove"===i?r-=n.items.length:"itemchange"===i||"sync"===i||t.options.serverPaging?"sync"===i&&(r=t._pristineTotal=parseInt(t._total,10)):r=t._pristineTotal,t._total=r,t._process(t._data,n)):t.sync()},_calculateAggregates:function(n,t){t=t||{};var i=new u(n),f=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(f)},_process:function(n,i){var e,u=this,f={};u.options.serverPaging!==!0&&(f.skip=u._skip,f.take=u._take||u._pageSize,f.skip===t&&u._page!==t&&u._pageSize!==t&&(f.skip=(u._page-1)*u._pageSize));u.options.serverSorting!==!0&&(f.sort=u._sort);u.options.serverFiltering!==!0&&(f.filter=u._filter);u.options.serverGrouping!==!0&&(f.group=u._group);u.options.serverAggregates!==!0&&(f.aggregate=u._aggregate,u._aggregateResult=u._calculateAggregates(n,f));e=u._queryProcess(n,f);u.view(e.data);e.total===t||u.options.serverFiltering||(u._total=e.total);i=i||{};i.items=i.items||u._view;u.trigger(r,i)},_queryProcess:function(n,t){return u.process(n,t)},_mergeState:function(n){var i=this;return n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=n.skip,i._take=n.take,i._skip===t&&(i._skip=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=ut(n.sort)),n.filter&&(i._filter=n.filter=st(n.filter)),n.group&&(i._group=n.group=ft(n.group)),n.aggregate&&(i._aggregate=n.aggregate=nu(n.aggregate))),n},query:function(i){var u,f,e=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return e||(this._data===t||0===this._data.length)&&!this._destroyed.length?this.read(this._mergeState(i)):(f=this.trigger(tt,{type:"read"}),f||(this.trigger(yi),u=this._queryProcess(this._data,this._mergeState(i)),this.options.serverFiltering||(this._total=u.total!==t?u.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,i),this.view(u.data),this.trigger(rt,{type:"read"}),this.trigger(r,{items:u.data})),n.Deferred().resolve(f).promise())},fetch:function(n){var t=this,i=function(i){i!==!0&&a(n)&&n.call(t)};return this._query().then(i)},_query:function(n){var t=this;return t.query(e({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(n){var i=this,r=i.page(),u=i.total();return n=n||{},!r||u&&r+1>i.totalPages()?t:(i._skip=r*i.take(),r+=1,n.page=r,i._query(n),r)},prev:function(n){var i=this,r=i.page();return n=n||{},r&&1!==r?(i._skip=i._skip-i.take(),r-=1,n.page=r,i._query(n),r):t},page:function(n){var r,i=this;return n!==t?(n=f.max(f.min(f.max(n,1),i.totalPages()),1),i._query({page:n}),t):(r=i.skip(),r!==t?f.round((r||0)/(i.take()||1))+1:t)},pageSize:function(n){var i=this;return n!==t?(i._query({pageSize:n,page:1}),t):i.take()},sort:function(n){var i=this;return n!==t?(i._query({sort:n}),t):i._sort},filter:function(n){var i=this;return n===t?i._filter:(i._query({filter:n,page:1}),i.trigger("reset"),t)},group:function(n){var i=this;return n!==t?(i._query({group:n}),t):i._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(n){var i=this;return n!==t?(i._query({aggregate:n}),t):i._aggregate},aggregates:function(){var n=this._aggregateResult;return k(n)&&(n=this._emptyAggregates(this.aggregate())),n},_emptyAggregates:function(n){var i,t,r={};if(!k(n))for(i={},c(n)||(n=[n]),t=0;n.length>t;t++)i[n[t].aggregate]=0,r[n[t].field]=i;return r},totalPages:function(){var n=this,t=n.pageSize()||n.total();return f.ceil((n.total()||0)/t)},inRange:function(n,t){var i=this,r=f.min(n+t,i.total());return!i.options.serverPaging&&i._data.length>0?!0:i._findRange(n,r).length>0},lastRange:function(){var n=this._ranges;return n[n.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var n=this._ranges;return n.length&&n[0].data.length&&n[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},range:function(n,i){var r,e,u,o,s,h,c,l;if(n=f.min(n||0,this.total()),r=this,e=f.max(f.floor(n/i),0)*i,u=f.min(e+i,r.total()),r._skipRequestsInProgress=!1,o=r._findRange(n,f.min(n+i,r.total())),o.length){r._skipRequestsInProgress=!0;r._pending=t;r._skip=n>r.skip()?f.min(u,(r.totalPages()-1)*r.take()):e;r._take=i;s=r.options.serverPaging;h=r.options.serverSorting;c=r.options.serverFiltering;l=r.options.serverAggregates;try{r.options.serverPaging=!0;r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0);r.options.serverFiltering=!0;r.options.serverPaging=!0;r.options.serverAggregates=!0;s&&(r._detachObservableParents(),r._data=o=r._observe(o));r._process(o)}finally{r.options.serverPaging=s;r.options.serverSorting=h;r.options.serverFiltering=c;r.options.serverAggregates=l}}else i!==t&&(r._rangeExists(e,u)?n>e&&r.prefetch(u,i,function(){r.range(n,i)}):r.prefetch(e,i,function(){n>e&&u<r.total()&&!r._rangeExists(u,f.min(u+i,r.total()))?r.prefetch(u,i,function(){r.range(n,i)}):r.range(n,i)}))},_findRange:function(n,i){for(var r,s,h,c,y,l,a,v,f,k,u=this,w=u._ranges,b=[],o=u.options,d=o.serverSorting||o.serverPaging||o.serverFiltering||o.serverGrouping||o.serverAggregates,e=0,p=w.length;p>e;e++)if(r=w[e],n>=r.start&&r.end>=n){for(f=0,s=e;p>s;s++)if(r=w[s],v=u._flatData(r.data,!0),v.length&&n+f>=r.start&&(y=r.data,l=r.end,d||(k=ft(u.group()||[]).concat(ut(u.sort()||[])),a=u._queryProcess(r.data,{sort:k,filter:u.filter()}),v=y=a.data,a.total!==t&&(l=a.total)),h=0,n+f>r.start&&(h=n+f-r.start),c=v.length,l>i&&(c-=l-i),f+=c-h,b=u._mergeGroups(b,y,h,c),r.end>=i&&f==i-n))return b;break}return[]},_mergeGroups:function(n,t,i,r){if(this._isServerGrouped()){var u,f=t.toJSON();return n.length&&(u=n[n.length-1]),gt(u,f,i,r),n.concat(f)}return n.concat(t.slice(i,r))},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(n,t,i,u){var f=this;return function(e){var s,c,h,l=!1,o={start:n,end:t,data:[]};if(f._dequeueRequest(),f.trigger(rt,{response:e,type:"read"}),e=f.reader.parse(e),h=f._readData(e),h.length){for(s=0,c=f._ranges.length;c>s;s++)if(f._ranges[s].start===n){l=!0;o=f._ranges[s];break}l||f._ranges.push(o)}o.data=f._observe(h);o.end=o.start+f._flatData(o.data,!0).length;f._ranges.sort(function(n,t){return n.start-t.start});f._total=f.reader.total(e);(u||!f._skipRequestsInProgress)&&(i&&h.length?i():f.trigger(r,{}))}},prefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(e,function(){r.trigger(tt,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i),error:function(){var n=ot.call(arguments);r.error.apply(r,n)}})})},100))},_multiplePrefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():r.trigger(tt,{type:"read"})||r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i,!0)})},_rangeExists:function(n,t){for(var f=this,r=f._ranges,i=0,u=r.length;u>i;i++)if(n>=r[i].start&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(n){for(var i,r,u,t=0,f=this._ranges.length;f>t&&(u=this._ranges[t],this._eachItem(u.data,function(t){i=ir(t,n);i&&(r=!0)}),!r);t++);},_updateRangesLength:function(){for(var n,i,u=0,t=0,r=this._ranges.length;r>t;t++)n=this._ranges[t],n.start=n.start-u,i=this._flatData(n.data,!0).length,u=n.end-i,n.end=n.start+i}});oi={};oi.create=function(n,t){var u,r=n.transport;return r?(r.read=typeof r.read===s?{url:r.read}:r.read,n.type&&(i.data.transports=i.data.transports||{},i.data.schemas=i.data.schemas||{},i.data.transports[n.type]&&!b(i.data.transports[n.type])?u=new i.data.transports[n.type](e(r,{data:t})):r=e(!0,{},i.data.transports[n.type],r),n.schema=e(!0,{},i.data.schemas[n.type],n.schema)),u||(u=a(r.read)?r:new fi(r))):u=new ui({data:n.data||[]}),u};h.create=function(n){(c(n)||n instanceof y)&&(n={data:n});var u,a,f,t=n||{},o=t.data,r=t.fields,s=t.table,v=t.select,l={};if(o||!r||t.transport||(s?o=eu(s,r):v&&(o=fu(v,r))),i.data.Model&&r&&(!t.schema||!t.schema.model)){for(u=0,a=r.length;a>u;u++)f=r[u],f.type&&(l[f.field]=f);k(l)||(t.schema=e(!0,t.schema,{model:{fields:l}}))}return t.data=o,s=null,t.table=null,t instanceof h?t:new h(t)};si=p.define({idField:"id",init:function(n){var t=this,r=t.hasChildren||n&&n.hasChildren,f="items",u={};i.data.Model.fn.init.call(t,n);typeof t.children===s&&(f=t.children);u={schema:{data:f,model:{hasChildren:r,id:t.idField,fields:t.fields}}};typeof t.children!==s&&e(u,t.children);u.data=n;r||(r=u.schema.data);typeof r===s&&(r=i.getter(r));a(r)&&(t.hasChildren=!!r.call(t,t));t._childrenOptions=u;t.hasChildren&&t._initChildren();t._loaded=!(!n||!n[f]&&!n._loaded)},_initChildren:function(){var t,i,u,n=this;n.children instanceof w||(t=n.children=new w(n._childrenOptions),i=t.transport,u=i.parameterMap,i.parameterMap=function(t,i){return t[n.idField||"id"]=n.id,u&&(t=u(t,i)),t},t.parent=function(){return n},t.bind(r,function(t){t.node=t.node||n;n.trigger(r,t)}),t.bind(nt,function(t){var i=n.parent();i&&(t.node=t.node||n,i.trigger(nt,t))}),n._updateChildrenField())},append:function(n){this._initChildren();this.loaded(!0);this.children.add(n)},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n&&n.parentNode;)t++,n=n.parentNode?n.parentNode():null;return t},_updateChildrenField:function(){var n=this._childrenOptions.schema.data;this[n||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0;this._updateChildrenField()},load:function(){var i,u,f={},e="_query";return this.hasChildren?(this._initChildren(),i=this.children,f[this.idField||"id"]=this.id,this._loaded||(i._data=t,e="read"),i.one(r,v(this._childrenLoaded,this)),u=i[e](f)):this.loaded(!0),u||n.Deferred().resolve().promise()},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){return n===t?this._loaded:(this._loaded=n,t)},shouldSerialize:function(n){return p.fn.shouldSerialize.call(this,n)&&"children"!==n&&"_loaded"!==n&&"hasChildren"!==n&&"_childrenOptions"!==n}});w=h.extend({init:function(n){var t=si.define({children:n});h.fn.init.call(this,e(!0,{},{schema:{modelBase:t,model:t}},n));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var n=this;n._data.bind(nt,function(t){n.trigger(nt,t)})},remove:function(n){var r,t=n.parentNode(),i=this;return t&&t._initChildren&&(i=t.children),r=h.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},success:sr("success"),data:sr("data"),insert:function(n,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),h.fn.insert.call(this,n,t)},_find:function(n,t){var i,e,r,u,f;if(r=h.fn[n].call(this,t))return r;if(u=this._flatData(this._data))for(i=0,e=u.length;e>i;i++)if(f=u[i].children,f instanceof w&&(r=f[n](t)))return r},get:function(n){return this._find("get",n)},getByUid:function(n){return this._find("getByUid",n)}});w.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,r=t.fields,u=t.list;return i&&i._dataSource?i._dataSource:(i||!r||t.transport||u&&(i=hr(u,r)),t.data=i,t instanceof w?t:new w(t))};hi=i.Observable.extend({init:function(n,t,r){i.Observable.fn.init.call(this);this._prefetching=!1;this.dataSource=n;this.prefetch=!r;var u=this;n.bind("change",function(){u._change()});n.bind("reset",function(){u._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(n){this.viewSize=n;this._recalculate()},at:function(n){var i=this.pageSize,r=!0;return n>=this.total()?(this.trigger("endreached",{index:n}),null):this.useRanges?this.useRanges?((this.dataOffset>n||n>=this.skip+i)&&(r=this.range(Math.floor(n/i)*i)),n===this.prefetchThreshold&&this._prefetch(),n===this.midPageThreshold?this.range(this.nextMidRange,!0):n===this.nextPageThreshold?this.range(this.nextFullRange):n===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),r?this.dataSource.at(n-this.dataOffset):(this.trigger("endreached",{index:n}),null)):t:this.dataSource.view()[n]},indexOf:function(n){return this.dataSource.data().indexOf(n)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var n=this,t=n.pageSize,i=n.skip-n.viewSize+t,r=f.max(f.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(r,t,function(){n._goToRange(i,!0)})},range:function(n,t){if(this.offset===n)return!0;var r=this,i=this.pageSize,u=f.max(f.floor(n/i),0)*i,e=this.dataSource;return t&&(u+=i),e.inRange(n,i)?(this.offset=n,this._recalculate(),this._goToRange(n),!0):this.prefetch?(e.prefetch(u,i,function(){r.offset=n;r._recalculate();r._goToRange(n,!0)}),!1):!0},syncDataSource:function(){var n=this.offset;this.offset=null;this.range(n)},destroy:function(){this.unbind()},_prefetch:function(){var i=this,n=this.pageSize,t=this.skip+n,r=this.dataSource;r.inRange(t,n)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:t,take:n}),r.prefetch(t,n,function(){i._prefetching=!1;i.trigger("prefetched",{skip:t,take:n})}))},_goToRange:function(n,t){this.offset===n&&(this.dataOffset=n,this._expanding=t,this.dataSource.range(n,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var n=this.dataSource;this.length=this.useRanges?n.lastRange().end:n.view().length;this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset}));this.trigger("resize");this._expanding&&this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var n=this.dataSource;this._firstItemUid=n.firstItemUid();this.dataOffset=this.offset=n.skip()||0;this.pageSize=n.pageSize();this.useRanges=n.options.serverPaging},_recalculate:function(){var t=this.pageSize,r=this.offset,i=this.viewSize,n=Math.ceil(r/t)*t;this.skip=n;this.midPageThreshold=n+t-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(t/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+t-i;this.nextFullRange=n;this.previousMidRange=r-i;this.previousFullRange=n-t}});vr=i.Observable.extend({init:function(n,t){var r=this;i.Observable.fn.init.call(r);this.dataSource=n;this.batchSize=t;this._total=0;this.buffer=new hi(n,3*t);this.buffer.bind({endreached:function(n){r.trigger("endreached",{index:n.index})},prefetching:function(n){r.trigger("prefetching",{skip:n.skip,take:n.take})},prefetched:function(n){r.trigger("prefetched",{skip:n.skip,take:n.take})},reset:function(){r._total=0;r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize);r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(n){var r,t,i=this.buffer,u=n*this.batchSize,e=this.batchSize,f=[];for(i.offset>u&&i.at(i.offset-1),t=0;e>t&&(r=i.at(u+t),null!==r);t++)f.push(r);return f},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});e(!0,i.data,{readers:{json:ei},Query:u,DataSource:h,HierarchicalDataSource:w,Node:si,ObservableObject:o,ObservableArray:y,LazyObservableArray:bt,LocalTransport:ui,RemoteTransport:fi,Cache:it,DataReader:ei,Model:p,Buffer:hi,BatchBuffer:vr})}(window.kendo.jQuery),function(n){function c(n,t){var i=n.x.location,r=n.y.location,u=t.x.location,f=t.y.location,e=i-u,o=r-f;return{center:{x:(i+u)/2,y:(r+f)/2},distance:Math.sqrt(e*e+o*o)}}function e(n){var s,f,t,r=[],u=n.originalEvent,e=n.currentTarget,o=0;if(n.api)r.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(f=u?u.changedTouches:[],s=f.length;s>o;o++)t=f[o],r.push({location:t,event:n,target:t.target,currentTarget:e,id:t.identifier,type:"touch"});else r.push(i.pointers||i.msPointers?{location:u,event:n,target:n.target,currentTarget:e,id:u.pointerId,type:"pointer"}:{id:1,event:n,target:n.target,currentTarget:e,location:n,type:"mouse"});return r}function l(n){for(var r=t.eventMap.up.split(" "),i=0,u=r.length;u>i;i++)n(r[i])}var t=window.kendo,i=t.support,et=window.document,a=t.Class,v=t.Observable,u=n.now,f=n.extend,y=i.mobileOS,ot=y&&y.android,p=800,w=i.browser.msie?5:0,b="press",k="hold",d="select",g="start",o="move",s="end",nt="cancel",h="tap",tt="release",st="gesturestart",it="gesturechange",rt="gestureend",ut="gesturetap",ht={api:0,touch:0,mouse:9,pointer:9},ct=!i.touch||i.mouseAndTouchPresent,ft=a.extend({init:function(n,t){var i=this;i.axis=n;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=u()},move:function(n){var t=this,i=n["page"+t.axis],r=u(),f=r-t.timeStamp||1;(i||!ot)&&(t.delta=i-t.location,t._updateLocationData(n),t.initialDelta=i-t.startLocation,t.velocity=t.delta/f,t.timeStamp=r)},_updateLocationData:function(n){var t=this,i=t.axis;t.location=n["page"+i];t.client=n["client"+i];t.screen=n["screen"+i]}}),lt=a.extend({init:function(n,t,i){f(this,{x:new ft("X",i.location),y:new ft("Y",i.location),type:i.type,threshold:n.threshold||ht[i.type],userEvents:n,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(n.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(b,this.pressEvent)},_hold:function(){this._trigger(k,this.pressEvent)},move:function(n){var t=this;if(!t._finished){if(t.x.move(n.location),t.y.move(n.location),!t._moved){if(t._withinIgnoreThreshold())return;if(r.current&&r.current!==t.userEvents)return t.dispose();t._start(n)}t._finished||t._trigger(o,n)}},end:function(n){var t=this;t.endTime=u();t._finished||(t._finished=!0,t._trigger(tt,n),t._moved?t._trigger(s,n):t._trigger(h,n),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var i=this.userEvents,t=i.touches;this._finished=!0;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(n.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(n){clearTimeout(this._holdTimeout);this.startTime=u();this._moved=!0;this._trigger(g,n)},_trigger:function(n,t){var i=this,r=t.event,u={touch:i,x:i.x,y:i.y,target:i.target,event:r};i.userEvents.notify(n,u)&&r.preventDefault()},_withinIgnoreThreshold:function(){var n=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(n*n+t*t)<=this.threshold}}),r=v.extend({init:function(r,u){var a,y,ft,e=this,c=t.guid();u=u||{};a=e.filter=u.filter;e.threshold=u.threshold||w;e.minHold=u.minHold||p;e.touches=[];e._maxTouches=u.multiTouch?2:1;e.allowSelection=u.allowSelection;e.captureUpIfMoved=u.captureUpIfMoved;e.eventNS=c;r=n(r).handler(e);v.fn.init.call(e);f(e,{element:r,surface:n(u.global&&ct?et.documentElement:u.surface||r),stopPropagation:u.stopPropagation,pressed:!1});e.surface.handler(e).on(t.applyEventMap("move",c),"_move").on(t.applyEventMap("up cancel",c),"_end");r.on(t.applyEventMap("down",c),a,"_start");(i.pointers||i.msPointers)&&r.css("-ms-touch-action","pinch-zoom double-tap-zoom");u.preventDragEvent&&r.on(t.applyEventMap("dragstart",c),t.preventDefault);r.on(t.applyEventMap("mousedown",c),a,{root:r},"_select");e.captureUpIfMoved&&i.eventCapture&&(y=e.surface[0],ft=n.proxy(e.preventIfMoving,e),l(function(n){y.addEventListener(n,ft,!0)}));e.bind([b,k,h,g,o,s,tt,nt,st,it,rt,ut,d],u)},preventIfMoving:function(n){this._isMoved()&&n.preventDefault()},destroy:function(){var t,n=this;n._destroyed||(n._destroyed=!0,n.captureUpIfMoved&&i.eventCapture&&(t=n.surface[0],l(function(i){t.removeEventListener(i,n.preventIfMoving)})),n.element.kendoDestroy(n.eventNS),n.surface.kendoDestroy(n.eventNS),n.element.removeData("handler"),n.surface.removeData("handler"),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget)},capture:function(){r.current=this},cancel:function(){this._disposeAll();this.trigger(nt)},notify:function(n,t){var r=this,i=r.touches;if(this._isMultiTouch()){switch(n){case o:n=it;break;case s:n=rt;break;case h:n=ut}f(t,{touches:i},c(i[0],i[1]))}return this.trigger(n,f(t,{type:n}))},press:function(n,t,i){this._apiCall("_start",n,t,i)},move:function(n,t){this._apiCall("_move",n,t)},end:function(n,t){this._apiCall("_end",n,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var n=this.touches;n.length>0;)n.pop().dispose()},_isMoved:function(){return n.grep(this.touches,function(n){return n.isMoved()}).length},_select:function(n){(!this.allowSelection||this.trigger(d,{event:n}))&&n.preventDefault()},_start:function(t){var f,u,i=this,o=0,c=i.filter,s=e(t),l=s.length,h=t.which;if(!(h&&h>1||i._maxTouchesReached()))for(r.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();l>o&&!i._maxTouchesReached();o++)u=s[o],f=c?n(u.currentTarget):i.element,f.length&&(u=new lt(i,f,u),i.touches.push(u),u.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))},_move:function(n){this._eachTouch("move",n)},_end:function(n){this._eachTouch("end",n)},_eachTouch:function(n,t){for(var r,u,f,c=this,o={},s=e(t),h=c.touches,i=0;h.length>i;i++)r=h[i],o[r.id]=r;for(i=0;s.length>i;i++)u=s[i],f=o[u.id],f&&f[n](u)},_apiCall:function(t,i,r,u){this[t]({api:!0,pageX:i,pageY:r,clientX:i,clientY:r,target:n(u||this.element)[0],stopPropagation:n.noop,preventDefault:n.noop})}});r.defaultThreshold=function(n){w=n};r.minHold=function(n){p=n};t.getTouches=e;t.touchDelta=c;t.UserEvents=r}(window.kendo.jQuery),function(n,t){function wt(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function a(n,t){return parseInt(n.css(t),10)||0}function nt(n,t){return Math.min(Math.max(n,t.min),t.max)}function tt(n,t){var i=k(n),r=i.left+a(n,"borderLeftWidth")+a(n,"paddingLeft"),u=i.top+a(n,"borderTopWidth")+a(n,"paddingTop"),f=r+n.width()-t.outerWidth(!0),e=u+n.height()-t.outerHeight(!0);return{x:{min:r,max:f},y:{min:u,max:e}}}function bt(i,r,u){for(var o,e,f=0,s=r&&r.length,h=u&&u.length;i&&i.parentNode;){for(f=0;s>f;f++)if(o=r[f],o.element[0]===i)return{target:o,targetElement:i};for(f=0;h>f;f++)if(e=u[f],n.contains(e.element[0],i)&&w.matchesSelector.call(i,e.options.filter))return{target:e,targetElement:i};i=i.parentNode}return t}function it(n,t){var i,u=t.options.group,r=n[u];if(o.fn.destroy.call(t),r.length>1){for(i=0;r.length>i;i++)if(r[i]==t){r.splice(i,1);break}}else r.length=0,delete n[u]}var f,p,rt,c,ut,ft,i=window.kendo,w=i.support,b=window.document,kt=i.Class,o=i.ui.Widget,e=i.Observable,dt=i.UserEvents,u=n.proxy,r=n.extend,k=i.getOffset,v={},s={},h={},d=i.elementUnderCursor,et="keyup",l="change",ot="dragstart",st="hold",ht="drag",ct="dragend",lt="dragcancel",at="hintDestroyed",g="dragenter",y="dragleave",vt="drop",gt=e.extend({init:function(t,r){var f=this,o=t[0];f.capture=!1;o.addEventListener?(n.each(i.eventMap.down.split(" "),function(){o.addEventListener(this,u(f._press,f),!0)}),n.each(i.eventMap.up.split(" "),function(){o.addEventListener(this,u(f._release,f),!0)})):(n.each(i.eventMap.down.split(" "),function(){o.attachEvent(this,u(f._press,f))}),n.each(i.eventMap.up.split(" "),function(){o.attachEvent(this,u(f._release,f))}));e.fn.init.call(f);f.bind(["press","release"],r||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(n){var t=this;t.trigger("press");t.capture&&n.preventDefault()},_release:function(n){var t=this;t.trigger("release");t.capture&&(n.preventDefault(),t.cancelCapture())}}),yt=e.extend({init:function(t){var i=this;e.fn.init.call(i);i.forcedEnabled=!1;n.extend(i,t);i.scale=1;i.horizontal?(i.measure="offsetWidth",i.scrollSize="scrollWidth",i.axis="x"):(i.measure="offsetHeight",i.scrollSize="scrollHeight",i.axis="y")},makeVirtual:function(){n.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(n,t){(this._virtualMin!==n||this._virtualMax!==t)&&(this._virtualMin=n,this._virtualMax=t,this.update())},outOfBounds:function(n){return n>this.max||this.min>n},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(n){this.scale=n},update:function(n){var t=this,u=t.virtual?t._virtualMax:t.getTotal(),r=u*t.scale,i=t.getSize();(0!==u||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/u,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,n||t.trigger(l,t))}}),ni=e.extend({init:function(n){var t=this;e.fn.init.call(t);t.x=new yt(r({horizontal:!0},n));t.y=new yt(r({horizontal:!1},n));t.container=n.container;t.forcedMinScale=n.minScale;t.maxScale=n.maxScale||100;t.bind(l,n)},rescale:function(n){this.x.rescale(n);this.y.rescale(n);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var n=this;n.x.update();n.y.update();n.enabled=n.x.enabled||n.y.enabled;n.minScale=n.forcedMinScale||Math.min(n.x.minScale,n.y.minScale);n.fitScale=Math.max(n.x.minScale,n.y.minScale);n.trigger(l)}}),pt=e.extend({init:function(n){var t=this;r(t,n);e.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(n){var t=this,i=t.dimension,r=t.axis,u=t.movable,f=u[r]+n;i.enabled&&((i.min>f&&0>n||f>i.max&&n>0)&&(n*=t.resistance),u.translateAxis(r,n),t.trigger(l,t))}}),ti=kt.extend({init:function(n){var u,f,e,i,t=this;r(t,{elastic:!0},n);e=t.elastic?.5:0;i=t.movable;t.x=u=new pt({axis:"x",dimension:t.dimensions.x,resistance:e,movable:i});t.y=f=new pt({axis:"y",dimension:t.dimensions.y,resistance:e,movable:i});t.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(n){t.gesture=n;t.offset=t.dimensions.container.offset()},gesturechange:function(n){var e,o,s,h=t.gesture,c=h.center,l=n.center,r=n.distance/h.distance,v=t.dimensions.minScale,a=t.dimensions.maxScale;v>=i.scale&&1>r&&(r+=.8*(1-r));i.scale*r>=a&&(r=a/i.scale);o=i.x+t.offset.left;s=i.y+t.offset.top;e={x:(o-c.x)*r+l.x-o,y:(s-c.y)*r+l.y-s};i.scaleWith(r);u.dragMove(e.x);f.dragMove(e.y);t.dimensions.rescale(i.scale);t.gesture=n;n.preventDefault()},move:function(n){n.event.target.tagName.match(/textarea|input/i)||(u.dimension.enabled||f.dimension.enabled?(u.dragMove(n.x.delta),f.dragMove(n.y.delta),n.preventDefault()):n.touch.skip())},end:function(n){n.preventDefault()}})}}),ii=w.transitions.prefix+"Transform";p=w.hasHW3D?function(n,t,i){return"translate3d("+n+"px,"+t+"px,0) scale("+i+")"}:function(n,t,i){return"translate("+n+"px,"+t+"px) scale("+i+")"};rt=e.extend({init:function(t){var i=this;e.fn.init.call(i);i.element=n(t);i.element[0].style.webkitTransformOrigin="left top";i.x=0;i.y=0;i.scale=1;i._saveCoordinates(p(i.x,i.y,i.scale))},translateAxis:function(n,t){this[n]+=t;this.refresh()},scaleTo:function(n){this.scale=n;this.refresh()},scaleWith:function(n){this.scale*=n;this.refresh()},translate:function(n){this.x+=n.x;this.y+=n.y;this.refresh()},moveAxis:function(n,t){this[n]=t;this.refresh()},moveTo:function(n){r(this,n);this.refresh()},refresh:function(){var t,n=this,r=n.x,u=n.y;n.round&&(r=Math.round(r),u=Math.round(u));t=p(r,u,n.scale);t!=n.coordinates&&(i.support.browser.msie&&10>i.support.browser.version?(n.element[0].style.position="absolute",n.element[0].style.left=n.x+"px",n.element[0].style.top=n.y+"px"):n.element[0].style[ii]=t,n._saveCoordinates(t),n.trigger(l))},_saveCoordinates:function(n){this.coordinates=n}});c=o.extend({init:function(n,t){var i,r=this;o.fn.init.call(r,n,t);i=r.options.group;i in s?s[i].push(r):s[i]=[r]},events:[g,y,vt],options:{name:"DropTarget",group:"default"},destroy:function(){it(s,this)},_trigger:function(n,i){var u=this,f=v[u.options.group];return f?u.trigger(n,r({},i.event,{draggable:f,dropTarget:i.dropTarget})):t},_over:function(n){this._trigger(g,n)},_out:function(n){this._trigger(y,n)},_drop:function(n){var t=this,i=v[t.options.group];i&&(i.dropped=!t._trigger(vt,n))}});c.destroyGroup=function(n){var t,i=s[n]||h[n];if(i){for(t=0;i.length>t;t++)o.fn.destroy.call(i[t]);i.length=0;delete s[n];delete h[n]}};c._cache=s;ut=c.extend({init:function(n,t){var i,r=this;o.fn.init.call(r,n,t);i=r.options.group;i in h?h[i].push(r):h[i]=[r]},destroy:function(){it(h,this)},options:{name:"DropTargetArea",group:"default",filter:null}});ft=o.extend({init:function(n,t){var i=this;o.fn.init.call(i,n,t);i._activated=!1;i.userEvents=new dt(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:u(i._start,i),hold:u(i._hold,i),move:u(i._drag,i),end:u(i._end,i),cancel:u(i._cancel,i),select:u(i._select,i)});i._afterEndHandler=u(i._afterEnd,i);i._captureEscape=u(i._captureEscape,i)},events:[st,ot,ht,ct,lt,at],options:{name:"Draggable",distance:i.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(n){var t=this;n.keyCode===i.keys.ESC&&(t._trigger(lt,{event:n}),t.userEvents.cancel())},_updateHint:function(t){var i,r=this,o=r.options,u=r.boundaries,e=o.axis,f=r.options.cursorOffset;f?i={left:t.x.location+f.left,top:t.y.location+f.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,i=n.extend({},r.hintOffset));u&&(i.top=nt(i.top,u.y),i.left=nt(i.left,u.x));"x"===e?delete i.top:"y"===e&&delete i.left;r.hint.css(i)},_shouldIgnoreTarget:function(t){var i=this.options.ignore;return i&&n(t).is(i)},_select:function(n){this._shouldIgnoreTarget(n.event.target)||n.preventDefault()},_start:function(r){var f,u=this,e=u.options,s=e.container,o=e.hint;return this._shouldIgnoreTarget(r.touch.initialTouch)||e.holdToDrag&&!u._activated?(u.userEvents.cancel(),t):(u.currentTarget=r.target,u.currentTargetOffset=k(u.currentTarget),o&&(u.hint&&u.hint.stop(!0,!0).remove(),u.hint=i.isFunction(o)?n(o.call(u,u.currentTarget)):o,f=k(u.currentTarget),u.hintOffset=f,u.hint.css({position:"absolute",zIndex:2e4,left:f.left,top:f.top}).appendTo(b.body),u.angular("compile",function(){u.hint.removeAttr("ng-repeat");for(var t=n(r.target);!t.data("$$kendoScope")&&t.length;)t=t.parent();return{elements:u.hint.get(),scopeFrom:t.data("$$kendoScope")}})),v[e.group]=u,u.dropped=!1,s&&(u.boundaries=tt(s,u.hint)),u._trigger(ot,r)&&(u.userEvents.cancel(),u._afterEnd()),u.userEvents.capture(),n(b).on(et,u._captureEscape),t)},_hold:function(n){this.currentTarget=n.target;this._trigger(st,n)?this.userEvents.cancel():this._activated=!0},_drag:function(i){var u=this;i.preventDefault();u._withDropTarget(i,function(u,e){if(!u)return f&&(f._trigger(y,r(i,{dropTarget:n(f.targetElement)})),f=null),t;if(f){if(e===f.targetElement)return;f._trigger(y,r(i,{dropTarget:n(f.targetElement)}))}u._trigger(g,r(i,{dropTarget:n(e)}));f=r(u,{targetElement:e})});u._trigger(ht,r(i,{dropTarget:f}));u.hint&&u._updateHint(i)},_end:function(t){var i=this;i._withDropTarget(t,function(i,u){i&&(i._drop(r({},t,{dropTarget:n(u)})),f=null)});i._trigger(ct,t);i._cancel(t.event)},_cancel:function(){var n=this;n._activated=!1;n.hint&&!n.dropped?setTimeout(function(){n.hint.stop(!0,!0).animate(n.currentTargetOffset,"fast",n._afterEndHandler)},0):n._afterEnd()},_trigger:function(n,t){var i=this;return i.trigger(n,r({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget}))},_withDropTarget:function(n,t){var i,u,r=this,o=r.options,f=s[o.group],e=h[o.group];(f&&f.length||e&&e.length)&&(i=d(n),r.hint&&wt(r.hint[0],i)&&(r.hint.hide(),i=d(n),i||(i=d(n)),r.hint.show()),u=bt(i,f,e),u?t(u.target,u.targetElement):t())},destroy:function(){var n=this;o.fn.destroy.call(n);n._afterEnd();n.userEvents.destroy();n.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove();delete v[t.options.group];t.trigger("destroy");t.trigger(at);n(b).off(et,t._captureEscape)}});i.ui.plugin(c);i.ui.plugin(ut);i.ui.plugin(ft);i.TapCapture=gt;i.containerBoundaries=tt;r(i.ui,{Pane:ti,PaneDimensions:ni,Movable:rt})}(window.kendo.jQuery),function(n,t){function y(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function p(n){return n.clone()}function w(n){return n.clone().removeAttr("id").css("visibility","hidden")}var i=window.kendo,u=i.ui.Widget,o="start",s="beforeMove",h="move",r="end",f="change",c="cancel",l="sort",a="remove",v="receive",e=-1,b=u.extend({init:function(n,t){var i=this;u.fn.init.call(i,n,t);i.options.placeholder||(i.options.placeholder=w);i.options.hint||(i.options.hint=p);i._draggable=i._createDraggable()},events:[o,s,h,r,f,c],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,cursor:"auto"},destroy:function(){this._draggable.destroy();u.fn.destroy.call(this)},_createDraggable:function(){var t=this,u=t.element,r=t.options;return new i.ui.Draggable(u,{filter:r.filter,hint:i.isFunction(r.hint)?r.hint:n(r.hint),holdToDrag:r.holdToDrag,container:r.container?n(r.container):null,cursorOffset:r.cursorOffset,axis:r.axis,ignore:r.ignore,dragstart:n.proxy(t._dragstart,t),dragcancel:n.proxy(t._dragcancel,t),drag:n.proxy(t._drag,t),dragend:n.proxy(t._dragend,t)})},_dragstart:function(t){var r=this.draggedElement=t.currentTarget,f=(t.target||i.elementUnderCursor(t),this.options.disabled),e=this.options.handler,u=this.options.placeholder,s=this.placeholder=n(i.isFunction(u)?u.call(this,r):u);f&&r.is(f)?t.preventDefault():e&&!n(t.initialTarget).is(e)?t.preventDefault():this.trigger(o,{item:r,draggableEvent:t})?t.preventDefault():(r.css("display","none"),r.before(s),this._setCursor())},_dragcancel:function(){this._cancel();this.trigger(c,{item:this.draggedElement});this._resetCursor()},_drag:function(i){var c,e,u,f,l,v=this.draggedElement,r=this._findTarget(i),a={left:i.x.location,top:i.y.location},o={x:i.x.delta,y:i.y.delta},h=this.options.axis,s={item:v,list:this,draggableEvent:i};if("x"===h||"y"===h)return this._movementByAxis(h,a,o[h],s),t;if(r){if(c=this._getElementCenter(r.element),e={left:Math.round(a.left-c.left),top:Math.round(a.top-c.top)},n.extend(s,{target:r.element}),r.appendToBottom)return this._movePlaceholder(r,null,s),t;if(r.appendAfterHidden&&this._movePlaceholder(r,"next",s),this._isFloating(r.element)?0>o.x&&0>e.left?u="prev":o.x>0&&e.left>0&&(u="next"):0>o.y&&0>e.top?u="prev":o.y>0&&e.top>0&&(u="next"),u){for(l="prev"===u?jQuery.fn.prev:jQuery.fn.next,f=l.call(r.element);f.length&&!f.is(":visible");)f=l.call(f);f[0]!=this.placeholder[0]&&this._movePlaceholder(r,u,s)}}},_dragend:function(i){var s,y,u,h,c=this.placeholder,o=this.draggedElement,p=this.indexOf(o),w=this.indexOf(c),b=this.options.connectWith;return this._resetCursor(),u={action:l,item:o,oldIndex:p,newIndex:w,draggableEvent:i},w>=0?y=this.trigger(r,u):(s=c.parents(b).getKendoSortable(),u.action=a,h=n.extend({},u,{action:v,oldIndex:e,newIndex:s.indexOf(c)}),y=!(!this.trigger(r,u)&&!s.trigger(r,h))),y||w===p?(this._cancel(),t):(c.replaceWith(o),o.show(),this._draggable.dropped=!0,u={action:this.indexOf(o)!=e?l:a,item:o,oldIndex:p,newIndex:this.indexOf(o),draggableEvent:i},this.trigger(f,u),s&&(h=n.extend({},u,{action:v,oldIndex:e,newIndex:s.indexOf(o)}),s.trigger(f,h)),t)},_findTarget:function(i){var f,u,r=this._findElementUnderCursor(i),e=this.options.connectWith;return n.contains(this.element[0],r)?(f=this.items(),u=f.filter(r)[0]||f.has(r)[0],u?{element:n(u),sortable:this}:null):this.element[0]==r&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==r&&this._isLastHidden()?(u=this.items().eq(0),{element:u,sortable:this,appendAfterHidden:!0}):e?this._searchConnectedTargets(r,i):t},_findElementUnderCursor:function(n){var t=i.elementUnderCursor(n),r=n.sender;return this.items(),y(r.hint[0],t)&&(r.hint.hide(),t=i.elementUnderCursor(n),t||(t=i.elementUnderCursor(n)),r.hint.show()),t},_searchConnectedTargets:function(t,i){for(var r,o,f,e=n(this.options.connectWith),u=0;e.length>u;u++)if(r=e.eq(u).getKendoSortable(),n.contains(e[u],t)){if(r)return o=r.items(),f=o.filter(t)[0]||o.has(t)[0],f?(r.placeholder=this.placeholder,{element:n(f),sortable:r}):null}else if(e[u]==t){if(r&&r._isEmpty())return{element:e.eq(u),sortable:r,appendToBottom:!0};if(this._isCursorAfterLast(r,i))return f=r.items().last(),{element:f,sortable:r}}},_isCursorAfterLast:function(n,t){var r,f,u=n.items().last(),e={left:t.x.location,top:t.y.location};return r=i.getOffset(u),r.top+=u.outerHeight(),r.left+=u.outerWidth(),f=this._isFloating(u)?r.left-e.left:r.top-e.top,0>f?!0:!1},_movementByAxis:function(t,i,r,u){var e,o="x"===t?i.left:i.top,f=0>r?this.placeholder.prev():this.placeholder.next();f.length&&!f.is(":visible")&&(f=0>r?f.prev():f.next());n.extend(u,{target:f});e=this._getElementCenter(f);e&&(e="x"===t?e.left:e.top);f.length&&0>r&&0>o-e?this._movePlaceholder({element:f,sortable:this},"prev",u):f.length&&r>0&&o-e>0&&this._movePlaceholder({element:f,sortable:this},"next",u)},_movePlaceholder:function(n,t,i){var r=this.placeholder;n.sortable.trigger(s,i)||(t?"prev"===t?n.element.before(r):"next"===t&&n.element.after(r):n.element.append(r),n.sortable.trigger(h,i))},_setCursor:function(){var t,i=this.options.cursor;i&&"auto"!==i&&(t=n(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:i}),this._cursorStylesheet||(this._cursorStylesheet=n("<style>* { cursor: "+i+" !important; }<\/style>")),this._cursorStylesheet.appendTo(t))},_resetCursor:function(){this._originalCursorType&&(n(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(n){var t=n.length?i.getOffset(n):null;return t&&(t.top+=n.outerHeight()/2,t.left+=n.outerWidth()/2),t},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var n=this.options.filter;return n?this.element.find(n):this.element.children()},indexOf:function(n){var i=this._items(),t=this.placeholder,r=this.draggedElement;return t&&n[0]==t[0]?i.not(r).index(n):i.not(t).index(n)},items:function(){var t=this.placeholder,n=this._items();return t&&(n=n.not(t)),n},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});i.ui.plugin(b)}(window.kendo.jQuery),function(n,t){function o(n){return n[n.length-1]}function s(n){return n instanceof Array?n:[n]}function c(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n}function nt(n,t,i){return Math.ceil(n*t/i)}function y(n,t,i){var r=document.createElement(i||"div");return t&&(r.className=t),n.appendChild(r),r}function tt(){var r,t=n('<div class="k-popup"><ul class="k-list"><li class="k-item"><li><\/ul><\/div>');return t.css({position:"absolute",left:"-200000px",visibility:"hidden"}),t.appendTo(document.body),r=parseFloat(i.getComputedStyles(t.find(".k-item")[0],["line-height"])["line-height"]),t.remove(),r}function it(n,t,i){return{down:n*i,up:n*(t-1-i)}}function rt(n,t){var i=(n.listScreens-1-n.threshold)*t,r=n.threshold*t;return function(n,t,u){return t>u?i>t-n.top:0===n.top||t-n.top>r}}function ut(n,t){return function(i){return t(n.scrollTop,i)}}function ft(n){return function(t,i){return n(t.items,t.index,i),t}}function et(n,t){i.support.browser.msie&&10>i.support.browser.version?n.style.top=t+"px":(n.style.webkitTransform="translateY("+t+"px)",n.style.transform="translateY("+t+"px)")}function ot(t,r){return function(u,f){for(var e=0,o=u.length;o>e;e++)t(u[e],f[e],r),f[e].item&&(this.trigger(b,{item:n(u[e]),data:f[e].item,ns:i.ui}),f[e].index===this._selectedIndex&&this.select(this._selectedIndex))}}function st(n,t){var i;return t>0?(i=n.splice(0,t),n.push.apply(n,i)):(i=n.splice(t,-t),n.unshift.apply(n,i)),i}function ht(i,f,e){var o=e.template;i=n(i);f.item||(o=e.placeholderTemplate);this.angular("cleanup",function(){return{elements:[i]}});i.attr("data-uid",f.item?f.item.uid:"").attr("data-offset-index",f.index).html(o(f.item||{}));i.toggleClass(r,f.current);i.toggleClass(u,f.selected);i.toggleClass("k-first",f.newGroup);i.toggleClass("k-loading-item",!f.item);0!==f.index&&f.newGroup&&n("<div class="+gt+"><\/div>").appendTo(i).html(e.groupTemplate({group:f.group}));f.top!==t&&et(i[0],f.top);this.angular("compile",function(){return{elements:[i],data:[{dataItem:f.item,group:f.group,newGroup:f.newGroup}]}})}function ct(n,t){for(var u,r,e=t.length,f=[],i=0;n.length>i;i++)for(u=n[i],r=0;e>r;r++)u===t[r]&&f.push({index:i,item:u});return f}var i=window.kendo,p=i.ui,l=p.Widget,lt=p.DataBoundWidget,at=n.proxy,vt="k-virtual-wrap",yt="k-virtual-list",pt="k-virtual-content",wt="k-list",bt="k-group-header",a="k-virtual-item",kt="k-item",dt="k-height-container",gt="k-group",u="k-state-selected",r="k-state-focused",w="k-state-hover",f="change",h="click",v="listBound",b="itemChange",k="activate",d="deactivate",e=".VirtualList",g=lt.extend({init:function(t,r){var u=this;u._listCreated=!1;u._fetching=!1;u._filter=!1;l.fn.init.call(u,t,r);u.options.itemHeight||(u.options.itemHeight=tt());r=u.options;u.element.addClass(wt+" "+yt).attr("role","listbox");u.content=u.element.wrap("<div unselectable='on' class='"+pt+"'><\/div>").parent();u.wrapper=u.content.wrap("<div class='"+vt+"'><\/div>").parent();u.header=u.content.before("<div class='"+bt+"'><\/div>").prev();u.element.on("mouseenter"+e,"li:not(.k-loading-item)",function(){n(this).addClass(w)}).on("mouseleave"+e,"li",function(){n(this).removeClass(w)});u._values=s(u.options.value);u._selectedDataItems=[];u._selectedIndexes=[];u._rangesList={};u._activeDeferred=null;u._promisesList=[];u._optionID=i.guid();u.setDataSource(r.dataSource);u.content.on("scroll"+e,function(){u._renderItems()});u._selectable()},options:{name:"VirtualList",autoBind:!0,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:group#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[f,h,v,b,k,d],setOptions:function(n){l.fn.setOptions.call(this,n);this._selectProxy&&this.options.selectable===!1?this.element.off(h,"."+a,this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable();this.refresh()},items:function(){return n(this._items)},destroy:function(){this.wrapper.off(e);this.dataSource.unbind(f,this._refreshHandler);l.fn.destroy.call(this)},setDataSource:function(t){var e,r=this,u=t||{};u=n.isArray(u)?{data:u}:u;u=i.data.DataSource.create(u);r.dataSource?(r.dataSource.unbind(f,r._refreshHandler),e=r.value(),r.value([]),r.mute(function(){r.value(e)})):r._refreshHandler=n.proxy(r.refresh,r);r.dataSource=u.bind(f,r._refreshHandler);0!==r.dataSource.view().length?r.refresh():r.options.autoBind&&r.dataSource.fetch()},refresh:function(n){var i,t=this,r=n&&n.action;t._mute||(t._fetching?t._renderItems&&t._renderItems(!0):(t._filter&&t.focus(0),t._createList(),r||!t._values.length||t._filter?(t._listCreated=!0,t.trigger(v)):t.value(t._values,!0).done(function(){t._listCreated=!0;t.trigger(v)})),"itemchange"===r&&(i=ct(t._selectedDataItems,n.items),i.length&&t.trigger("selectedItemChange",{items:i})),t._fetching=!1)},removeAt:function(n){return this._selectedIndexes.splice(n,1),this._values.splice(n,1),{position:n,dataItem:this._selectedDataItems.splice(n,1)[0]}},setValue:function(n){(""===n||null===n)&&(n=[]);this._values=s(n)},value:function(i,r){var u=this;return i===t?u._values:(u._valueDeferred&&"resolved"!==u._valueDeferred.state()||(u._valueDeferred=n.Deferred()),(""===i||null===i)&&(i=[]),i=s(i),i.length&&"multiple"!==u.options.selectable||u.select(-1),u._values=i,(u.isBound()&&!u._mute||r)&&u._prefetchByValue(i),u._valueDeferred)},_prefetchByValue:function(n){for(var r,f,i=this,o=i._dataView,l=i._valueGetter,h=!1,e=[],u=0;n.length>u;u++)for(f=0;o.length>f;f++)r=o[f].item,r&&(h=c(r)?n[u]===r:n[u]===l(r),h&&e.push(f));if(e.length===n.length)return i._values=[],i.select(e),t;if("function"!=typeof i.options.valueMapper)throw Error("valueMapper is not provided");i.options.valueMapper({value:"multiple"===this.options.selectable?n:n[0],success:function(n){i._values=[];i.select(s(n))}})},deferredRange:function(t){var s=this.dataSource,i=this.itemCount,u=this._rangesList,f=n.Deferred(),e=[],o=Math.floor(t/i)*i,r=Math.ceil(t/i)*i,h=r===o?[r]:[o,r];return n.each(h,function(t,r){var f,h=r+i,o=u[r];o&&o.end===h?f=o.deferred:(f=n.Deferred(),u[r]={end:h,deferred:f},s._multiplePrefetch(r,i,function(){f.resolve()}));e.push(f)}),n.when.apply(n,e).then(function(){f.resolve()}),f},prefetch:function(t){var i=this,r=this.itemCount,u=!i._promisesList.length;return i._activeDeferred||(i._activeDeferred=n.Deferred(),i._promisesList=[]),n.each(t,function(n,t){var u=Math.floor(t/r)*r;i._promisesList.push(i.deferredRange(u))}),u&&n.when.apply(n,i._promisesList).done(function(){i._activeDeferred.resolve();i._activeDeferred=null;i._promisesList=[]}),i._activeDeferred},_findDataItem:function(n){var t,i,r=this.dataSource.view();if("group"===this.options.type)for(i=0;r.length>i;i++){if(t=r[i].items,!(n>t.length))return t[n];n-=t.length}return r[n]},selectedDataItems:function(){return this._selectedDataItems},scrollTo:function(n){this.content.scrollTop(n)},scrollToIndex:function(n){this.scrollTo(n*this.options.itemHeight)},focus:function(i){var f,u,l,e,s,h,c=this.options.itemHeight,v=this._optionID,a=!0;if(i===t)return e=this.element.find("."+r),e.length?e:null;if("function"==typeof i)for(l=this.dataSource.flatView(),s=0;l.length>s;s++)if(i(l[s])){i=s;break}return i instanceof Array&&(i=o(i)),isNaN(i)?(f=n(i),u=parseInt(n(f).attr("data-offset-index"),10)):(u=i,f=this._getElementByIndex(u)),-1===u?(this.element.find("."+r).removeClass(r),this._focusedIndex=t,t):(f.length?(f.hasClass(r)&&(a=!1),this._focusedIndex!==t&&(e=this._getElementByIndex(this._focusedIndex),e.removeClass(r).removeAttr("id"),a&&this.trigger(d)),this._focusedIndex=u,f.addClass(r).attr("id",v),h=this._getElementLocation(u),"top"===h?this.scrollTo(u*c):"bottom"===h?this.scrollTo(u*c+c-this.screenHeight):"outScreen"===h&&this.scrollTo(u*c),a&&this.trigger(k)):(this._focusedIndex=u,this.items().removeClass(r),this.scrollToIndex(u)),t)},first:function(){this.scrollTo(0);this.focus(0)},last:function(){var n=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(n)},prev:function(){var i,n=this._focusedIndex;return!isNaN(n)&&n>0?(n-=1,this.focus(n),i=this.focus(),i&&i.hasClass("k-loading-item")&&(n+=1,this.focus(n)),n):t},next:function(){var i,n=this._focusedIndex,r=this.dataSource.total()-1;return!isNaN(n)&&r>n?(n+=1,this.focus(n),i=this.focus(),i&&i.hasClass("k-loading-item")&&(n-=1,this.focus(n)),n):t},select:function(n){var r,u,e,i=this,s="multiple"!==i.options.selectable,c=!!i._activeDeferred,h=[];return n===t?i._selectedIndexes.slice():(r=i._getIndecies(n),i._filter&&!s&&i._deselectFiltered(r)||!r.length||s&&!i._filter&&o(r)===o(this._selectedIndexes)||(h=i._deselect(r),s&&(i._activeDeferred=null,c=!1,r.length&&(r=[o(r)])),e=function(){var n=i._select(r);i.focus(r);i._valueDeferred&&i._valueDeferred.resolve();(n.length||h.length)&&i.trigger(f,{added:n,removed:h})},u=i.prefetch(r),c||(u?u.done(e):e())),t)},isBound:function(){return this._listCreated},mute:function(n){this._mute=!0;at(n(),this);this._mute=!1},filter:function(n){return n===t?this._filter:(this._filter=n,t)},skipUpdate:n.noop,_getElementByIndex:function(t){return this.items().filter(function(i,r){return t===parseInt(n(r).attr("data-offset-index"),10)})},_clean:function(){this.result=t;this._lastScrollTop=t;n(this.heightContainer).remove();this.heightContainer=t;this.element.empty()},_screenHeight:function(){var n=this.options.height,t=this.content;t.height(n);this.screenHeight=n},_getElementLocation:function(n){var i=this.content.scrollTop(),f=this.screenHeight,r=this.options.itemHeight,t=n*r,e=t+r,u=i+f;return t===i-r||e>i&&i>t?"top":t===u||u>t&&e>u?"bottom":t>=i&&i+(f-r)>=t?"inScreen":"outScreen"},_templates:function(){var t,n={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(t in n)"function"!=typeof n[t]&&(n[t]=i.template(n[t]));this.templates=n},_generateItems:function(n,t){for(var i,r=[];t-->0;)i=document.createElement("li"),i.tabIndex=-1,i.className=a+" "+kt,i.setAttribute("role","option"),n.appendChild(i),r.push(i);return r},_saveInitialRanges:function(){var t,i=this.dataSource._ranges,r=n.Deferred();for(r.resolve(),this._rangesList={},t=0;i.length>t;t++)this._rangesList[i[t].start]={end:i[t].end,deferred:r}},_createList:function(){var t=this,u=t.content.get(0),r=t.options,i=t.dataSource;i.total();t._listCreated&&t._clean();t._saveInitialRanges();t._screenHeight();t._buildValueGetter();t.itemCount=nt(t.screenHeight,r.listScreens,r.itemHeight);t.itemCount>i.total()&&(t.itemCount=i.total());t._templates();t._items=t._generateItems(t.element[0],t.itemCount);t._setHeight(r.itemHeight*i.total());t.options.type=i.group().length?"group":"flat";"flat"===t.options.type?t.header.hide():t.header.show();t.getter=t._getter(function(){t._renderItems(!0)});t._onScroll=function(n,i){var r=t._listItems(t.getter);return t._fixedHeader(n,r(n,i))};t._renderItems=t._whenChanged(ut(u,t._onScroll),ft(t._reorderList(t._items,n.proxy(ht,t))));t._renderItems();t._calculateGroupPadding(t.screenHeight)},_setHeight:function(n){var r,i,t=this.heightContainer;if(t?r=t.offsetHeight:t=this.heightContainer=y(this.content[0],dt),n!==r)for(t.innerHTML="";n>0;)i=Math.min(n,25e4),y(t).style.height=i+"px",n-=i},_getter:function(){var u=null,n=this.dataSource,i=n.skip(),f=this.options.type,t=this.itemCount,r={};return function(e,o){var l,y,a,s,p,h,c,w,v=this;if(n.inRange(o,t)){if(i!==o&&(this._mute=!0,this._fetching=!0,n.range(o,t),i=o,this._fetching=!1,this._mute=!1),"group"===f){if(!r[o])for(y=r[o]=[],a=n.view(),s=0,p=a.length;p>s;s++)for(h=a[s],c=0,w=h.items.length;w>c;c++)y.push({item:h.items[c],group:h.value});l=r[o][e-o]}else l=n.view()[e-o];return l}return u!==o&&(u=o,i=o,this._fetching=!0,this.deferredRange(o).then(function(){var i=v._indexConstraint(v.content[0].scrollTop);i>=o&&o+t>=i&&(v._fetching=!0,n.range(o,t))})),null}},_fixedHeader:function(n,t){var i,u=this.currentVisibleGroup,f=this.options.itemHeight,e=Math.floor((n-t.top)/f),r=t.items[e];return r&&r.item&&(i=r.group,i!==u&&(this.header[0].innerHTML=i||"",this.currentVisibleGroup=i)),t},_itemMapper:function(n,t){var i,s=this.options.type,h=this.options.itemHeight,r=this._values,l=this._focusedIndex,u=!1,f=!1,e=!1,o=null,a=!1,v=this._valueGetter;if("group"===s&&(n&&(e=0===t||this._currentGroup&&this._currentGroup!==n.group,this._currentGroup=n.group),o=n?n.group:null,n=n?n.item:null),r.length&&n)for(i=0;r.length>i;i++)if(a=c(n)?r[i]===n:r[i]===v(n)){u=!0;break}return l===t&&(f=!0),{item:n?n:null,group:o,newGroup:e,selected:u,current:f,index:t,top:t*h}},_range:function(n){var i,t,u,f=this.itemCount,r=[];for(this._view={},this._currentGroup=null,t=n,u=n+f;u>t;t++)i=this._itemMapper(this.getter(t,n),t),r.push(i),this._view[i.index]=i;return this._dataView=r,r},_getDataItemsCollection:function(n,t){var i=this._range(this._listIndex(n,t));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var t=this.screenHeight,i=this.options,r=rt(i,t);return n.proxy(function(n,t){var i=this.result,u=this._lastScrollTop;return!t&&i&&r(i,n,u)||(i=this._getDataItemsCollection(n,u)),this._lastScrollTop=n,this.result=i,i},this)},_whenChanged:function(n,t){var i;return function(r){var u=n(r);u!==i&&(i=u,t(u,r))}},_reorderList:function(t,i){var u=this,f=t.length,r=-1/0;return i=n.proxy(ot(i,this.templates),this),function(n,e,o){var h,c,s=e-r;o||Math.abs(s)>=f?(h=t,c=n):(h=st(t,s),c=s>0?n.slice(-s):n.slice(0,-s));i(h,c,u._listCreated);r=e}},_bufferSizes:function(){var n=this.options;return it(this.screenHeight,n.listScreens,n.oppositeBuffer)},_indexConstraint:function(n){var t=this.itemCount,i=this.options.itemHeight,r=this.dataSource.total();return Math.min(Math.max(r-t,0),Math.max(0,Math.floor(n/i)))},_listIndex:function(n,t){var i,r=this._bufferSizes();return i=n-(n>t?r.down:r.up),this._indexConstraint(i)},_selectable:function(){this.options.selectable&&(this._selectProxy=n.proxy(this,"_clickHandler"),this.element.on(h+e,"."+a,this._selectProxy))},_getIndecies:function(n){var r,t,i=[];if("function"==typeof n)for(r=this.dataSource.flatView(),t=0;r.length>t;t++)if(n(r[t])){i.push(t);break}return"number"==typeof n&&i.push(n),n instanceof jQuery&&(n=parseInt(n.attr("data-offset-index"),10),isNaN(n)||i.push(n)),n instanceof Array&&(i=n),i},_deselect:function(i){var l,r,a,c,e,o,s=[],h=this._selectedIndexes,f=0,v=this.options.selectable,y=0;if(-1===i[f]){for(e=0;h.length>e;e++)r=h[e],this._getElementByIndex(r).removeClass(u),s.push({index:r,position:e,dataItem:this._selectedDataItems[e]});return this._values=[],this._selectedDataItems=[],this._selectedIndexes=[],i.splice(0,i.length),s}if(v===!0)l=i[f],r=h[f],r!==t&&l!==r&&(this._getElementByIndex(r).removeClass(u),s.push({index:r,position:f,dataItem:this._selectedDataItems[f]}),this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]);else if("multiple"===v)for(o=0;i.length>o;o++)if(f=n.inArray(i[o],h),r=h[f],r!==t){if(c=this._getElementByIndex(r),!c.hasClass("k-state-selected"))continue;c.removeClass(u);this._values.splice(f,1);this._selectedIndexes.splice(f,1);a=this._selectedDataItems.splice(f,1);i.splice(o,1);s.push({index:r,position:f+y,dataItem:a});y++;o--}return s},_deselectFiltered:function(t){for(var o,u,r,i,h=this.element[0].children,s=this._values,f=[],e=0;t.length>e;e++){for(r=-1,u=t[e],o=this._valueGetter(this._view[u].item),i=0;s.length>i;i++)if(o==s[i]){r=i;break}r>-1&&(f.push(this.removeAt(r)),n(h[u]).removeClass("k-state-selected"))}return f.length?(this.trigger("change",{added:[],removed:f}),!0):!1},_select:function(t){var r,o,i=this,h="multiple"!==this.options.selectable,e=this.dataSource,f=this.itemCount,l=this._valueGetter,s=[];return h&&(i._selectedIndexes=[],i._selectedDataItems=[],i._values=[]),o=e.skip(),n.each(t,function(n,t){var a=f>t?1:Math.floor(t/f)+1,h=(a-1)*f;i.mute(function(){e.range(h,f);r=i._findDataItem([t-h]);i._selectedIndexes.push(t);i._selectedDataItems.push(r);i._values.push(c(r)?r:l(r));s.push({index:t,dataItem:r});i._getElementByIndex(t).addClass(u);e.range(o,f)})}),s},_clickHandler:function(t){var i=n(t.currentTarget);!t.isDefaultPrevented()&&i.data("uid")&&this.trigger(h,{item:i})},_buildValueGetter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_calculateGroupPadding:function(n){var u=this.items().first(),t=this.header,r=0;t[0]&&"none"!==t[0].style.display&&("auto"!==n&&(r=i.support.scrollbar()),r+=parseFloat(u.css("border-right-width"),10)+parseFloat(u.children(".k-group").css("right"),10),t.css("padding-right",r))}});i.ui.VirtualList=g;i.ui.plugin(g)}(window.kendo.jQuery),function(n){function y(t,i){return t===i||n.contains(t,i)}var t=window.kendo,rt=t.ui,p=rt.Widget,f=t.support,r=t.getOffset,w="open",b="close",ut="deactivate",ft="activate",u="center",et="left",s="right",k="top",h="bottom",d="absolute",ot="hidden",c="body",g="location",e="position",st="visible",ht="effects",ct="k-state-active",l="k-state-border",at=/k-state-border-(\w+)/,lt=".k-picker-wrap, .k-dropdown-wrap, .k-link",vt="down",nt=n(document.documentElement),tt=n(window),a="scroll",v="resize scroll",yt=f.transitions.css,pt=yt+"transform",i=n.extend,o=".kendoPopup",it=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],wt=p.extend({init:function(r,u){var e,f=this;u=u||{};u.isRtl&&(u.origin=u.origin||h+" "+s,u.position=u.position||k+" "+s);p.fn.init.call(f,r,u);r=f.element;u=f.options;f.collisions=u.collision?u.collision.split(" "):[];f.downEvent=t.applyEventMap(vt,t.guid());1===f.collisions.length&&f.collisions.push(f.collisions[0]);e=n(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");u.appendTo=n(n(u.appendTo)[0]||e[0]||c);f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!u.isRtl).css({position:d}).appendTo(u.appendTo).on("mouseenter"+o,function(){f._hovered=!0}).on("mouseleave"+o,function(){f._hovered=!1});f.wrapper=n();u.animation===!1&&(u.animation={open:{effects:{}},close:{hide:!0,effects:{}}});i(u.animation.open,{complete:function(){f.wrapper.css({overflow:st});f._activated=!0;f._trigger(ft)}});i(u.animation.close,{complete:function(){f._animationClose()}});f._mousedownProxy=function(n){f._mousedown(n)};f._resizeProxy=function(n){f._resize(n)};u.toggleTarget&&n(u.toggleTarget).on(u.toggleEvent+o,n.proxy(f.toggle,f))},events:[w,ft,b,ut],options:{name:"Popup",toggleEvent:"click",origin:h+" "+et,position:k+" "+et,anchor:c,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var r,u,f,e,i=this,o=i.options;i.wrapper.hide();r=i.wrapper.data(g);u=n(o.anchor);r&&i.wrapper.css(r);o.anchor!=c&&(f=((u.attr("class")||"").match(at)||["","down"])[1],e=l+"-"+f,u.removeClass(e).children(lt).removeClass(ct).removeClass(e),i.element.removeClass(l+"-"+t.directions[f].reverse));i._closing=!1;i._trigger(ut)},destroy:function(){var u,i=this,r=i.options,f=i.element.off(o);p.fn.destroy.call(i);r.toggleTarget&&n(r.toggleTarget).off(o);r.modal||(nt.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(a,i._resizeProxy),tt.unbind(v,i._resizeProxy));t.destroy(i.element.children());f.removeData();r.appendTo[0]===document.body&&(u=f.parent(".k-animation-container"),u[0]?u.remove():f.remove())},open:function(r,u){var s,p,g,o=this,ut={isFixed:!isNaN(parseInt(u,10)),x:r,y:u},h=o.element,y=o.options,b="down",rt=n(y.anchor),ft=h[0]&&h.hasClass("km-widget");if(!o.visible()){if(y.copyAnchorStyles&&(ft&&"font-size"==it[0]&&it.shift(),h.css(t.getComputedStyles(rt[0],it))),h.data("animating")||o._trigger(w))return;o._activated=!1;y.modal||(nt.unbind(o.downEvent,o._mousedownProxy).bind(o.downEvent,o._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||(o._scrollableParents().unbind(a,o._resizeProxy).bind(a,o._resizeProxy),tt.unbind(v,o._resizeProxy).bind(v,o._resizeProxy)));o.wrapper=p=t.wrap(h,y.autosize).css({overflow:ot,display:"block",position:d});f.mobileOS.android&&p.css(pt,"translatez(0)");p.css(e);n(y.appendTo)[0]==document.body&&p.css(k,"-10000px");s=i(!0,{},y.animation.open);o.flipped=o._position(ut);s.effects=t.parseEffects(s.effects,o.flipped);b=s.effects.slideIn?s.effects.slideIn.direction:b;y.anchor!=c&&(g=l+"-"+b,h.addClass(l+"-"+t.directions[b].reverse),rt.addClass(g).children(lt).addClass(ct).addClass(g));h.data(ht,s.effects).kendoStop(!0).kendoAnimate(s)}},toggle:function(){var n=this;n[n.visible()?b:w]()},visible:function(){return this.element.is(":"+st)},close:function(r){var s,f,e,o,u=this,h=u.options;if(u.visible()){if(s=u.wrapper[0]?u.wrapper:t.wrap(u.element).hide(),u._closing||u._trigger(b))return;u.element.find(".k-popup").each(function(){var i=n(this),t=i.data("kendoPopup");t&&t.close(r)});nt.unbind(u.downEvent,u._mousedownProxy);u._scrollableParents().unbind(a,u._resizeProxy);tt.unbind(v,u._resizeProxy);r?f={hide:!0,effects:{}}:(f=i(!0,{},h.animation.close),e=u.element.data(ht),o=f.effects,!o&&!t.size(o)&&e&&t.size(e)&&(f.effects=e,f.reverse=!0),u._closing=!0);u.element.kendoStop(!0);s.css({overflow:ot});u.element.kendoAnimate(f)}},_trigger:function(n){return this.trigger(n,{type:n})},_resize:function(n){var t=this;"resize"===n.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_mousedown:function(i){var u=this,s=u.element[0],e=u.options,h=n(e.anchor)[0],o=e.toggleTarget,f=t.eventTarget(i),r=n(f).closest(".k-popup"),c=r.parent().parent(".km-shim").length;r=r[0];(c||!r||r===u.element[0])&&"popover"!==n(i.target).closest("a").data("rel")&&(y(s,f)||y(h,f)||o&&y(n(o)[0],f)||u.close())},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),0>n&&(r=-n),r},_flip:function(n,t,i,r,f,e,o){var s=0;return o=o||t,e!==f&&e!==u&&f!==u&&(n+o>r&&(s+=-(i+t)),0>n+s&&(s+=i+t)),s},_scrollableParents:function(){return n(this.options.anchor).parentsUntil("body").filter(function(n,i){var r=t.getComputedStyles(i,["overflow"]);return"visible"!=r.overflow})},_position:function(t){var nt,c,st,w,h,ht,a,s,tt,it,o=this,rt=o.element.css(e,""),u=o.wrapper,v=o.options,y=n(v.viewport),ct=y.offset(),l=n(v.anchor),ut=v.origin.toLowerCase().split(" "),ft=v.position.toLowerCase().split(" "),b=o.collisions,p=f.zoomLevel(),k=10002,lt=!!(y[0]==window&&window.innerWidth&&1.02>=p),et=0,at=lt?window.innerWidth:y.width(),vt=lt?window.innerHeight:y.height(),ot=l.parents().filter(u.siblings());if(ot[0])if(c=Math.max(+ot.css("zIndex"),0))k=c+10;else for(nt=l.parentsUntil(ot),st=nt.length;st>et;et++)c=+n(nt[et]).css("zIndex"),c&&c>k&&(k=c+10);return u.css("zIndex",k),u.css(t&&t.isFixed?{left:t.x,top:t.y}:o._align(ut,ft)),w=r(u,e,l[0]===u.offsetParent()[0]),h=r(u),ht=l.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),ht.length&&(w=r(u,e,!0),h=r(u)),y[0]===window?(h.top-=window.pageYOffset||document.documentElement.scrollTop||0,h.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(h.top-=ct.top,h.left-=ct.left),o.wrapper.data(g)||u.data(g,i({},w)),a=i({},h),s=i({},w),tt=v.adjustSize,"fit"===b[0]&&(s.top+=o._fit(a.top,u.outerHeight()+tt.height,vt/p)),"fit"===b[1]&&(s.left+=o._fit(a.left,u.outerWidth()+tt.width,at/p)),it=i({},s),"flip"===b[0]&&(s.top+=o._flip(a.top,rt.outerHeight(),l.outerHeight(),vt/p,ut[0],ft[0],u.outerHeight())),"flip"===b[1]&&(s.left+=o._flip(a.left,rt.outerWidth(),l.outerWidth(),at/p,ut[1],ft[1],u.outerWidth())),rt.css(e,d),u.css(s),s.left!=it.left||s.top!=it.top},_align:function(t,i){var c,l=this,v=l.wrapper,a=n(l.options.anchor),y=t[0],p=t[1],w=i[0],b=i[1],k=r(a),d=n(l.options.appendTo),g=v.outerWidth(),nt=v.outerHeight(),tt=a.outerWidth(),it=a.outerHeight(),f=k.top,e=k.left,o=Math.round;return d[0]!=document.body&&(c=r(d),f-=c.top,e-=c.left),y===h&&(f+=it),y===u&&(f+=o(it/2)),w===h&&(f-=nt),w===u&&(f-=o(nt/2)),p===s&&(e+=tt),p===u&&(e+=o(tt/2)),b===s&&(e-=g),b===u&&(e-=o(g/2)),{top:f,left:e}}});rt.plugin(wt)}(window.kendo.jQuery),function(n,t){function et(n,t){for(var u,r,e=t.length,f=[],i=0;n.length>i;i++)for(u=n[i],r=0;e>r;r++)u===t[r]&&f.push({index:i,item:u});return f}function v(t,i){var u,r=!1;return t.filters&&(u=n.grep(t.filters,function(n){return r=v(n,i),n.filters?n.filters.length:n.field!=i}),r||t.filters.length===u.length||(r=!0),t.filters=u),r}var s,d,i=window.kendo,c=i.ui,e=c.Widget,o=i.keys,u=i.support,ot=i.htmlEncode,g=i._activeElement,st=i.data.ObservableArray,l="id",f="change",nt="k-state-focused",y="k-state-hover",tt="k-loading",p="open",it="close",w="select",h="selected",rt="progress",ut="requestEnd",ft="width",b=n.extend,r=n.proxy,ht=n.isArray,k=u.browser,ct=k.msie&&9>k.version,lt=/"/g,at={ComboBox:"DropDownList",DropDownList:"ComboBox"},a=i.ui.DataBoundWidget.extend({init:function(t,i){var f,u=this,o=u.ns;e.fn.init.call(u,t,i);t=u.element;i=u.options;u._isSelect=t.is(w);u._isSelect&&u.element[0].length&&(i.dataSource||(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value"));u.ul=n('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0});u.list=n("<div class='k-list-container'/>").append(u.ul).on("mousedown"+o,r(u._listMousedown,u));f=t.attr(l);f&&(u.list.attr(l,f+"-list"),u.ul.attr(l,f+"_listbox"));u._header();u._accessors();u._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(n){e.fn.setOptions.call(this,n);n&&n.enable!==t&&(n.enabled=n.enable)},focus:function(){this._focused.focus()},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},_listOptions:function(n){var t=this.options;return n=n||{},n={height:n.height||t.height,dataValueField:n.dataValueField||t.dataValueField,dataTextField:n.dataTextField||t.dataTextField,groupTemplate:n.groupTemplate||t.groupTemplate,fixedGroupTemplate:n.fixedGroupTemplate||t.fixedGroupTemplate,template:n.template||t.template},n.template||(n.template="#:"+i.expr(n.dataTextField,"data")+"#"),n},_initList:function(){var u=this,o=u.options,s=o.virtual,c=!!s,f=o.value,h=r(u._listBound,u),e={autoBind:!1,selectable:!0,dataSource:u.dataSource,click:r(u._click,u),change:r(u._listChange,u),activate:r(u._activateItem,u),deactivate:r(u._deactivateItem,u),dataBinding:function(){u.trigger("dataBinding");u._angularItems("cleanup")},dataBound:h,listBound:h,selectedItemChange:r(u._listChange,u)};e=n.extend(u._listOptions(),e,"object"==typeof s?s:{});c?u.listView=new i.ui.VirtualList(u.ul,e):(u.listView=new i.ui.StaticList(u.ul,e),u.listView.setTouchScroller(u._touchScroller));f!==t&&u.listView.value(f).done(function(){var n=o.text;u.input&&-1===u.selectedIndex&&((n===t||null===n)&&(n=f),u._accessor(f),u.input.val(n))})},_listMousedown:function(n){this.filterInput&&this.filterInput[0]===n.target||n.preventDefault()},_filterSource:function(n,t){var r=this,f=r.options,u=r.dataSource,i=b({},u.filter()||{}),e=v(i,f.dataTextField);(n||e)&&r.trigger("filtering",{filter:n})||(n&&(i=i.filters||[],i.push(n)),t?u.read(i):u.filter(i))},_header:function(){var r,t=this,i=t.options.headerTemplate;n.isFunction(i)&&(i=i({}));i&&(t.list.prepend(i),r=t.ul.prev(),t.header=r[0]?r:null,t.header&&t.angular("compile",function(){return{elements:t.header}}))},_initValue:function(){var n=this,t=n.options.value;null!==t?n.element.val(t):(t=n._accessor(),n.options.value=t);n._old=t},_ignoreCase:function(){var n,t=this,i=t.dataSource.reader.model;i&&i.fields&&(n=i.fields[t.options.dataTextField],n&&n.type&&"string"!==n.type&&(t.options.ignoreCase=!1))},_focus:function(n){return this.listView.focus(n)},current:function(n){return this._focus(n)},items:function(){return this.ul[0].children},destroy:function(){var n=this,t=n.ns;e.fn.destroy.call(n);n._unbindDataSource();n.listView.destroy();n.list.off(t);n._touchScroller&&n._touchScroller.destroy();n.popup.destroy();n._form&&n._form.off("reset",n._resetHandler)},dataItem:function(i){var r=this;return i===t?r.listView.selectedDataItems()[0]:("number"!=typeof i&&(i=n(r.items()).index(i)),r.dataSource.flatView()[i])},_activateItem:function(){var n=this.listView.focus();n&&this._focused.add(this.filterInput).attr("aria-activedescendant",n.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var t=this,r=t.element,n=t.options,u=i.getter,f=r.attr(i.attr("text-field")),e=r.attr(i.attr("value-field"));!n.dataTextField&&f&&(n.dataTextField=f);!n.dataValueField&&e&&(n.dataValueField=e);t._text=u(n.dataTextField);t._value=u(n.dataValueField)},_aria:function(n){var i=this,r=i.options,u=i._focused.add(i.filterInput);r.suggest!==t&&u.attr("aria-autocomplete",r.suggest?"both":"list");n=n?n+" "+i.ul[0].id:i.ul[0].id;u.attr("aria-owns",n);i.ul.attr("aria-live",r.filter&&"none"!==r.filter?"polite":"off")},_blur:function(){var n=this;n._change();n.close()},_change:function(){var i,n=this,r=n.selectedIndex,e=n.options.value,u=n.value();n._isSelect&&!n.listView.isBound()&&e&&(u=e);u!==n._old?i=!0:r!==t&&r!==n._oldIndex&&(i=!0);i&&(n._old=u,n._oldIndex=r,n.element.trigger(f),n.trigger(f))},_data:function(){return this.dataSource.view()},_enable:function(){var n=this,i=n.options,r=n.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable);!i.enabled||r?n.enable(!1):n.readonly(n.element.is("[readonly]"))},_dataValue:function(n){var i=this._value(n);return i===t&&(i=this._text(n)),i},_height:function(n){var r,u,i=this,f=i.list,t=i.options.height,e=i.popup.visible();return n&&(u=f.add(f.parent(".k-animation-container")).show(),t=i.ul[0].scrollHeight>t?t:"auto",u.height(t),"auto"!==t&&(r=i.ul[0].offsetTop,r&&(t=f.height()-r)),i.ul.height(t),e||u.hide()),t},_adjustListWidth:function(){var n,i,t=this.list,r=t[0].style.width,u=this.wrapper;if(t.data(ft)||!r)return n=window.getComputedStyle?window.getComputedStyle(u[0],null):0,i=n?parseFloat(n.width):u.outerWidth(),n&&k.msie&&(i+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),r="border-box"!==t.css("box-sizing")?i-(t.outerWidth()-t.width()):i,t.css({fontFamily:u.css("font-family"),width:r}).data(ft,r),!0},_openHandler:function(n){this._adjustListWidth();this.trigger(p)?n.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(n){this.trigger(it)?n.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var i=this.listView,r=i.focus(),n=i.select();n=n[n.length-1];n===t&&this.options.highlightFirst&&!r&&(n=0);n!==t?i.focus(n):i.scrollToIndex(0)},_calculateGroupPadding:function(n){var u=this.ul,f=u.children(".k-first:first"),t=u.prev(".k-group-header"),r=0;t[0]&&"none"!==t[0].style.display&&("auto"!==n&&(r=i.support.scrollbar()),r+=parseFloat(f.css("border-right-width"),10)+parseFloat(f.children(".k-group").css("right"),10),t.css("padding-right",r))},_firstOpen:function(){var n=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(n)},_popup:function(){var n=this;n.popup=new c.Popup(n.list,b({},n.options.popup,{anchor:n.wrapper,open:r(n._openHandler,n),close:r(n._closeHandler,n),animation:n.options.animation,isRtl:u.isRtl(n.wrapper)}));n.options.virtual||n.popup.one(p,r(n._firstOpen,n));n._touchScroller=i.touchScroller(n.popup.element)},_makeUnselectable:function(){ct&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){n(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_toggle:function(n,i){var r=this,f=u.mobileOS&&(u.touch||u.MSPointers||u.pointers);n=n!==t?n:!r.popup.visible();i||f||r._focused[0]===g()||r._focused.focus();r[n?p:it]()},_triggerCascade:function(){var n=this;n._cascadeTriggered&&n._old===n.value()&&n._oldIndex===n.selectedIndex||(n._cascadeTriggered=!0,n.trigger("cascade",{userTriggered:n._userTriggered}))},_unbindDataSource:function(){var n=this;n.dataSource.unbind(rt,n._progressHandler).unbind(ut,n._requestEndHandler).unbind("error",n._errorHandler)}});b(a,{inArray:function(n,t){var i,r,u=t.children;if(!n||n.parentNode!==t)return-1;for(i=0,r=u.length;r>i;i++)if(n===u[i])return i;return-1}});i.ui.List=a;c.Select=a.extend({init:function(n,t){a.fn.init.call(this,n,t);this._initial=this.element.val()},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.listView.setDataSource(this.dataSource);this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(n){var i=this;return n===t?i.selectedIndex:(i._select(n),i._old=i._accessor(),i._oldIndex=i.selectedIndex,t)},search:function(n){var t,r,i,u,f,e;n="string"==typeof n?n:this.text();t=this;r=n.length;i=t.options;u=i.ignoreCase;f=i.filter;e=i.dataTextField;clearTimeout(t._typing);(!r||r>=i.minLength)&&(t._state="filter",t.listView.filter(!0),"none"===f?t._filter(n):(t._open=!0,t._filterSource({value:u?n.toLowerCase():n,field:e,operator:f,ignoreCase:u})))},_accessor:function(n,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](n,t)},_accessorInput:function(n){var i=this.element[0];return n===t?i.value:(i.value=n,t)},_accessorSelect:function(n,i){var u,r=this.element[0],f=r.selectedIndex;return n===t?(f>-1&&(u=r.options[f]),u&&(n=u.value),n||""):(f>-1&&r.options[f].removeAttribute(h),i===t&&(i=-1),""!==n&&-1==i?this._custom(n):(n?r.value=n:r.selectedIndex=i,r.selectedIndex>-1&&(u=r.options[r.selectedIndex]),u&&u.setAttribute(h,h)),t)},_custom:function(t){var r=this,u=r.element,i=r._customOption;i||(i=n("<option/>"),r._customOption=i,u.append(i));i.text(t);i[0].setAttribute(h,h)},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._arrow.removeClass(tt);n._focused.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;n._request=!0;n._busy||(n._busy=setTimeout(function(){n._arrow&&(n._focused.attr("aria-busy",!0),n._arrow.addClass(tt))},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var e,t=this,o=t.element,f=t.options,u=f.dataSource||{};u=n.isArray(u)?{data:u}:u;t._isSelect&&(e=o[0].selectedIndex,e>-1&&(f.index=e),u.select=o,u.fields=[{field:f.dataTextField},{field:f.dataValueField}]);t.dataSource?t._unbindDataSource():(t._progressHandler=r(t._showBusy,t),t._requestEndHandler=r(t._requestEnd,t),t._errorHandler=r(t._hideBusy,t));t.dataSource=i.data.DataSource.create(u).bind(rt,t._progressHandler).bind(ut,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(n){var s,e,r,c,i=this,u=n.keyCode,h=u===o.DOWN;if(u===o.UP||h){if(n.altKey)i.toggle(h);else{if(!i.listView.isBound())return i._fetch||(i.dataSource.one(f,function(){i._fetch=!1;i._move(n)}),i._fetch=!0,i._filterSource()),n.preventDefault(),!0;if(r=i._focus(),i._fetch||r&&!r.hasClass("k-state-selected")||(h?(i._nextItem(),i._focus()||i._lastItem()):(i._prevItem(),i._focus()||i._firstItem())),i.trigger(w,{item:i.listView.focus()}))return i._focus(r),t;i._select(i._focus(),!0);i.popup.visible()||i._blur()}n.preventDefault();e=!0}else if(u===o.ENTER||u===o.TAB){if(i.popup.visible()&&n.preventDefault(),r=i._focus(),s=i.dataItem(),i.popup.visible()||s&&i.text()===i._text(s)||(r=null),c=i.filterInput&&i.filterInput[0]===g(),r){if(i.trigger(w,{item:r}))return;i._select(r)}else i.input&&(i._accessor(i.input.val()),i.listView.value(i.input.val()));i._focusElement&&i._focusElement(i.wrapper);c&&u===o.TAB?i.wrapper.focusout():i._blur();i.close();e=!0}else u===o.ESC&&(i.popup.visible()&&n.preventDefault(),i.close(),e=!0);return e},_fetchData:function(){var n=this,t=!!n.dataSource.view().length;n.element[0].disabled||n._request||n.options.cascadeFrom||n.listView.isBound()||n._fetch||t||(n._fetch=!0,n.dataSource.fetch().done(function(){n._fetch=!1}))},_options:function(n,i,r){var f,e,o,u,s=this,l=s.element,a=n.length,h="",c=0;for(i&&(h=i);a>c;c++)f="<option",e=n[c],o=s._text(e),u=s._value(e),u!==t&&(u+="",-1!==u.indexOf('"')&&(u=u.replace(lt,"&quot;")),f+=' value="'+u+'"'),f+=">",o!==t&&(f+=ot(o)),f+="<\/option>",h+=f;l.html(h);r!==t&&l.val(r)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=u.on("reset",t._resetHandler))},_cascade:function(){var i,u,e,o,s,t=this,r=t.options,h=r.cascadeFrom;if(h){if(u=n("#"+h),i=u.data("kendo"+r.name),i||(i=u.data("kendo"+at[r.name])),!i)return;r.autoBind=!1;o=r.cascadeFromField||i.options.dataValueField;s=function(){t.dataSource.unbind(f,s);var n=t._accessor();t._userTriggered?t._clearSelection(i,!0):n?(n!==t.listView.value()[0]&&t.value(n),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(i,!0)):t.dataSource.flatView().length&&t.select(r.index);t.enable();t._triggerCascade();t._userTriggered=!1};e=function(){var n,r,u,e=i.dataItem(),f=e?i._value(e):null;f||0===f?(n=t.dataSource.filter()||{},v(n,o),r=n.filters||[],r.push({field:o,operator:"eq",value:f}),u=function(){t.unbind("dataBound",u);s.apply(t,arguments)},t.first("dataBound",u),t.dataSource.filter(r)):(t.enable(!1),t._clearSelection(i),t._triggerCascade(),t._userTriggered=!1)};i.first("cascade",function(n){t._userTriggered=n.userTriggered;e()});i.listView.isBound()?e():i.value()||t.enable(!1)}}});s=".StaticList";d=i.ui.DataBoundWidget.extend({init:function(t,f){e.fn.init.call(this,t,f);this.element.attr("role","listbox").css({overflow:u.kineticScrollNeeded?"":"auto"}).on("click"+s,"li",r(this._click,this)).on("mouseenter"+s,"li",function(){n(this).addClass(y)}).on("mouseleave"+s,"li",function(){n(this).removeClass(y)});this.header=this.element.before('<div class="k-group-header" style="display:none"><\/div>').prev();this._bound=!1;this._optionID=i.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var o=this.options.value;o&&(this._values=n.isArray(o)?o.slice(0):[o]);this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=r(function(){var n=this;clearTimeout(n._scrollId);n._scrollId=setTimeout(function(){n._renderHeader()},50)},this);this._fixedHeader()},options:{name:"StaticList",dataValueField:null,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var o,u=this,e=t||{};e=n.isArray(e)?{data:e}:e;e=i.data.DataSource.create(e);u.dataSource?(u.dataSource.unbind(f,u._refreshHandler),o=u.value(),u.value([]),u._bound=!1,u.value(o)):u._refreshHandler=r(u.refresh,u);u.dataSource=e.bind(f,u._refreshHandler);u._fixedHeader()},setOptions:function(n){e.fn.setOptions.call(this,n);this._fixedHeader();this._getter();this._templates();this._render()},destroy:function(){this.element.off(s);this._refreshHandler&&this.dataSource.unbind(f,this._refreshHandler);e.fn.destroy.call(this)},scrollToIndex:function(n){var t=this.element[0].children[n];t&&this.scroll(t)},_offsetHeight:function(){var t=0,i=this.element.prevAll();return i.each(function(){var i=n(this);i.is(":visible")&&(t+=i.hasClass("k-list-filter")?i.children().height():i.outerHeight())}),t},setTouchScroller:function(n){this._touchScroller=n},scroll:function(n){if(n){n[0]&&(n=n[0]);var i,r,f=this.element[0],t=n.offsetTop,o=n.offsetHeight,u=f.scrollTop,s=f.clientHeight,h=t+o,e=this._touchScroller;e?(i=e.dimensions.y,i.update(!0),i.enabled&&t>i.size&&(t=t-i.size+o+4,e.scrollTo(0,-t))):(r=this._offsetHeight(),u>t-r?u=t-r:h>u+s+r&&(u=h-s-r),f.scrollTop=u)}},selectedDataItems:function(i){var r=this._valueGetter;return i===t?this._dataItems.slice():(this._dataItems=i,this._values=n.map(i,function(n){return r(n)}),t)},next:function(){var n=this.focus();n=n?n.next():0;this.focus(n)},prev:function(){var n=this.focus();n=n?n.prev():this.element[0].children.length-1;this.focus(n)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(i){var u,r=this,f=r._optionID;return i===t?r._current:(i=r._get(i),i=i[i.length-1],i=n(this.element[0].children[i]),r._current&&(r._current.removeClass(nt).removeAttr("aria-selected").removeAttr(l),r.trigger("deactivate")),u=!!i[0],u&&(i.addClass(nt),r.scroll(i),i.attr("id",f)),r._current=u?i:null,r.trigger("activate"),t)},filter:function(n){return n===t?this._filtered:(this._filtered=n,t)},skipUpdate:function(n){this._skipUpdate=n},select:function(i){var r,o=this.options.selectable,u="multiple"!==o&&o!==!1,f=[],e=[];return i===t?this._selectedIndices.slice():(i=this._get(i),1===i.length&&-1===i[0]&&(i=[]),this._filtered&&!u&&this._deselectFiltered(i)||(!u||this._filtered||-1===n.inArray(i[i.length-1],this._selectedIndices))&&(r=this._deselect(i),e=r.removed,i=r.indices,i.length&&(u&&(i=[i[i.length-1]]),f=this._select(i)),(f.length||e.length)&&this.trigger("change",{added:f,removed:e})),t)},removeAt:function(n){return this._selectedIndices.splice(n,1),this._values.splice(n,1),{position:n,dataItem:this._dataItems.splice(n,1)[0]}},setValue:function(t){(""===t||null===t)&&(t=[]);t=n.isArray(t)||t instanceof st?t.slice(0):[t];this._values=t},value:function(i){var f,r=this,u=r._valueDeferred;return i===t?r._values.slice():(r.setValue(i),u&&"resolved"!==u.state()||(r._valueDeferred=u=n.Deferred()),r.isBound()&&(f=r._valueIndices(r._values),"multiple"===r.options.selectable&&r.select(-1),r.select(f),u.resolve()),r._skipUpdate=!1,u)},_click:function(t){t.isDefaultPrevented()||this.trigger("click",{item:n(t.currentTarget)})},_dataItemPosition:function(n,t){for(var u=this._valueGetter(n),r=-1,i=0;t.length>i;i++)if(u==t[i]){r=i;break}return r},_updateIndices:function(n,t){var r,u=this._view,i=0;if(!t.length)return[];for(;u.length>i;i++)r=this._dataItemPosition(u[i].item,t),-1!==r&&(n[r]=i);return this._normalizeIndices(n)},_valueIndices:function(n){return this._updateIndices([],n)},_getter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_deselect:function(t){var r,e,o,u=this,s=u.element[0].children,c=u.options.selectable,f=u._selectedIndices,l=u._dataItems,v=u._values,h=[],i=0,a=0;if(t=t.slice(),c!==!0&&t.length){if("multiple"===c)for(;t.length>i;i++)if(e=t[i],n(s[e]).hasClass("k-state-selected"))for(r=0;f.length>r;r++)if(o=f[r],o===e){n(s[o]).removeClass("k-state-selected");h.push({position:r+a,dataItem:l.splice(r,1)[0]});f.splice(r,1);t.splice(i,1);v.splice(r,1);a+=1;i-=1;r-=1;break}}else{for(;f.length>i;i++)n(s[f[i]]).removeClass("k-state-selected"),h.push({position:i,dataItem:l[i]});u._values=[];u._dataItems=[];u._selectedIndices=[]}return{indices:t,removed:h}},_deselectFiltered:function(t){for(var e,i,r,o=this.element[0].children,u=[],f=0;t.length>f;f++)i=t[f],e=this._view[i].item,r=this._dataItemPosition(e,this._values),r>-1&&(u.push(this.removeAt(r)),n(o[i]).removeClass("k-state-selected"));return u.length?(this.trigger("change",{added:[],removed:u}),!0):!1},_select:function(t){var i,u,r=this,o=r.element[0].children,s=r._view,e=[],f=0;for(-1!==t[t.length-1]&&r.focus(t);t.length>f;f++)u=t[f],i=s[u],-1!==u&&i&&(i=i.item,r._selectedIndices.push(u),r._dataItems.push(i),r._values.push(r._valueGetter(i)),n(o[u]).addClass("k-state-selected").attr("aria-selected",!0),e.push({dataItem:i}));return e},_get:function(i){return"number"==typeof i?i=[i]:ht(i)||(i=n(i).data("offset-index"),i===t&&(i=-1),i=[i]),i},_template:function(){var r=this,t=r.options,n=t.template;return n?(n=i.template(n),n=function(t){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(t)+"<\/li>"}):n=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(t.dataTextField,"data")+"}<\/li>",{useWithBlock:!1}),n},_templates:function(){var n,r,t={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(r in t)n=t[r],n&&"function"!=typeof n&&(t[r]=i.template(n));this.templates=t},_normalizeIndices:function(n){for(var r=[],i=0;n.length>i;i++)n[i]!==t&&r.push(n[i]);return r},_firstVisibleItem:function(){for(var i=this.element[0],r=i.scrollTop,f=n(i.children[0]).height(),e=Math.floor(r/f)||0,t=i.children[e]||i.lastChild,u=this._offsetHeight(),o=r>t.offsetTop-u;t;)if(o){if(t.offsetTop+f-u>r||!t.nextSibling)break;t=t.nextSibling}else{if(r>=t.offsetTop-u||!t.previousSibling)break;t=t.previousSibling}return this._view[n(t).data("offset-index")]},_fixedHeader:function(){this.dataSource.group().length&&this.templates.fixedGroupTemplate?(this.header.show(),this.element.scroll(this._onScroll)):(this.header.hide(),this.element.off("scroll",this._onScroll))},_renderHeader:function(){var n,t=this.templates.fixedGroupTemplate;t&&(n=this._firstVisibleItem(),n&&this.header.html(t(n.group)))},_renderItem:function(n){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',u=n.item,i=0!==n.index,r=n.selected;return i&&n.newGroup&&(t+=" k-first"),r&&(t+=" k-state-selected"),t+='"'+(r?' aria-selected="true"':"")+' data-offset-index="'+n.index+'">',t+=this.templates.template(u),i&&n.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(n.group)+"<\/div>"),t+"<\/li>"},_render:function(){var t,i,e,r,o="",n=0,s=0,f=[],u=this.dataSource.view(),h=this.value(),c=this.dataSource.group().length;if(c)for(n=0;u.length>n;n++)for(i=u[n],e=!0,r=0;i.items.length>r;r++)t={selected:this._selected(i.items[r],h),item:i.items[r],group:i.value,newGroup:e,index:s},f[s]=t,s+=1,o+=this._renderItem(t),e=!1;else for(n=0;u.length>n;n++)t={selected:this._selected(u[n],h),item:u[n],index:n},f[n]=t,o+=this._renderItem(t);this._view=f;this.element[0].innerHTML=o;c&&f.length&&this._renderHeader()},_selected:function(n,t){var i=!this._filtered||"multiple"===this.options.selectable;return i&&-1!==this._dataItemPosition(n,t)},refresh:function(n){var i,t=this,r=n&&n.action;t.trigger("dataBinding");t._render();t._bound=!0;"itemchange"===r?(i=et(t._dataItems,n.items),i.length&&t.trigger("selectedItemChange",{items:i})):t._filtered||t._skipUpdate?(t.focus(0),t._skipUpdate&&(t._skipUpdate=!1,t._updateIndices(t._selectedIndices,t._values))):r||t.value(t._values);t._valueDeferred&&t._valueDeferred.resolve();t.trigger("dataBound")},isBound:function(){return this._bound}});c.plugin(d)}(window.kendo.jQuery),function(n,t){function s(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function d(n,t,i){return t.split(i)[s(n,t,i)]}function g(n,t,i,r){var u=t.split(r);return u.splice(s(n,t,r),1,i),r&&""!==u[u.length-1]&&u.push(""),u.join(r)}var r=window.kendo,nt=r.support,f=r.caret,l=r._activeElement,a=nt.placeholder,v=r.ui,o=v.List,u=r.keys,tt=r.data.DataSource,y="aria-disabled",p="aria-readonly",h="k-state-default",w="disabled",b="readonly",k="k-state-focused",it="k-state-selected",c="k-state-disabled",rt="k-state-hover",i=".kendoAutoComplete",ut="mouseenter"+i+" mouseleave"+i,e=n.proxy,ft=o.extend({init:function(t,u){var s,f=this;f.ns=i;u=n.isArray(u)?{dataSource:u}:u;o.fn.init.call(f,t,u);t=f.element;u=f.options;u.placeholder=u.placeholder||t.attr("placeholder");a&&t.attr("placeholder",u.placeholder);f._wrapper();f._loader();f._dataSource();f._ignoreCase();t[0].type="text";s=f.wrapper;f._popup();t.addClass("k-input").on("keydown"+i,e(f._keydown,f)).on("paste"+i,e(f._search,f)).on("focus"+i,function(){f._prev=f._accessor();f._placeholder(!1);s.addClass(k)}).on("focusout"+i,function(){f._change();f._placeholder();s.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});f._enable();f._old=f._accessor();t[0].id&&t.attr("aria-owns",f.ul[0].id);f._aria();f._placeholder();f._initList();r.notify(f)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():n._progressHandler=e(n._showBusy,n);n.dataSource=tt.create(n.options.dataSource).bind("progress",n._progressHandler)},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(n){var t=this._listOptions(n);o.fn.setOptions.call(this,n);t.dataValueField=t.dataTextField;this.listView.setOptions(t);this._accessors();this._aria()},_editable:function(n){var r=this,f=r.element,e=r.wrapper.off(i),u=n.readonly,t=n.disable;u||t?(e.addClass(t?c:h).removeClass(t?h:c),f.attr(w,t).attr(b,u).attr(y,t).attr(p,u)):(e.addClass(h).removeClass(c).on(ut,r._toggleHover),f.removeAttr(w).removeAttr(b).attr(y,!1).attr(p,!1))},close:function(){var n=this,t=n.listView.focus();t&&t.removeClass(it);n.popup.close()},destroy:function(){var n=this;n.element.off(i);n.wrapper.off(i);o.fn.destroy.call(n)},refresh:function(){this.listView.refresh()},select:function(n){this._select(n)},search:function(n){var r,t=this,i=t.options,u=i.ignoreCase,e=i.separator;n=n||t._accessor();clearTimeout(t._typing);e&&(n=d(f(t.element)[0],n,e));r=n.length;(!r||r>=i.minLength)&&(t._open=!0,t.listView.filter(!0),t._filterSource({value:u?n.toLowerCase():n,operator:i.filter,field:i.dataTextField,ignoreCase:u}))},suggest:function(n){var h,i=this,y=i._last,r=i._accessor(),v=i.element[0],e=f(v)[0],c=i.options.separator,a=r.split(c),p=s(e,r,c),w=e;return y==u.BACKSPACE||y==u.DELETE?(i._last=t,t):(n=n||"","string"!=typeof n&&(n[0]&&(n=i.dataSource.view()[o.inArray(n[0],i.ul[0])]),n=n?i._text(n):""),0>=e&&(e=r.toLowerCase().indexOf(n.toLowerCase())+1),h=r.substring(0,e).lastIndexOf(c),h=h>-1?e-(h+c.length):e,r=a[p].substring(0,h),n&&(h=n.toLowerCase().indexOf(r.toLowerCase()),h>-1&&(n=n.substring(h+r.length),w=e+n.length,r+=n),c&&""!==a[a.length-1]&&a.push("")),a[p]=r,i._accessor(a.join(c||"")),v===l()&&f(v,e,w),t)},value:function(n){return n===t?this._accessor():(this.listView.value(n),this._accessor(n),this._old=this._accessor(),t)},_click:function(n){var i=n.item,r=this.element;return this.trigger("select",{item:i})?(this.close(),t):(this._select(i),this._blur(),f(r,r.val().length),t)},_initList:function(){var t=this,u=t.options.virtual,o=!!u,f=e(t._listBound,t),i={autoBind:!1,selectable:!0,dataSource:t.dataSource,click:n.proxy(t._click,this),change:n.proxy(t._listChange,this),activate:e(t._activateItem,t),deactivate:e(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding");t._angularItems("cleanup")},dataBound:f,listBound:f};i=n.extend(t._listOptions(),i,"object"==typeof u?u:{});i.dataValueField=i.dataTextField;t.listView=o?new r.ui.VirtualList(t.ul,i):new r.ui.StaticList(t.ul,i);t.listView.value(t.options.value)},_listBound:function(){var i,f,n=this,r=n.popup,e=n.options,o=n.dataSource.flatView(),u=o.length,s=n.element[0]===l();n._angularItems("compile");n.listView.value([]);n.listView.focus(-1);n.listView.filter(!1);n._calculateGroupPadding(n._height(u));r.visible()&&r._position();u&&(f=this.listView.focus(),e.highlightFirst&&!f&&n.listView.first(),e.suggest&&s&&n.suggest(o[0]));n._open&&(n._open=!1,i=u?"open":"close",n._typing&&!s&&(i="close"),r[i](),n._typing=t);n._touchScroller&&n._touchScroller.reset();n._hideBusy();n._makeUnselectable();n._hideBusy();n.trigger("dataBound")},_listChange:function(){this.listView.filter()||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(n){var i=this.options.separator,t="";n&&(t=this._text(n));null===t&&(t="");i&&(t=g(f(this.element)[0],this._accessor(),t,i));this._prev=t;this._accessor(t);this._placeholder()},_accessor:function(n){var i=this,r=i.element[0];return n===t?(n=r.value,r.className.indexOf("k-readonly")>-1&&n===i.options.placeholder?"":n):(r.value=null===n?"":n,i._placeholder(),t)},_keydown:function(n){var i=this,t=n.keyCode,r=i.popup.visible(),f=this.listView.focus();if(i._last=t,t===u.DOWN)r&&this._move(f?"next":"first"),n.preventDefault();else if(t===u.UP)r&&this._move(f?"prev":"last"),n.preventDefault();else if(t===u.ENTER||t===u.TAB){if(t===u.ENTER&&r&&n.preventDefault(),r&&f){if(i.trigger("select",{item:f}))return;this._select(f)}this._blur()}else t===u.ESC?(r&&n.preventDefault(),i.close()):i._search()},_move:function(n){this.listView[n]();this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._loading.hide();n.element.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n.element.attr("aria-busy",!0);n._loading.show()},100))},_placeholder:function(n){if(!a){var i,e=this,u=e.element,r=e.options.placeholder;if(r){if(i=u.val(),n===t&&(n=!i),n||(r=i!==r?i:""),i===e._old&&!n)return;u.toggleClass("k-readonly",n).val(r);r||u[0]!==document.activeElement||f(u[0],0,0)}}},_search:function(){var n=this;clearTimeout(n._typing);n._typing=setTimeout(function(){n._prev!==n._accessor()&&(n._prev=n._accessor(),n.search())},n.options.delay)},_select:function(n){this.listView.select(n)},_loader:function(){this._loading=n('<span class="k-icon k-loading" style="display:none"><\/span>').insertAfter(this.element)},_toggleHover:function(t){n(t.currentTarget).toggleClass(rt,"mouseenter"===t.type)},_wrapper:function(){var n,t=this,i=t.element,r=i[0];n=i.parent();n.is("span.k-widget")||(n=i.wrap("<span />").parent());n.attr("tabindex",-1);n.attr("role","presentation");n[0].style.cssText=r.style.cssText;i.css({width:"100%",height:r.style.height});t._focused=t.element;t.wrapper=n.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});v.plugin(ft)}(window.kendo.jQuery),function(n,t){function lt(n,t,i,r){var f,u=n.getFullYear(),e=t.getFullYear(),o=i.getFullYear();return u-=u%r,f=u+(r-1),e>u&&(u=e),f>o&&(f=o),u+"-"+f}function y(n){for(var i,t=0,f=n.min,e=n.max,r=n.start,o=n.setter,s=n.build,h=n.cells||12,c=n.perRow||4,l=n.content||nr,a=n.empty||tr,u=n.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';h>t;t++)t>0&&t%c==0&&(u+='<\/tr><tr role="row">'),i=s(r,t),u+=w(r,f,e)?l(i):a(i),o(r,1);return u+"<\/tr><\/tbody><\/table>"}function tt(n,t,i){var f=n.getFullYear(),r=t.getFullYear(),e=r,u=0;return i&&(r-=r%i,e=r-r%i+i-1),f>e?u=1:r>f&&(u=-1),u}function p(){var n=new i;return new i(n.getFullYear(),n.getMonth(),n.getDate())}function l(n,t,r){var u=p();return n&&(u=new i(+n)),t>u?u=new i(+t):u>r&&(u=new i(+r)),u}function w(n,t,i){return+n>=+t&&+i>=+n}function at(n,t){return n.slice(t).concat(n.slice(0,t))}function vt(n,t,r){t=t instanceof i?t.getFullYear():n.getFullYear()+r*t;n.setFullYear(t)}function yt(t){n(this).toggleClass(ur,fr.indexOf(t.type)>-1||t.type==si)}function wi(n){n.preventDefault()}function it(n){return bt(n).calendars.standard}function rt(n){var i=o[n.start],r=o[n.depth],u=bt(n.culture);n.format=gi(n.format||u.calendars.standard.patterns.d);isNaN(i)&&(i=0,n.start=v);(r===t||r>i)&&(n.depth=v);n.dates||(n.dates=[])}function pt(n){ir&&n.find("*").attr("unselectable","on")}function bi(n,t){for(var i=0,r=t.length;r>i;i++)if(n===+t[i])return!0;return!1}function ki(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1}function di(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth():!1}var e,r=window.kendo,ut=r.support,wt=r.ui,b=wt.Widget,f=r.keys,ft=r.parseDate,k=r.date.adjustDST,gi=r._extractFormat,a=r.template,bt=r.getCulture,kt=r.support.transitions,dt=kt?kt.css+"transform-origin":"",nr=a('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#<\/a><\/td>',{useWithBlock:!1}),tr=a('<td role="gridcell">&nbsp;<\/td>',{useWithBlock:!1}),gt=r.support.browser,ir=gt.msie&&9>gt.version,u=".kendoCalendar",s="click"+u,rr="keydown"+u,et="id",ni="min",ti="left",ot="slideIn",v="month",ii="century",st="change",ri="navigate",ht="value",ur="k-state-hover",h="k-state-disabled",c="k-state-focused",d="k-other-month",ui=' class="'+d+'"',fi="k-nav-today",ei="td:has(.k-link)",oi="blur"+u,si="focus",hi=si+u,fr=ut.touch?"touchstart":"mouseenter",ci=ut.touch?"touchstart"+u:"mouseenter"+u,li=ut.touch?"touchend"+u+" touchmove"+u:"mouseleave"+u,er=6e4,ai=864e5,g="_prevArrow",nt="_nextArrow",ct="aria-disabled",vi="aria-selected",yi=n.proxy,pi=n.extend,i=Date,o={month:0,year:1,decade:2,century:3},or=b.extend({init:function(t,f){var h,a,e=this;b.fn.init.call(e,t,f);t=e.wrapper=e.element;f=e.options;f.url=window.unescape(f.url);e._templates();e._header();e._footer(e.footer);a=t.addClass("k-widget k-calendar").on(ci+" "+li,ei,yt).on(rr,"table.k-content",yi(e._move,e)).on(s,ei,function(t){var i=t.currentTarget.firstChild;-1!=i.href.indexOf("#")&&t.preventDefault();e._click(n(i))}).on("mouseup"+u,"table.k-content, .k-footer",function(){e._focusView(e.options.focusOnNav!==!1)}).attr(et);a&&(e._cellID=a+"_cell_selected");rt(f);h=ft(f.value,f.format,f.culture);e._index=o[f.start];e._current=new i(+l(h,f.min,f.max));e._addClassProxy=function(){e._active=!0;e._cell.addClass(c)};e._removeClassProxy=function(){e._active=!1;e._cell.removeClass(c)};e.value(h);r.notify(e)},options:{name:"Calendar",value:null,min:new i(1900,0,1),max:new i(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:v,depth:v,animation:{horizontal:{effects:ot,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[st,ri],setOptions:function(n){var t=this;rt(n);n.dates[0]||(n.dates=t.options.dates);b.fn.setOptions.call(t,n);t._templates();t._footer(t.footer);t._index=o[t.options.start];t.navigate()},destroy:function(){var n=this,t=n._today;n.element.off(u);n._title.off(u);n[g].off(u);n[nt].off(u);r.destroy(n._table);t&&r.destroy(t.off(u));b.fn.destroy.call(n)},current:function(){return this._current},view:function(){return this._view},focus:function(n){n=n||this._table;this._bindTable(n);n.focus()},min:function(n){return this._option(ni,n)},max:function(n){return this._option("max",n)},navigateToPast:function(){this._navigate(g,-1)},navigateToFuture:function(){this._navigate(nt,1)},navigateUp:function(){var n=this,t=n._index;n._title.hasClass(h)||n.navigate(n._current,++t)},navigateDown:function(n){var i=this,r=i._index,u=i.options.depth;if(n)return r===o[u]?(+i._value!=+n&&(i.value(n),i.trigger(st)),t):(i.navigate(n,--r),t)},navigate:function(r,u){u=isNaN(u)?o[u]:u;var b,a,k,s,f=this,v=f.options,tt=v.culture,p=v.min,w=v.max,it=f._title,y=f._table,d=f._oldTable,rt=f._value,ut=f._current,ft=r&&+r>+ut,et=u!==t&&u!==f._index;r||(r=ut);f._current=r=new i(+l(r,p,w));u===t?u=f._index:f._index=u;f._view=a=e.views[u];k=a.compare;s=u===o[ii];it.toggleClass(h,s).attr(ct,s);s=k(r,p)<1;f[g].toggleClass(h,s).attr(ct,s);s=k(r,w)>-1;f[nt].toggleClass(h,s).attr(ct,s);y&&d&&d.data("animating")&&(d.kendoStop(!0,!0),y.kendoStop(!0,!0));f._oldTable=y;(!y||f._changeView)&&(it.html(a.title(r,p,w,tt)),f._table=b=n(a.content(pi({min:p,max:w,date:r,url:v.url,dates:v.dates,format:v.format,culture:tt},f[a.name]))),pt(b),f._animate({from:y,to:b,vertical:et,future:ft}),f._focus(r),f.trigger(ri));u===o[v.depth]&&rt&&f._class("k-state-selected",a.toDateString(rt));f._class(c,a.toDateString(r));!y&&f._cell&&f._cell.removeClass(c);f._changeView=!0},value:function(n){var r=this,f=r._view,u=r.options,e=r._view,o=u.min,s=u.max;return n===t?r._value:(n=ft(n,u.format,u.culture),null!==n&&(n=new i(+n),w(n,o,s)||(n=null)),r._value=n,e&&null===n&&r._cell?r._cell.removeClass("k-state-selected"):(r._changeView=!n||f&&0!==f.compare(n,r._current),r.navigate(n)),t)},_move:function(t){var c,o,a,v,u=this,y=u.options,e=t.keyCode,p=u._view,w=u._index,s=new i(+u._current),h=r.support.isRtl(u.wrapper);return t.target===u._table[0]&&(u._active=!0),t.ctrlKey?e==f.RIGHT&&!h||e==f.LEFT&&h?(u.navigateToFuture(),o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(u.navigateToPast(),o=!0):e==f.UP?(u.navigateUp(),o=!0):e==f.DOWN&&(u._click(n(u._cell[0].firstChild)),o=!0):(e==f.RIGHT&&!h||e==f.LEFT&&h?(c=1,o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(c=-1,o=!0):e==f.UP?(c=0===w?-7:-4,o=!0):e==f.DOWN?(c=0===w?7:4,o=!0):e==f.ENTER?(u._click(n(u._cell[0].firstChild)),o=!0):e==f.HOME||e==f.END?(a=e==f.HOME?"first":"last",v=p[a](s),s=new i(v.getFullYear(),v.getMonth(),v.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),o=!0):e==f.PAGEUP?(o=!0,u.navigateToPast()):e==f.PAGEDOWN&&(o=!0,u.navigateToFuture()),(c||a)&&(a||p.setDate(s,c),u._focus(l(s,y.min,y.max)))),o&&t.preventDefault(),u._current},_animate:function(n){var i=this,t=n.from,r=n.to,f=i._active;t?t.parent().data("animating")?(t.off(u),t.parent().kendoStop(!0,!0).remove(),t.remove(),r.insertAfter(i.element[0].firstChild),i._focusView(f)):t.is(":visible")&&i.options.animation!==!1?i[n.vertical?"_vertical":"_horizontal"](t,r,n.future):(r.insertAfter(t),t.off(u).remove(),i._focusView(f)):(r.insertAfter(i.element[0].firstChild),i._bindTable(r))},_horizontal:function(n,t,i){var r=this,o=r._active,f=r.options.animation.horizontal,s=f.effects,e=n.outerWidth();s&&-1!=s.indexOf(ot)&&(n.add(t).css({width:e}),n.wrap("<div/>"),r._focusView(o,n),n.parent().css({position:"relative",width:2*e,float:ti,"margin-left":i?0:-e}),t[i?"insertAfter":"insertBefore"](n),pi(f,{effects:ot+":"+(i?"right":ti),complete:function(){n.off(u).remove();r._oldTable=null;t.unwrap();r._focusView(o)}}),n.parent().kendoStop(!0,!0).kendoAnimate(f))},_vertical:function(n,t){var f,r,i=this,e=i.options.animation.vertical,o=e.effects,s=i._active;o&&-1!=o.indexOf("zoom")&&(t.css({position:"absolute",top:n.prev().outerHeight(),left:0}).insertBefore(n),dt&&(f=i._cellByDate(i._view.toDateString(i._current)),r=f.position(),r=r.left+parseInt(f.width()/2,10)+"px "+(r.top+parseInt(f.height()/2,10)+"px"),t.css(dt,r)),n.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){n.off(u).remove();i._oldTable=null;t.css({position:"static",top:0,left:0});i._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(e))},_cellByDate:function(t){return this._table.find("td:not(."+d+")").filter(function(){return n(this.firstChild).attr(r.attr(ht))===t})},_class:function(t,i){var u=this,e=u._cellID,f=u._cell;f&&f.removeAttr(vi).removeAttr("aria-label").removeAttr(et);f=u._table.find("td:not(."+d+")").removeClass(t).filter(function(){return n(this.firstChild).attr(r.attr(ht))===i}).attr(vi,!0);t!==c||u._active||u.options.focusOnNav===!1||(t="");f.addClass(t);f[0]&&(u._cell=f);e&&(f.attr(et,e),u._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(n){n.on(hi,this._addClassProxy).on(oi,this._removeClassProxy)},_click:function(n){var u=this,f=u.options,e=new Date(+u._current),t=n.attr(r.attr(ht)).split("/");t=new i(t[0],t[1],t[2]);k(t,0);u._view.setDate(e,t);u.navigateDown(l(e,f.min,f.max))},_focus:function(n){var t=this,i=t._view;0!==i.compare(n,t._current)?t.navigate(n):(t._current=n,t._class(c,i.toDateString(n)))},_focusView:function(n,t){n&&this.focus(t)},_footer:function(i){var u=this,e=p(),o=u.element,f=o.find(".k-footer");return i?(f[0]||(f=n('<div class="k-footer"><a href="#" class="k-link k-nav-today"><\/a><\/div>').appendTo(o)),u._today=f.show().find(".k-link").html(i(e)).attr("title",r.toString(e,"D",u.options.culture)),u._toggle(),t):(u._toggle(!1),f.hide(),t)},_header:function(){var t,n=this,i=n.element;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"><\/span><\/a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"><\/a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"><\/span><\/a><\/div>');t=i.find(".k-link").on(ci+" "+li+" "+hi+" "+oi,yt).click(!1);n._title=t.eq(1).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateUp()});n[g]=t.eq(0).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToPast()});n[nt]=t.eq(2).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToFuture()})},_navigate:function(n,t){var r=this,f=r._index+1,u=new i(+r._current);n=r[n];n.hasClass(h)||(f>3?u.setFullYear(u.getFullYear()+100*t):e.views[f].setDate(u,t),r.navigate(u))},_option:function(n,r){var e,u=this,f=u.options,o=u._value||u._current;return r===t?f[n]:(r=ft(r,f.format,f.culture),r&&(f[n]=new i(+r),e=n===ni?r>o:o>r,(e||di(o,r))&&(e&&(u._value=null),u._changeView=!0),u._changeView||(u._changeView=!(!f.month.content&&!f.month.empty)),u.navigate(u._value),u._toggle()),t)},_toggle:function(n){var i=this,u=i.options,r=i._today;n===t&&(n=w(p(),u.min,u.max));r&&(r.off(s),n?r.addClass(fi).removeClass(h).on(s,yi(i._todayClick,i)):r.removeClass(fi).addClass(h).on(s,wi))},_todayClick:function(n){var t=this,r=o[t.options.depth],i=p();n.preventDefault();0===t._view.compare(t._current,i)&&t._index==r&&(t._changeView=!1);t._value=i;t.navigate(i,r);t.trigger(st)},_templates:function(){var n=this,t=n.options,i=t.footer,u=t.month,f=u.content,e=u.empty;n.month={content:a('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"<\/a><\/td>",{useWithBlock:!!f}),empty:a('<td role="gridcell">'+(e||"&nbsp;")+"<\/td>",{useWithBlock:!!e})};n.footer=i!==!1?a(i||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});wt.plugin(or);e={firstDayOfMonth:function(n){return new i(n.getFullYear(),n.getMonth(),1)},firstVisibleDay:function(n,t){t=t||r.culture().calendar;for(var f=t.firstDay,u=new i(n.getFullYear(),n.getMonth(),0,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());u.getDay()!=f;)e.setTime(u,-1*ai);return u},setTime:function(n,t){var u=n.getTimezoneOffset(),r=new i(n.getTime()+t),f=r.getTimezoneOffset()-u;n.setTime(r.getTime()+f*er)},views:[{name:v,title:function(n,t,i,r){return it(r).months.names[n.getMonth()]+" "+n.getFullYear()},content:function(n){for(var u=this,f=0,o=n.min,s=n.max,h=n.date,c=n.dates,nt=n.format,l=n.culture,p=n.url,tt=p&&c[0],a=it(l),w=a.firstDay,b=a.days,rt=at(b.names,w),ut=at(b.namesShort,w),v=e.firstVisibleDay(h,a),ft=u.first(h),et=u.last(h),ot=u.toDateString,t=new i,g='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>f;f++)g+='<th scope="col" title="'+rt[f]+'">'+ut[f]+"<\/th>";return t=new i(t.getFullYear(),t.getMonth(),t.getDate()),k(t,0),t=+t,y({cells:42,perRow:7,html:g+='<\/tr><\/thead><tbody><tr role="row">',start:new i(v.getFullYear(),v.getMonth(),v.getDate()),min:new i(o.getFullYear(),o.getMonth(),o.getDate()),max:new i(s.getFullYear(),s.getMonth(),s.getDate()),content:n.content,empty:n.empty,setter:u.setDate,build:function(n){var i=[],u=n.getDay(),f="",e="#";return(ft>n||n>et)&&i.push(d),+n===t&&i.push("k-today"),(0===u||6===u)&&i.push("k-weekend"),tt&&bi(+n,c)&&(e=p.replace("{0}",r.toString(n,nt,l)),f=" k-action-link"),{date:n,dates:c,ns:r.ns,title:r.toString(n,"D",l),value:n.getDate(),dateString:ot(n),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:f,url:e}}})},first:function(n){return e.firstDayOfMonth(n)},last:function(n){var t=new i(n.getFullYear(),n.getMonth()+1,0),r=e.firstDayOfMonth(n),u=Math.abs(t.getTimezoneOffset()-r.getTimezoneOffset());return u&&t.setHours(r.getHours()+u/60),t},compare:function(n,t){var i=n.getMonth(),r=n.getFullYear(),u=t.getMonth(),f=t.getFullYear();return r>f?1:f>r?-1:i==u?0:i>u?1:-1},setDate:function(n,t){var r=n.getHours();t instanceof i?n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e.setTime(n,t*ai);k(n,r)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/"+n.getDate()}},{name:"year",title:function(n){return n.getFullYear()},content:function(n){var f=it(n.culture).months.namesAbbr,e=this.toDateString,t=n.min,u=n.max;return y({min:new i(t.getFullYear(),t.getMonth(),1),max:new i(u.getFullYear(),u.getMonth(),1),start:new i(n.date.getFullYear(),0,1),setter:this.setDate,build:function(n){return{value:f[n.getMonth()],ns:r.ns,dateString:e(n),cssClass:""}}})},first:function(n){return new i(n.getFullYear(),0,n.getDate())},last:function(n){return new i(n.getFullYear(),11,n.getDate())},compare:function(n,t){return tt(n,t)},setDate:function(n,t){var r,u=n.getHours();t instanceof i?(r=t.getMonth(),n.setFullYear(t.getFullYear(),r,n.getDate()),r!==n.getMonth()&&n.setDate(0)):(r=n.getMonth()+t,n.setMonth(r),r>11&&(r-=12),r>0&&n.getMonth()!=r&&n.setDate(0));k(n,u)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/1"}},{name:"decade",title:function(n,t,i){return lt(n,t,i,10)},content:function(n){var t=n.date.getFullYear(),u=this.toDateString;return y({start:new i(t-t%10-1,0,1),min:new i(n.min.getFullYear(),0,1),max:new i(n.max.getFullYear(),0,1),setter:this.setDate,build:function(n,t){return{value:n.getFullYear(),ns:r.ns,dateString:u(n),cssClass:0===t||11==t?ui:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%10,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%10+9,n.getMonth(),n.getDate())},compare:function(n,t){return tt(n,t,10)},setDate:function(n,t){vt(n,t,1)},toDateString:function(n){return n.getFullYear()+"/0/1"}},{name:ii,title:function(n,t,i){return lt(n,t,i,100)},content:function(n){var o=n.date.getFullYear(),f=n.min.getFullYear(),e=n.max.getFullYear(),s=this.toDateString,t=f,u=e;return t-=t%10,u-=u%10,10>u-t&&(u=t+9),y({start:new i(o-o%100-10,0,1),min:new i(t,0,1),max:new i(u,0,1),setter:this.setDate,build:function(n,t){var i=n.getFullYear(),u=i+9;return f>i&&(i=f),u>e&&(u=e),{ns:r.ns,value:i+" - "+u,dateString:s(n),cssClass:0===t||11==t?ui:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%100,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%100+99,n.getMonth(),n.getDate())},compare:function(n,t){return tt(n,t,100)},setDate:function(n,t){vt(n,t,10)},toDateString:function(n){var t=n.getFullYear();return t-t%10+"/0/1"}}]};e.isEqualDatePart=ki;e.makeUnselectable=pt;e.restrictValue=l;e.isInRange=w;e.normalize=rt;e.viewsEnum=o;r.calendar=e}(window.kendo.jQuery),function(n,t){function l(t){var i=t.parseFormats,r=t.format;s.normalize(t);i=n.isArray(i)?i:[i];-1===n.inArray(r,i)&&i.splice(0,0,t.format);t.parseFormats=i}function g(n){n.preventDefault()}var nt,i=window.kendo,e=i.ui,o=e.Widget,u=i.parseDate,f=i.keys,bt=i.template,kt=i._activeElement,tt="<div />",it="<span />",r=".kendoDatePicker",rt="click"+r,a="open",v="close",y="change",ut="disabled",ft="readonly",p="k-state-default",et="k-state-focused",ot="k-state-selected",w="k-state-disabled",dt="k-state-hover",gt="mouseenter"+r+" mouseleave"+r,st="mousedown"+r,b="id",ht="min",ct="max",lt="month",at="aria-disabled",vt="aria-expanded",k="aria-hidden",yt="aria-readonly",s=i.calendar,ni=s.isInRange,pt=s.restrictValue,ti=s.isEqualDatePart,d=n.extend,h=n.proxy,wt=Date,c=function(t){var r,u=this,o=document.body,f=n(tt).attr(k,"true").addClass("k-calendar-container").appendTo(o);u.options=t=t||{};r=t.id;r&&(r+="_dateview",f.attr(b,r),u._dateViewID=r);u.popup=new e.Popup(f,d(t.popup,t,{name:"Popup",isRtl:i.support.isRtl(t.anchor)}));u.div=f;u.value(t.value)};c.prototype={_calendar:function(){var u,t=this,r=t.calendar,f=t.options;r||(u=n(tt).attr(b,i.guid()).appendTo(t.popup.element).on(st,g).on(rt,"td:has(.k-link)",h(t._click,t)),t.calendar=r=new e.Calendar(u),t._setOptions(f),i.calendar.makeUnselectable(r.element),r.navigate(t._value||t._current,f.start),t.value(t._value))},_setOptions:function(n){this.calendar.setOptions({focusOnNav:!1,change:n.change,culture:n.culture,dates:n.dates,depth:n.depth,footer:n.footer,format:n.format,max:n.max,min:n.min,month:n.month,start:n.start})},setOptions:function(n){var t=this.options;this.options=d(t,n,{change:t.change,close:t.close,open:t.open});this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var n=this;n._calendar();n.popup.open()},close:function(){this.popup.close()},min:function(n){this._option(ht,n)},max:function(n){this._option(ct,n)},toggle:function(){var n=this;n[n.popup.visible()?v:a]()},move:function(n){var i=this,r=n.keyCode,u=i.calendar,e=n.ctrlKey&&r==f.DOWN||r==f.ENTER;return r==f.ESC?(i.close(),t):n.altKey?(r==f.DOWN?(i.open(),n.preventDefault()):r==f.UP&&(i.close(),n.preventDefault()),t):i.popup.visible()?e&&u._cell.hasClass(ot)?(i.close(),n.preventDefault(),t):(i._current=u._move(n),t):void 0},current:function(n){this._current=n;this.calendar._focus(n)},value:function(n){var t=this,i=t.calendar,r=t.options;t._value=n;t._current=new wt(+pt(n,r.min,r.max));i&&i.value(n)},_click:function(n){-1!==n.currentTarget.className.indexOf(ot)&&this.close()},_option:function(n,t){var i=this,r=i.calendar;i.options[n]=t;r&&r[n](t)}};c.normalize=l;i.DateView=c;nt=o.extend({init:function(n,t){var e,f,r=this;o.fn.init.call(r,n,t);n=r.element;t=r.options;t.min=u(n.attr("min"))||u(t.min);t.max=u(n.attr("max"))||u(t.max);l(t);r._wrapper();r.dateView=new c(d({},t,{id:n.attr(b),anchor:r.wrapper,change:function(){r._change(this.value());r.close()},close:function(t){r.trigger(v)?t.preventDefault():(n.attr(vt,!1),f.attr(k,!0))},open:function(t){var i,e=r.options;r.trigger(a)?t.preventDefault():(r.element.val()!==r._oldText&&(i=u(n.val(),e.parseFormats,e.culture),r.dateView[i?"current":"value"](i)),n.attr(vt,!0),f.attr(k,!1),r._updateARIA(i))}}));f=r.dateView.div;r._icon();try{n[0].setAttribute("type","text")}catch(s){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID});r._reset();r._template();e=n.is("[disabled]");e?r.enable(!1):r.readonly(n.is("[readonly]"));r._old=r._update(t.value||r.element.val());r._oldText=n.val();i.notify(r)},events:[a,v,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:lt,depth:lt,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(n){var t=this,r=t._value;o.fn.setOptions.call(t,n);n=t.options;n.min=u(n.min);n.max=u(n.max);l(n);t.dateView.setOptions(n);r&&(t.element.val(i.toString(r,n.format,n.culture)),t._updateARIA(r))},_editable:function(n){var t=this,o=t._dateIcon.off(r),f=t.element.off(r),e=t._inputWrapper.off(r),u=n.readonly,i=n.disable;u||i?(e.addClass(i?w:p).removeClass(i?p:w),f.attr(ut,i).attr(ft,u).attr(at,i).attr(yt,u)):(e.addClass(p).removeClass(w).on(gt,t._toggleHover),f.removeAttr(ut).removeAttr(ft).attr(at,!1).attr(yt,!1).on("keydown"+r,h(t._keydown,t)).on("focusout"+r,h(t._blur,t)).on("focus"+r,function(){t._inputWrapper.addClass(et)}),o.on(rt,h(t._click,t)).on(st,g))},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;o.fn.destroy.call(n);n.dateView.destroy();n.element.off(r);n._dateIcon.off(r);n._inputWrapper.off(r);n._form&&n._form.off("reset",n._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(ht,n)},max:function(n){return this._option(ct,n)},value:function(n){var i=this;return n===t?i._value:(i._old=i._update(n),null===i._old&&i.element.val(""),i._oldText=i.element.val(),t)},_toggleHover:function(t){n(t.currentTarget).toggleClass(dt,"mouseenter"===t.type)},_blur:function(){var n=this,t=n.element.val();n.close();t!==n._oldText&&n._change(t);n._inputWrapper.removeClass(et)},_click:function(){var n=this,t=n.element;n.dateView.toggle();i.support.touch||t[0]===kt()||t.focus()},_change:function(n){var t=this;n=t._update(n);+t._old!=+n&&(t._old=n,t._oldText=t.element.val(),t.element.trigger(y),t.trigger(y))},_keydown:function(n){var t=this,i=t.dateView,r=t.element.val();i.popup.visible()||n.keyCode!=f.ENTER||r===t._oldText?(i.move(n),t._updateARIA(i._current)):t._change(r)},_icon:function(){var t,i=this,r=i.element;t=r.next("span.k-select");t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select<\/span><\/span>').insertAfter(r));i._dateIcon=t.attr({role:"button","aria-controls":i.dateView._dateViewID})},_option:function(n,i){var f=this,r=f.options;return i===t?r[n]:(i=u(i,r.parseFormats,r.culture),i&&(r[n]=new wt(+i),f.dateView[n](i)),t)},_update:function(n){var e,f=this,r=f.options,o=r.min,h=r.max,s=f._value,t=u(n,r.parseFormats,r.culture),c=null===t&&null===s||t instanceof Date&&s instanceof Date;return+t==+s&&c?(e=i.toString(t,r.format,r.culture),e!==n&&f.element.val(null===t?n:e),t):(null!==t&&ti(t,o)?t=pt(t,o,h):ni(t,o,h)||(t=null),f._value=t,f.dateView.value(t),f.element.val(t?i.toString(t,r.format,r.culture):n),f._updateARIA(t),t)},_wrapper:function(){var t,r=this,i=r.element;t=i.parents(".k-datepicker");t[0]||(t=i.wrap(it).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(it).parent());t[0].style.cssText=i[0].style.cssText;i.css({width:"100%",height:i[0].style.height});r.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className);r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue)},t._form=u.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=bt(this.options.ARIATemplate)},_updateARIA:function(n){var i,t=this,r=t.dateView.calendar;t.element.removeAttr("aria-activedescendant");r&&(i=r._cell,i.attr("aria-label",t._ariaTemplate({current:n||r.current()})),t.element.attr("aria-activedescendant",i.attr("id")))}});e.plugin(nt)}(window.kendo.jQuery),function(n,t){function vi(n,t){return n=n.split(" ")[!t+0]||n,n.replace("top","up").replace("bottom","down")}function yi(n,t,r){n=n.split(" ")[!t+0]||n;var u={origin:["bottom",r?"right":"left"],position:["top",r?"right":"left"]},f=/left|right/.test(n);return f?(u.origin=["top",n],u.position[1]=i.directions[n].reverse):(u.origin[0]=n,u.position[0]=i.directions[n].reverse),u.origin=u.origin.join(" "),u.position=u.position.join(" "),u}function o(t,i){try{return n.contains(t,i)}catch(r){return!1}}function gt(t){t=n(t);t.addClass("k-item").children(ti).addClass(ui);t.children("a").addClass(rt).children(ti).addClass(ui);t.filter(":not([disabled])").addClass(oi);t.filter(".k-separator:empty").append("&nbsp;");t.filter("li[disabled]").addClass(nt).removeAttr("disabled").attr("aria-disabled",!0);t.filter("[role]").length||t.attr("role","menuitem");t.children("."+rt).length||t.contents().filter(function(){return!(this.nodeName.match(wi)||3==this.nodeType&&!n.trim(this.nodeValue))}).wrapAll("<span class='"+rt+"'/>");p(t);v(t)}function p(t){t=n(t);t.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=n(this),i=t.parent().parent();t.append("<span class='k-icon "+(i.hasClass(y+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function v(t){t=n(t);t.filter(".k-first:not(:first-child)").removeClass(ri);t.filter(".k-last:not(:last-child)").removeClass(ii);t.filter(":first-child").addClass(ri);t.filter(":last-child").addClass(ii)}var ni,i=window.kendo,ct=i.ui,pi=i._activeElement,ft=i.support.touch&&i.support.mobileOS,lt="mousedown",at="click",e=n.extend,u=n.proxy,vt=n.each,h=i.template,s=i.keys,et=ct.Widget,wi=/^(ul|a|div)$/i,r=".kendoMenu",ti="img",it="open",y="k-menu",rt="k-link",ii="k-last",w="close",ot="timer",ri="k-first",ui="k-image",b="select",k="zIndex",yt="activate",pt="deactivate",fi="touchstart"+r+" MSPointerDown"+r+" pointerdown"+r,d=i.support.pointers,g=i.support.msPointers,bi=g||d,wt=d?"pointerover":g?"MSPointerOver":"mouseenter",ei=d?"pointerout":g?"MSPointerOut":"mouseleave",ki=ft||bi,st=n(document.documentElement),ht="kendoPopup",oi="k-state-default",bt="k-state-hover",c="k-state-focused",nt="k-state-disabled",si=".k-menu",kt=".k-menu-group",hi=kt+",.k-animation-container",l=":not(.k-list) > .k-item",di=".k-item.k-state-disabled",ut=".k-item:not(.k-state-disabled)",gi=".k-item:not(.k-state-disabled) > .k-link",ci=":not(.k-item.k-separator)",tt=ci+":eq(0)",li=ci+":last",nr="> div:not(.k-animation-container,.k-list-container)",ai={2:1,touch:1},a={content:h("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #<\/div>"),group:h("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #<\/ul>"),itemWrapper:h("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #<\/#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #<\/li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:h("<span class='#= arrowClass(item, group) #'><\/span>"),sprite:h("<span class='k-sprite #= spriteCssClass #'><\/span>"),empty:h("")},dt={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":" k-state-default",n.firstLevel&&0===r&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),i},textClass:function(){return rt},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},arrowClass:function(n,t){return"k-icon"+(t.horizontal?" k-i-arrow-s":" k-i-arrow-e")},text:function(n){return n.encoded===!1?n.text:i.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},groupAttributes:function(n){return n.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(n){return n.content?n.content:"&nbsp;"}},f=et.extend({init:function(t,f){var e=this;et.fn.init.call(e,t,f);t=e.wrapper=e.element;f=e.options;e._initData(f);e._updateClasses();e._animations(f);e.nextItemZIndex=100;e._tabindex();e._focusProxy=u(e._focusHandler,e);t.on(fi,ut,e._focusProxy).on(at+r,di,!1).on(at+r,ut,u(e._click,e)).on("keydown"+r,u(e._keydown,e)).on("focus"+r,u(e._focus,e)).on("focus"+r,".k-content",u(e._focus,e)).on(fi+" "+lt+r,".k-content",u(e._preventClose,e)).on("blur"+r,u(e._removeHoverItem,e)).on("blur"+r,"[tabindex]",u(e._checkActiveElement,e)).on(wt+r,ut,u(e._mouseenter,e)).on(ei+r,ut,u(e._mouseleave,e)).on(wt+r+" "+ei+r+" "+lt+r+" "+at+r,gi,u(e._toggleHover,e));f.openOnClick&&(e.clicked=!1,e._documentClickHandler=u(e._documentClick,e),n(document).click(e._documentClickHandler));t.attr("role","menubar");t[0].id&&(e._ariaId=i.format("{0}_mn_active",t[0].id));i.notify(e)},events:[it,w,yt,pt,b],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:t},_initData:function(n){var t=this;n.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(n.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},setOptions:function(n){var t=this.options.animation;this._animations(n);n.animation=e(!0,t,n.animation);"dataSource"in n&&this._initData(n);this._updateClasses();et.fn.setOptions.call(this,n)},destroy:function(){var t=this;et.fn.destroy.call(t);t.element.off(r);t._documentClickHandler&&n(document).unbind("click",t._documentClickHandler);i.destroy(t.element)},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},append:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return vt(i.items,function(){i.group.append(this);p(this)}),p(t),v(i.group.find(".k-first, .k-last").add(i.items)),this},insertBefore:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.parent());return vt(i.items,function(){t.before(this);p(this);v(this)}),v(t),this},insertAfter:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.parent());return vt(i.items,function(){t.after(this);p(this);v(this)}),v(t),this},_insert:function(t,i,r){var u,h,o,s,c=this;return i&&i.length||(r=c.element),o=n.isPlainObject(t),s={firstLevel:r.hasClass(y),horizontal:r.hasClass(y+"-horizontal"),expanded:!0,length:r.children().length},i&&!r.length&&(r=n(f.renderGroup({group:s})).appendTo(i)),o||n.isArray(t)?u=n(n.map(o?[t]:t,function(t,i){return"string"==typeof t?n(t).get():n(f.renderItem({group:s,item:e(t,{index:i})})).get()})):(u="string"==typeof t&&"<"!=t.charAt(0)?c.element.find(t):n(t),h=u.find("> ul").addClass("k-menu-group").attr("role","menu"),u=u.filter("li"),u.add(h.find("> li")).each(function(){gt(this)})),{items:u,group:r}},remove:function(n){var r,t,i,u;return n=this.element.find(n),r=this,t=n.parentsUntil(r.element,l),i=n.parent("ul:not(.k-menu)"),n.remove(),i&&!i.children(l).length&&(u=i.parent(".k-animation-container"),u.length?u.remove():i.remove()),t.length&&(t=t.eq(0),p(t),v(t)),r},open:function(r){var u=this,f=u.options,s="horizontal"==f.orientation,o=f.direction,h=i.support.isRtl(u.wrapper);return r=u.element.find(r),/^(top|bottom|default)$/.test(o)&&(o=h?s?(o+" left").replace("default","bottom"):"left":s?(o+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=n(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=n(this);clearTimeout(r.data(ot));r.data(ot,setTimeout(function(){var l,g,p,v,nt,a,b,d,c=r.find(".k-menu-group:first:hidden");c[0]&&u._triggerEvent({item:r[0],type:it})===!1&&(!c.find(".k-menu-group")[0]&&c.children(".k-item").length>1?(g=n(window).height(),p=function(){c.css({maxHeight:g-(c.outerHeight()-c.height())-i.getShadows(c).bottom,overflow:"auto"})},i.support.browser.msie&&7>=i.support.browser.version?setTimeout(p,0):p()):c.css({maxHeight:"",overflow:""}),r.data(k,r.css(k)),r.css(k,u.nextItemZIndex++),l=c.data(ht),v=r.parent().hasClass(y),nt=v&&s,a=yi(o,v,h),b=f.animation.open.effects,d=b!==t?b:"slideIn:"+vi(o,v),l?(l=c.data(ht),l.options.origin=a.origin,l.options.position=a.position,l.options.animation.open.effects=d):l=c.kendoPopup({activate:function(){u._triggerEvent({item:this.wrapper.parent(),type:yt})},deactivate:function(n){n.sender.element.removeData("targetTransform").css({opacity:""});u._triggerEvent({item:this.wrapper.parent(),type:pt})},origin:a.origin,position:a.position,collision:f.popupCollision!==t?f.popupCollision:nt?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:e(!0,{effects:d},f.animation.open),close:f.animation.close},close:function(n){var t=n.sender.wrapper.parent();u._triggerEvent({item:t[0],type:w})?n.preventDefault():(t.css(k,t.data(k)),t.removeData(k),ft&&(t.removeClass(bt),u._removeHoverItem()))}}).data(ht),c.removeAttr("aria-hidden"),l.open())},u.options.hoverDelay))}),u},close:function(t,i){var r=this,u=r.element;return t=u.find(t),t.length||(t=u.find(">.k-item")),t.each(function(){var t=n(this);!i&&r._isRootItem(t)&&(r.clicked=!1);clearTimeout(t.data(ot));t.data(ot,setTimeout(function(){var n=t.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(ht);n&&(n.close(),n.element.attr("aria-hidden",!0))},r.options.hoverDelay))}),r},_toggleDisabled:function(t,i){this.element.find(t).each(function(){n(this).toggleClass(oi,i).toggleClass(nt,!i).attr("aria-disabled",!i)})},_toggleHover:function(t){var r=n(i.eventTarget(t)||t.target).closest(l),u=t.type==wt||-1!==lt.indexOf(t.type);r.parents("li."+nt).length||r.toggleClass(bt,u||"mousedown"==t.type||"click"==t.type);this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var u=this,f=n(t?t.currentTarget:this._hoverItem()),r=u._findRootParent(f)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(o(r,i._activeElement())||!t||o(r,t.currentTarget))||u.close(r)},0);this._closurePrevented=!1},_removeHoverItem:function(){var n=this._hoverItem();n&&n.hasClass(c)&&(n.removeClass(c),this._oldHoverItem=null)},_updateClasses:function(){var t,n=this.element,r=".k-menu-init div ul";n.removeClass("k-menu-horizontal k-menu-vertical");n.addClass("k-widget k-reset k-header k-menu-init "+y).addClass(y+"-"+this.options.orientation);n.find("li > ul").filter(function(){return!i.support.matchesSelector.call(this,r)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",n.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");t=n.find("> li,.k-menu-group > li");n.removeClass("k-menu-init");t.each(function(){gt(this)})},_mouseenter:function(t){var i=this,r=n(t.currentTarget),f=r.children(".k-animation-container").length||r.children(kt).length;t.delegateTarget==r.parents(si)[0]&&(i.options.openOnClick&&!i.clicked||ft||(d||g)&&t.originalEvent.pointerType in ai&&i._isRootItem(r.closest(l))||!o(t.currentTarget,t.relatedTarget)&&f&&i.open(r),(i.options.openOnClick&&i.clicked||ki)&&r.siblings().each(u(function(n,t){i.close(t,!0)},i)))},_mouseleave:function(r){var f=this,u=n(r.currentTarget),e=u.children(".k-animation-container").length||u.children(kt).length;return u.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(r.stopImmediatePropagation(),t):(f.options.openOnClick||ft||(d||g)&&r.originalEvent.pointerType in ai||o(r.currentTarget,r.relatedTarget||r.target)||!e||o(r.currentTarget,i._activeElement())||f.close(u),t)},_click:function(r){var a,o,p,u=this,s=u.options,e=n(i.eventTarget(r)),h=e[0]?e[0].nodeName.toUpperCase():"",k="INPUT"==h||"SELECT"==h||"BUTTON"==h||"LABEL"==h,v=e.closest("."+rt),f=e.closest(l),y=v.attr("href"),tt=e.attr("href"),ut=n("<a href='#' />").attr("href"),c=!!y&&y!==ut,ft=c&&!!y.match(/^#/),et=!!tt&&tt!==ut,ot=s.openOnClick&&p&&u._isRootItem(f);if(!e.closest(nr,f[0]).length){if(f.hasClass(nt))return r.preventDefault(),t;if(r.handled||!u._triggerEvent({item:f[0],type:b})||k||r.preventDefault(),r.handled=!0,o=f.children(hi),p=o.is(":visible"),s.closeOnClick&&(!c||ft)&&(!o.length||ot))return f.removeClass(bt).css("height"),u._oldHoverItem=u._findRootParent(f),u.close(v.parentsUntil(u.element,l)),u.clicked=!1,-1!="MSPointerUp".indexOf(r.type)&&r.preventDefault(),t;c&&r.enterKey&&v[0].click();(u._isRootItem(f)&&s.openOnClick||i.support.touch||(d||g)&&u._isRootItem(f.closest(l)))&&(c||k||et||r.preventDefault(),u.clicked=!0,a=o.is(":visible")?w:it,(s.closeOnClick||a!=w)&&u[a](f))}},_documentClick:function(n){o(this.element[0],n.target)||(this.clicked=!1)},_focus:function(i){var r=this,u=i.target,f=r._hoverItem(),e=pi();return u==r.wrapper[0]||n(u).is(":kendoFocusable")?(e===i.currentTarget&&(f.length?r._moveHover([],f):r._oldHoverItem||r._moveHover([],r.wrapper.children().first())),t):(i.stopPropagation(),n(u).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(c),r.wrapper.focus(),t)},_keydown:function(n){var f,o,h,r=this,e=n.keyCode,u=r._oldHoverItem,c=i.support.isRtl(r.wrapper);if(n.target==n.currentTarget||e==s.ESC){if(u||(u=r._oldHoverItem=r._hoverItem()),o=r._itemBelongsToVertival(u),h=r._itemHasChildren(u),e==s.RIGHT)f=r[c?"_itemLeft":"_itemRight"](u,o,h);else if(e==s.LEFT)f=r[c?"_itemRight":"_itemLeft"](u,o,h);else if(e==s.DOWN)f=r._itemDown(u,o,h);else if(e==s.UP)f=r._itemUp(u,o,h);else if(e==s.ESC)f=r._itemEsc(u,o);else if(e==s.ENTER||e==s.SPACEBAR)f=u.children(".k-link"),f.length>0&&(r._click({target:f[0],preventDefault:function(){},enterKey:!0}),r._moveHover(u,r._findRootParent(u)));else if(e==s.TAB)return f=r._findRootParent(u),r._moveHover(u,f),r._checkActiveElement(),t;f&&f[0]&&(n.preventDefault(),n.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(n){var t=this.wrapper.hasClass("k-menu-vertical");return n.length?n.parent().hasClass("k-menu-group")||t:t},_itemHasChildren:function(n){return n.length?n.children("ul.k-menu-group, div.k-animation-container").length>0:!1},_moveHover:function(t,i){var u=this,r=u._ariaId;t.length&&i.length&&t.removeClass(c);i.length&&(i[0].id&&(r=i[0].id),i.addClass(c),u._oldHoverItem=i,r&&(u.element.removeAttr("aria-activedescendant"),n("#"+r).removeAttr("id"),i.attr("id",r),u.element.attr("aria-activedescendant",r)))},_findRootParent:function(n){return this._isRootItem(n)?n:n.parentsUntil(si,"li.k-item").last()},_isRootItem:function(n){return n.parent().hasClass(y)},_itemRight:function(n,t,i){var r,f,u=this;if(!n.hasClass(nt))return t?i?(u.open(n),r=n.find(".k-menu-group").children().first()):"horizontal"==u.options.orientation&&(f=u._findRootParent(n),u.close(f),r=f.nextAll(tt)):(r=n.nextAll(tt),r.length||(r=n.prevAll(li))),r&&!r.length?r=u.wrapper.children(".k-item").first():r||(r=[]),u._moveHover(n,r),r},_itemLeft:function(n,t){var i,r=this;return t?(i=n.parent().closest(".k-item"),r.close(i),r._isRootItem(i)&&"horizontal"==r.options.orientation&&(i=i.prevAll(tt))):(i=n.prevAll(tt),i.length||(i=n.nextAll(li))),i.length||(i=r.wrapper.children(".k-item").last()),r._moveHover(n,i),i},_itemDown:function(n,t,i){var r,u=this;if(t)r=n.nextAll(tt);else{if(!i||n.hasClass(nt))return;u.open(n);r=n.find(".k-menu-group").children().first()}return!r.length&&n.length?r=n.parent().children().first():n.length||(r=u.wrapper.children(".k-item").first()),u._moveHover(n,r),r},_itemUp:function(n,t){var i,r=this;if(t)return i=n.prevAll(tt),!i.length&&n.length?i=n.parent().children().last():n.length||(i=r.wrapper.children(".k-item").last()),r._moveHover(n,i),i},_itemEsc:function(n,t){var i,r=this;return t?(i=n.parent().closest(".k-item"),r.close(i),r._moveHover(n,i),i):n},_triggerEvent:function(n){var t=this;return t.trigger(n.type,{type:n.type,item:n.item})},_focusHandler:function(t){var u=this,r=n(i.eventTarget(t)).closest(l);setTimeout(function(){u._moveHover([],r);r.children(".k-content")[0]&&r.parent().closest(".k-item").removeClass(c)},200)},_animations:function(n){n&&"animation"in n&&!n.animation&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});e(f,{renderItem:function(n){n=e({menu:{},group:{}},n);var i=a.empty,t=n.item;return a.item(e(n,{image:t.imageUrl?a.image:i,sprite:t.spriteCssClass?a.sprite:i,itemWrapper:a.itemWrapper,renderContent:f.renderContent,arrow:t.items||t.content?a.arrow:i,subGroup:f.renderGroup},dt))},renderGroup:function(n){return a.group(e({renderItems:function(n){for(var r="",t=0,i=n.items,u=i?i.length:0,o=e({length:u},n.group);u>t;t++)r+=f.renderItem(e(n,{group:o,item:e({index:t},i[t])}));return r}},n,dt))},renderContent:function(n){return a.content(e(n,dt))}});ni=f.extend({init:function(t,i){var r=this;f.fn.init.call(r,t,i);r.target=n(r.options.target);r._popup();r._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[it,w,yt,pt,b],setOptions:function(t){var i=this;f.fn.setOptions.call(i,t);i.target.off(i.showOn+r,i._showProxy);i.userEvents&&i.userEvents.destroy();i.target=n(i.options.target);t.orientation&&i.popup.wrapper[0]&&i.popup.element.unwrap();i._wire();f.fn.setOptions.call(this,t)},destroy:function(){var n=this;n.target.off(n.options.showOn+r);st.off(i.support.mousedown+r,n._closeProxy);n.userEvents&&n.userEvents.destroy();f.fn.destroy.call(n)},open:function(u,e){var s=this;return u=n(u)[0],o(s.element[0],n(u)[0])?f.fn.open.call(s,u):s._triggerEvent({item:s.element,type:it})===!1&&(s.popup.visible()&&s.options.filter&&s.popup.close(!0),e!==t?(s.popup.wrapper.hide(),s.popup.open(u,e)):(s.popup.options.anchor=(u?u:s.popup.anchor)||s.target,s.popup.open()),st.off(s.popup.downEvent,s.popup._mousedownProxy),st.on(i.support.mousedown+r,s._closeProxy)),s},close:function(){var t=this;o(t.element[0],n(arguments[0])[0])?f.fn.close.call(t,arguments[0]):t.popup.visible()&&t._triggerEvent({item:t.element,type:w})===!1&&(t.popup.close(),st.off(i.support.mousedown+r,t._closeProxy),t.unbind(b,t._closeTimeoutProxy))},_showHandler:function(n){var f,t=n,r=this,u=r.options;n.event&&(t=n.event,t.pageX=n.x.location,t.pageY=n.y.location);o(r.element[0],n.relatedTarget||n.target)||(r._eventOrigin=t,t.preventDefault(),t.stopImmediatePropagation(),r.element.find("."+c).removeClass(c),(u.filter&&i.support.matchesSelector.call(t.currentTarget,u.filter)||!u.filter)&&(u.alignToAnchor?r.open(t.currentTarget):(r.popup.options.anchor=t.currentTarget,r._targetChild?(f=r.target.offset(),r.open(t.pageX-f.left,t.pageY-f.top)):r.open(t.pageX,t.pageY))))},_closeHandler:function(t){var f,i=this,r=n(t.relatedTarget||t.target),e=r.closest(i.target.selector)[0]==i.target[0],s=r.closest(ut).children(hi),u=o(i.element[0],r[0]);i._eventOrigin=t;f=3!==t.which;i.popup.visible()&&(f&&e||!e)&&(i.options.closeOnClick&&!s[0]&&u||!u)&&(u?(this.unbind(b,this._closeTimeoutProxy),i.bind(b,i._closeTimeoutProxy)):i.close())},_wire:function(){var n=this,t=n.options,f=n.target;n._showProxy=u(n._showHandler,n);n._closeProxy=u(n._closeHandler,n);n._closeTimeoutProxy=u(n.close,n);f[0]&&(i.support.mobileOS&&"contextmenu"==t.showOn?(n.userEvents=new i.UserEvents(f,{filter:t.filter,allowSelection:!1}),f.on(t.showOn+r,!1),n.userEvents.bind("hold",n._showProxy)):t.filter?f.on(t.showOn+r,t.filter,n._showProxy):f.on(t.showOn+r,n._showProxy))},_triggerEvent:function(i){var r=this,f=n(r.popup.options.anchor)[0],u=r._eventOrigin;return r._eventOrigin=t,r.trigger(i.type,e({type:i.type,item:i.item||this.element[0],target:f},u?{event:u}:{}))},_popup:function(){var n=this;n._triggerProxy=u(n._triggerEvent,n);n.popup=n.element.addClass("k-context-menu").kendoPopup({anchor:n.target||"body",copyAnchorStyles:n.options.copyAnchorStyles,collision:n.options.popupCollision||"fit",animation:n.options.animation,activate:n._triggerProxy,deactivate:n._triggerProxy}).data("kendoPopup");n._targetChild=o(n.target[0],n.popup.element[0])}});ct.plugin(f);ct.plugin(ni)}(window.kendo.jQuery),function(n,t){function st(n,t){var i;if(null===n&&null!==t||null!==n&&null===t||(i=n.length,i!==t.length))return!1;for(;i--;)if(n[i]!==t[i])return!1;return!0}var i=window.kendo,k=i.ui,e=k.List,u=i.keys,d=i._activeElement,ht=i.data.ObservableArray,r=n.proxy,o="id",l="li",s="accept",h="filter",a="rebind",g="open",nt="close",v="change",ct="progress",y="select",tt="aria-disabled",it="aria-readonly",c="k-state-focused",p="k-loading-hidden",rt="k-state-hover",w="k-state-disabled",ut="disabled",ft="readonly",f=".kendoMultiSelect",lt="click"+f,at="keydown"+f,et="mouseenter"+f,ot="mouseleave"+f,vt=et+" "+ot,yt=/"/g,b=n.isArray,pt=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],wt=e.extend({init:function(n,t){var u,r=this;r.ns=f;e.fn.init.call(r,n,t);r._optionsMap={};r._customOptions={};r._wrapper();r._tagList();r._input();r._textContainer();r._loader();r._tabindex(r.input);n=r.element.attr("multiple","multiple").hide();t=r.options;t.placeholder||(t.placeholder=n.data("placeholder"));u=n.attr(o);u&&(r._tagID=u+"_tag_active",u+="_taglist",r.tagList.attr(o,u));r._aria(u);r._dataSource();r._ignoreCase();r._popup();r._tagTemplate();r._initList();r._reset();r._enable();r._placeholder();t.autoBind?r.dataSource.fetch():t.value&&r._preselect(t.value);i.notify(r)},_preselect:function(t,r){var u=this;b(t)||(t=[t]);(n.isPlainObject(t[0])||t[0]instanceof i.data.ObservableObject||!u.options.dataValueField)&&(u._retrieveData=!0,u.dataSource.data(t),u.value(r||u._initialValues))},options:{name:"MultiSelect",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[g,nt,v,y,"filtering","dataBinding","dataBound"],setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.listView.setDataSource(this.dataSource);this.options.autoBind&&this.dataSource.fetch()},setOptions:function(n){var t=this._listOptions(n);e.fn.setOptions.call(this,n);this._normalizeOptions(t);this.listView.setOptions(t);this._accessors();this._aria(this.tagList.attr(o));this._tagTemplate()},currentTag:function(n){var i=this;return n===t?i._currentTag:(i._currentTag&&(i._currentTag.removeClass(c).removeAttr(o),i.input.removeAttr("aria-activedescendant")),n&&(n.addClass(c).attr(o,i._tagID),i.input.attr("aria-activedescendant",i._tagID)),i._currentTag=n,t)},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var n=this,t=n.ns;clearTimeout(n._busy);clearTimeout(n._typing);n.wrapper.off(t);n.tagList.off(t);n.input.off(t);e.fn.destroy.call(n)},_activateItem:function(){e.fn._activateItem.call(this);this.currentTag(null)},_normalizeOptions:function(n){var r=this.options.itemTemplate||this.options.template,t=n.itemTemplate||r||n.template;t||(t="#:"+i.expr(n.dataTextField,"data")+"#");n.template=t},_initList:function(){var t=this,f=t.options.virtual,o=!!f,e=r(t._listBound,t),u={autoBind:!1,selectable:"multiple",dataSource:t.dataSource,click:r(t._click,t),change:r(t._listChange,t),activate:r(t._activateItem,t),deactivate:r(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding");t._angularItems("cleanup")},dataBound:e,listBound:e,selectedItemChange:r(t._selectedItemChange,t)};u=n.extend(t._listOptions(),u,"object"==typeof f?f:{});t._normalizeOptions(u);t.listView=o?new i.ui.VirtualList(t.ul,u):new i.ui.StaticList(t.ul,u);t.listView.value(t._initialValues||t.options.value)},_listChange:function(n){this._state===a&&(this._state="",n.added=[]);this._selectValue(n.added,n.removed)},_selectedItemChange:function(n){for(var i,r=n.items,t=0;r.length>t;t++)i=r[t],this.tagList.children().eq(i.index).children("span:first").html(this.tagTextTemplate(i.item))},_wrapperMousedown:function(t){var r=this,u="input"!==t.target.nodeName.toLowerCase(),f=n(t.target).hasClass("k-select")||n(t.target).parent().hasClass("k-select");!u||f&&i.support.mobileOS||t.preventDefault();f||(r.input[0]!==d()&&u&&r.input.focus(),0===r.options.minLength&&r.open())},_inputFocus:function(){this._placeholder(!1);this.wrapper.addClass(c)},_inputFocusout:function(){var n=this;clearTimeout(n._typing);n.wrapper.removeClass(c);n._placeholder(!n.listView.selectedDataItems()[0],!0);n.close();n._state===h&&(n._state=s,n.listView.filter(!1),n.listView.skipUpdate(!0));n.element.blur()},_removeTag:function(n){var f,i=this,o=i._state,e=n.index(),r=i.listView,c=r.value()[e],u=i._customOptions[c];u!==t||o!==s&&o!==h||(u=i._optionsMap[c]);u!==t?(f=i.element[0].children[u],f.removeAttribute("selected"),f.selected=!1,r.removeAt(e),n.remove()):r.select(r.select()[e]);i.currentTag(null);i._change();i._close()},_tagListClick:function(t){this._removeTag(n(t.target).closest(l))},_editable:function(t){var i=this,u=t.disable,e=t.readonly,o=i.wrapper.off(f),h=i.tagList.off(f),s=i.element.add(i.input.off(f));e||u?(u?o.addClass(w):o.removeClass(w),s.attr(ut,u).attr(ft,e).attr(tt,u).attr(it,e)):(o.removeClass(w).on(vt,i._toggleHover).on("mousedown"+f+" touchend"+f,r(i._wrapperMousedown,i)),i.input.on(at,r(i._keydown,i)).on("paste"+f,r(i._search,i)).on("focus"+f,r(i._inputFocus,i)).on("focusout"+f,r(i._inputFocusout,i)),s.removeAttr(ut).removeAttr(ft).attr(tt,!1).attr(it,!1),h.on(et,l,function(){n(this).addClass(rt)}).on(ot,l,function(){n(this).removeClass(rt)}).on(lt,"li.k-button .k-select",r(i._tagListClick,i)))},_close:function(){var n=this;n.options.autoClose?n.close():n.popup._position()},close:function(){this.popup.close()},open:function(){var n=this;n._request&&(n._retrieveData=!1);n._retrieveData||!n.listView.isBound()||n._state===s?(n._open=!0,n._state=a,n._retrieveData=!1,n.listView.filter(!1),n.listView.skipUpdate(!0),n._filterSource()):n._allowSelection()&&(n.popup.open(),n._focusItem())},toggle:function(n){n=n!==t?n:!this.popup.visible();this[n?g:nt]()},refresh:function(){this.listView.refresh()},_listBound:function(){var n=this,t=this.dataSource.flatView(),i=t.length;n._angularItems("compile");n._render(t);n._calculateGroupPadding(n._height(i));n._open&&(n._open=!1,n.toggle(i));n.popup.visible()&&n.popup._position();n.options.highlightFirst&&n.listView.first();n._touchScroller&&n._touchScroller.reset();n._hideBusy();n._makeUnselectable();n._hideBusy();n.trigger("dataBound")},search:function(n){var f,r,t=this,i=t.options,e=i.ignoreCase,o=i.filter,s=i.dataTextField,u=t.input.val();i.placeholder===u&&(u="");clearTimeout(t._typing);n="string"==typeof n?n:u;r=n.length;(!r||r>=i.minLength)&&(t.listView.filter(!0),t._state=h,t._open=!0,f={value:e?n.toLowerCase():n,field:s,operator:o,ignoreCase:e},t._filterSource(f,t._retrieveData),t._retrieveData=!1)},value:function(n){var i=this,u=i.listView.value().slice(),r=i.options.maxSelectedItems;return n===t?u:(n=i._normalizeValues(n),null!==r&&n.length>r&&(n=n.slice(0,r)),i.listView.value(n),i._old=n,i._fetchData(),t)},_setOption:function(n,t){var i=this.element[0].children[this._optionsMap[n]];i&&(t?i.setAttribute("selected","selected"):i.removeAttribute("selected"),i.selected=t)},_fetchData:function(){var n=this,t=!!n.dataSource.view().length,i=0===n.listView.value().length;i||n._fetch||t||(n._fetch=!0,n.dataSource.fetch().done(function(){n._fetch=!1}))},_dataSource:function(){var n=this,f=n.element,u=n.options,t=u.dataSource||{};t=b(t)?{data:t}:t;t.select=f;t.fields=[{field:u.dataTextField},{field:u.dataValueField}];n.dataSource&&n._refreshHandler?n._unbindDataSource():n._progressHandler=r(n._showBusy,n);n.dataSource=i.data.DataSource.create(t).bind(ct,n._progressHandler)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues);t._placeholder()})},t._form=u.on("reset",t._resetHandler))},_initValue:function(){var n=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(n)},_normalizeValues:function(t){var i=this;return null===t?t=[]:t&&n.isPlainObject(t)?t=[i._value(t)]:t&&n.isPlainObject(t[0])?t=n.map(t,function(n){return i._value(n)}):b(t)||t instanceof ht||(t=[t]),t},_change:function(){var n=this,t=n.value();st(t,n._old)||(n._old=t.slice(),n.trigger(v),n.element.trigger(v))},_click:function(n){var i=n.item;return this.trigger(y,{item:i})?(this._close(),t):(this._select(i),this._change(),this._close(),t)},_keydown:function(r){var f=this,o=r.keyCode,e=f._currentTag,s=f.listView.focus(),c=f.input.val(),l=i.support.isRtl(f.wrapper),h=f.popup.visible();if(o===u.DOWN){if(r.preventDefault(),!h)return f.open(),s||this.listView.first(),t;s?(this.listView.next(),this.listView.focus()||this.listView.last()):this.listView.first()}else if(o===u.UP)h&&(s&&this.listView.prev(),this.listView.focus()||f.close()),r.preventDefault();else if(o===u.LEFT&&!l||o===u.RIGHT&&l)c||(e=e?e.prev():n(f.tagList[0].lastChild),e[0]&&f.currentTag(e));else if(o===u.RIGHT&&!l||o===u.LEFT&&l)!c&&e&&(e=e.next(),f.currentTag(e[0]?e:null));else if(o===u.ENTER&&h){if(s){if(f.trigger(y,{item:s}))return f._close(),t;f._select(s)}f._change();f._close();r.preventDefault()}else o===u.ESC?(h?r.preventDefault():f.currentTag(null),f.close()):o===u.HOME?h?this.listView.first():c||(e=f.tagList[0].firstChild,e&&f.currentTag(n(e))):o===u.END?h?this.listView.last():c||(e=f.tagList[0].lastChild,e&&f.currentTag(n(e))):o!==u.DELETE&&o!==u.BACKSPACE||c?(clearTimeout(f._typing),setTimeout(function(){f._scale()}),f._search()):(o!==u.BACKSPACE||e||(e=n(f.tagList[0].lastChild)),e&&e[0]&&f._removeTag(e))},_hideBusy:function(){var n=this;clearTimeout(n._busy);n.input.attr("aria-busy",!1);n._loading.addClass(p);n._request=!1;n._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",!0);this._loading.removeClass(p)},_showBusy:function(){var n=this;n._request=!0;n._busy||(n._busy=setTimeout(r(n._showBusyHandler,n),100))},_placeholder:function(n,r){var u=this,f=u.input,e=d();n===t&&(n=!1,f[0]!==e&&(n=!u.listView.selectedDataItems()[0]));u._prev="";f.toggleClass("k-readonly",n).val(n?u.options.placeholder:"");f[0]!==e||r||i.caret(f[0],0,0);u._scale()},_scale:function(){var n,t=this,r=t.wrapper,u=r.width(),i=t._span.text(t.input.val());r.is(":visible")?n=i.width()+25:(i.appendTo(document.documentElement),u=n=i.width()+25,i.appendTo(r));t.input.width(n>u?u:n)},_option:function(n,r){var f="<option",e=this._text(n),u=this._value(n);return u!==t&&(u+="",-1!==u.indexOf('"')&&(u=u.replace(yt,"&quot;")),f+=' value="'+u+'"'),r&&(f+=" selected"),f+=">",e!==t&&(f+=i.htmlEncode(e)),f+"<\/option>"},_render:function(n){for(var u,i,f,r=this.listView.selectedDataItems(),e=n.length,o="",h={},s={},t=0;e>t;t++)i=n[t],u=this._selectedIndex(i,r),-1!==u&&r.splice(u,1),s[this._value(i)]=t,o+=this._option(i,-1!==u);if(r.length)for(t=0;r.length>t;t++)i=r[t],f=this._value(i),h[f]=t+e,s[f]=t+e,o+='<option selected="selected" value="'+f+'">'+this._text(i)+"<\/option>";this._customOptions=h;this._optionsMap=s;this.element.html(o)},_selectedIndex:function(n,t){for(var r=this._value,u=r(n),i=0;t.length>i;i++)if(u===r(t[i]))return i;return-1},_search:function(){var n=this;n._typing=setTimeout(function(){var t=n.input.val();n._prev!==t&&(n._prev=t,n.search(t))},n.options.delay)},_allowSelection:function(){var n=this.options.maxSelectedItems;return null===n||n>this.listView.value().length},_selectValue:function(n,t){for(var r,u,f=this.tagList,e=this._value,i=t.length-1;i>-1;i--)r=t[i],f[0].removeChild(f[0].children[r.position]),this._setOption(e(r.dataItem),!1);for(i=0;n.length>i;i++)u=n[i],f.append(this.tagTemplate(u.dataItem)),this._setOption(e(u.dataItem),!0);this._placeholder()},_select:function(n){var t=this;t._state===a&&(t._state="");t._allowSelection()&&(this.listView.select(n),t._placeholder(),t._state===h&&(t._state=s,t.listView.filter(!1),t.listView.skipUpdate(!0)))},_input:function(){var t=this,r=t.element[0].accessKey,i=t._innerWrapper.children("input.k-input");i[0]||(i=n('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper));t.element.removeAttr("accesskey");t._focused=t.input=i.attr({accesskey:r,autocomplete:"off",role:"listbox","aria-expanded":!1})},_tagList:function(){var t=this,i=t._innerWrapper.children("ul");i[0]||(i=n('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper));t.tagList=i},_tagTemplate:function(){var r=this,n=r.options,t=n.tagTemplate,u=n.dataSource;r.element[0].length&&!u&&(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value");t=t?i.template(t):i.template("#:"+i.expr(n.dataTextField,"data")+"#",{useWithBlock:!1});r.tagTextTemplate=t;r.tagTemplate=function(n){return'<li class="k-button" unselectable="on"><span unselectable="on">'+t(n)+'<\/span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-close">delete<\/span><\/span><\/li>'}},_loader:function(){this._loading=n('<span class="k-icon k-loading '+p+'"><\/span>').insertAfter(this.input)},_textContainer:function(){var t=i.getComputedStyles(this.input[0],pt);t.position="absolute";t.visibility="hidden";t.top=-3333;t.left=-3333;this._span=n("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var r=this,t=r.element,i=t.parent("span.k-multiselect");i[0]||(i=t.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),i[0].style.cssText=t[0].style.cssText,i[0].title=t[0].title,n('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(t));r.wrapper=i.addClass(t[0].className).css("display","");r._innerWrapper=n(i[0].firstChild)}});k.plugin(wt)}(window.kendo.jQuery),function(n,t){var u=window.kendo,s=u.ui.Widget,k=n.proxy,h=n.extend,e=window.setTimeout,v="click",y="show",p="hide",l="k-notification",o=".k-notification-wrap .k-i-close",w="info",d="success",g="warning",nt="error",r="top",i="left",c="bottom",a="right",b="up",f=".kendoNotification",tt='<div class="k-widget k-notification"><\/div>',it='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#<\/span>#=content#<span class="k-icon k-i-close">Hide<\/span><\/div>',rt=s.extend({init:function(t,i){var r=this;s.fn.init.call(r,t,i);i=r.options;i.appendTo&&n(i.appendTo).is(t)||r.element.hide();r._compileTemplates(i.templates);r._guid="_"+u.guid();r._isRtl=u.support.isRtl(t);r._compileStacking(i.stacking,i.position.top);u.notify(r)},events:[y,p],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var i=this,r=u.template;i._compiled={};n.each(t,function(t,u){i._compiled[u.type]=r(u.template||n("#"+u.templateId).html())});i._defaultCompiled=r(it)},_getCompiled:function(n){var t=this,i=t._defaultCompiled;return n?t._compiled[n]||i:i},_compileStacking:function(n,t){var u,f,o=this,e={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};switch(n){case"down":u=c+" "+i;f=r+" "+i;delete e.paddingBottom;break;case a:u=r+" "+a;f=r+" "+i;delete e.paddingRight;break;case i:u=r+" "+i;f=r+" "+a;delete e.paddingLeft;break;case b:u=r+" "+i;f=c+" "+i;delete e.paddingTop;break;default:null!==t?(u=c+" "+i,f=r+" "+i,delete e.paddingBottom):(u=r+" "+i,f=c+" "+i,delete e.paddingTop)}o._popupOrigin=u;o._popupPosition=f;o._popupPaddings=e},_attachPopupEvents:function(n,t){function i(n){n.on(v+f,function(){t.close()})}var u,r=n.allowHideAfter,s=!isNaN(r)&&r>0;n.hideOnClick?t.bind("activate",function(){s?e(function(){i(t.element)},r):i(t.element)}):n.button&&(u=t.element.find(o),s?e(function(){i(u)},r):i(u))},_showPopup:function(t,i){var s,c,r=this,v=i.autoHideAfter,l=i.position.left,a=i.position.top;c=n("."+r._guid).last();s=new u.ui.Popup(t,{anchor:c[0]?c:document.body,origin:r._popupOrigin,position:r._popupPosition,animation:i.animation,modal:!0,collision:"",isRtl:r._isRtl,close:function(){r._triggerHide(this.element)},deactivate:function(n){n.sender.element.off(f);n.sender.element.find(o).off(f);n.sender.destroy()}});r._attachPopupEvents(i,s);c[0]?s.open():(null===l&&(l=n(window).width()-t.width()-i.position.right),null===a&&(a=n(window).height()-t.height()-i.position.bottom),s.open(l,a));s.wrapper.addClass(r._guid).css(h({margin:0},r._popupPaddings));i.position.pinned?(s.wrapper.css("position","fixed"),c[0]&&r._togglePin(s.wrapper,!0)):c[0]||r._togglePin(s.wrapper,!1);v>0&&e(function(){s.close()},v)},_togglePin:function(t,u){var f=n(window),e=u?-1:1;t.css({top:parseInt(t.css(r),10)+e*f.scrollTop(),left:parseInt(t.css(i),10)+e*f.scrollLeft()})},_attachStaticEvents:function(n,t){function i(n){n.on(v+f,k(u._hideStatic,u,t))}var u=this,r=n.allowHideAfter,s=!isNaN(r)&&r>0;n.hideOnClick?s?e(function(){i(t)},r):i(t):n.button&&(s?e(function(){i(t.find(o))},r):i(t.find(o)))},_showStatic:function(n,t){var r=this,u=t.autoHideAfter,f=t.animation,o=t.stacking==b||t.stacking==i?"prependTo":"appendTo";n.addClass(r._guid)[o](t.appendTo).hide().kendoAnimate(f.open||!1);r._attachStaticEvents(t,n);u>0&&e(function(){r._hideStatic(n)},u)},_hideStatic:function(n){n.kendoAnimate(h(this.options.animation.close||!1,{complete:function(){n.off(f).find(o).off(f);n.remove()}}));this._triggerHide(n)},_triggerHide:function(n){this.trigger(p,{element:n});this.angular("cleanup",function(){return{elements:n}})},show:function(i,r){var s,c,f=this,e=f.options,o=n(tt);return r||(r=w),null!==i&&i!==t&&""!==i&&(u.isFunction(i)&&(i=i()),c={typeIcon:r,content:""},s=n.isPlainObject(i)?h(c,i):h(c,{content:i}),o.addClass(l+"-"+r).toggleClass(l+"-button",e.button).attr("data-role","alert").css({width:e.width,height:e.height}).append(f._getCompiled(r)(s)),f.angular("compile",function(){return{elements:o,data:[{dataItem:s}]}}),n(e.appendTo)[0]?f._showStatic(o,e):f._showPopup(o,e),f.trigger(y,{element:o})),f},info:function(n){return this.show(n,w)},success:function(n){return this.show(n,d)},warning:function(n){return this.show(n,g)},error:function(n){return this.show(n,nt)},hide:function(){var t=this,i=t.getNotifications();return i.each(t.options.appendTo?function(i,r){t._hideStatic(n(r))}:function(t,i){var r=n(i).data("kendoPopup");r&&r.close()}),t},getNotifications:function(){var t=this,i=n("."+t._guid);return t.options.appendTo?i:i.children("."+l)},setOptions:function(n){var i,r=this;s.fn.setOptions.call(r,n);i=r.options;n.templates!==t&&r._compileTemplates(i.templates);(n.stacking!==t||n.position!==t)&&r._compileStacking(i.stacking,i.position.top)},destroy:function(){s.fn.destroy.call(this);this.getNotifications().off(f).find(o).off(f)}});u.ui.plugin(rt)}(window.kendo.jQuery),function(n,t){function y(n,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+n+'" title="'+t+'">'+t+"<\/span><\/span>"}var r=window.kendo,s=r.caret,e=r.keys,p=r.ui,h=p.Widget,ft=r._activeElement,et=r._extractFormat,ot=r.parseFloat,st=r.support.placeholder,ht=r.getCulture,w=r._round,c="change",b="disabled",k="readonly",ct="k-input",d="spin",u=".kendoNumericTextBox",lt="touchend",at="mouseleave"+u,g="mouseenter"+u+" "+at,l="k-state-default",nt="k-state-focused",tt="k-state-hover",it="focus",f=".",a="k-state-selected",v="k-state-disabled",rt="aria-disabled",ut="aria-readonly",vt=/^(-)?(\d*)$/,i=null,o=n.proxy,yt=h.extend({init:function(n,f){var s,c,l,a,v,e=this,y=f&&f.step!==t;h.fn.init.call(e,n,f);f=e.options;n=e.element.on("focusout"+u,o(e._focusout,e)).attr("role","spinbutton");f.placeholder=f.placeholder||n.attr("placeholder");e._reset();e._wrapper();e._arrows();e._input();r.support.mobileOS?e._text.on(lt+u+" "+it+u,function(){e._toggleText(!1);n.focus()}):e._text.on(it+u,o(e._click,e));s=e.min(n.attr("min"));c=e.max(n.attr("max"));l=e._parse(n.attr("step"));f.min===i&&s!==i&&(f.min=s);f.max===i&&c!==i&&(f.max=c);y||l===i||(f.step=l);n.attr("aria-valuemin",f.min).attr("aria-valuemax",f.max);f.format=et(f.format);a=f.value;e.value(a!==i?a:n.val());v=n.is("[disabled]");v?e.enable(!1):e.readonly(n.is("[readonly]"));r.notify(e)},options:{name:"NumericTextBox",decimals:i,min:i,max:i,value:i,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[c,d],_editable:function(n){var t=this,f=t.element,i=n.disable,r=n.readonly,e=t._text.add(f),s=t._inputWrapper.off(g);t._toggleText(!0);t._upArrowEventHandler.unbind("press");t._downArrowEventHandler.unbind("press");f.off("keydown"+u).off("keypress"+u).off("paste"+u);r||i?(s.addClass(i?v:l).removeClass(i?l:v),e.attr(b,i).attr(k,r).attr(rt,i).attr(ut,r)):(s.addClass(l).removeClass(v).on(g,t._toggleHover),e.removeAttr(b).removeAttr(k).attr(rt,!1).attr(ut,!1),t._upArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(1);t._upArrow.addClass(a)}),t._downArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(-1);t._downArrow.addClass(a)}),t.element.on("keydown"+u,o(t._keydown,t)).on("keypress"+u,o(t._keypress,t)).on("paste"+u,o(t._paste,t)))},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;n.element.add(n._text).add(n._upArrow).add(n._downArrow).add(n._inputWrapper).off(u);n._upArrowEventHandler.destroy();n._downArrowEventHandler.destroy();n._form&&n._form.off("reset",n._resetHandler);h.fn.destroy.call(n)},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},step:function(n){return this._option("step",n)},value:function(n){var r,i=this;return n===t?i._value:(n=i._parse(n),r=i._adjust(n),n===r&&(i._update(n),i._old=i._value),t)},focus:function(){this._focusin()},_adjust:function(n){var f=this,u=f.options,t=u.min,r=u.max;return n===i?n:(t!==i&&t>n?n=t:r!==i&&n>r&&(n=r),n)},_arrows:function(){var i,t=this,f=function(){clearTimeout(t._spinning);i.removeClass(a)},u=t.options,e=u.spinners,o=t.element;i=o.siblings(".k-icon");i[0]||(i=n(y("n",u.upArrowText)+y("s",u.downArrowText)).insertAfter(o),i.wrapAll('<span class="k-select"/>'));e||(i.parent().toggle(e),t._inputWrapper.addClass("k-expand-padding"));t._upArrow=i.eq(0);t._upArrowEventHandler=new r.UserEvents(t._upArrow,{release:f});t._downArrow=i.eq(1);t._downArrowEventHandler=new r.UserEvents(t._downArrow,{release:f})},_blur:function(){var n=this;n._toggleText(!0);n._change(n.element.val())},_click:function(n){var t=this;clearTimeout(t._focusing);t._focusing=setTimeout(function(){var i,o,r,h=n.target,a=s(h)[0],c=h.value.substring(0,a),l=t._format(t.options.format),u=l[","],e=0;u&&(o=RegExp("\\"+u,"g"),r=RegExp("([\\d\\"+u+"]+)(\\"+l[f]+")?(\\d+)?"));r&&(i=r.exec(c));i&&(e=i[0].replace(o,"").length,-1!=c.indexOf("(")&&0>t._value&&e++);t._focusin();s(t.element[0],e)})},_change:function(n){var t=this;t._update(n);n=t._value;t._old!=n&&(t._old=n,t.element.trigger(c),t.trigger(c))},_culture:function(n){return n||ht(this.options.culture)},_focusin:function(){var n=this;n._inputWrapper.addClass(nt);n._toggleText(!1);n.element[0].focus()},_focusout:function(){var n=this;clearTimeout(n._focusing);n._inputWrapper.removeClass(nt).removeClass(tt);n._blur()},_format:function(n,t){var i=this._culture(t).numberFormat;return n=n.toLowerCase(),n.indexOf("c")>-1?i=i.currency:n.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var t,r=this,u="k-formatted-value",i=r.element.addClass(ct).show()[0],e=i.accessKey,o=r.wrapper;t=o.find(f+u);t[0]||(t=n('<input type="text"/>').insertBefore(i).addClass(u));try{i.setAttribute("type","text")}catch(s){i.type="text"}t[0].tabIndex=i.tabIndex;t[0].style.cssText=i.style.cssText;t[0].title=i.title;t.prop("placeholder",r.options.placeholder);e&&(t.attr("accesskey",e),i.accessKey="");r._text=t.addClass(i.className)},_keydown:function(n){var t=this,i=n.keyCode;t._key=i;i==e.DOWN?t._step(-1):i==e.UP?t._step(1):i==e.ENTER&&t._change(t.element.val())},_keypress:function(n){var t,o,r,h,c,y,u,l,a,i,v;0===n.which||n.metaKey||n.ctrlKey||n.keyCode===e.BACKSPACE||n.keyCode===e.ENTER||(t=this,o=t.options.min,r=t.element,h=s(r),c=h[0],y=h[1],u=String.fromCharCode(n.which),l=t._format(t.options.format),a=t._key===e.NUMPAD_DOT,i=r.val(),a&&(u=l[f]),i=i.substring(0,c)+u+i.substring(y),v=t._numericRegex(l).test(i),v&&a?(r.val(i),s(r,c+u.length),n.preventDefault()):(null!==o&&o>=0&&"-"===i.charAt(0)||!v)&&n.preventDefault(),t._key=0)},_numericRegex:function(n){var r=this,t=n[f],u=r.options.decimals;return t===f&&(t="\\"+t),u===i&&(u=n.decimals),0===u?vt:(r._separator!==t&&(r._separator=t,r._floatRegExp=RegExp("^(-)?(((\\d+("+t+"\\d*)?)|("+t+"\\d*)))?$")),r._floatRegExp)},_paste:function(n){var t=this,r=n.target,u=r.value;setTimeout(function(){t._parse(r.value)===i&&t._update(u)})},_option:function(n,i){var r=this,u=r.options;return i===t?u[n]:(i=r._parse(i),(i||"step"!==n)&&(u[n]=i,r.element.attr("aria-value"+n,i).attr(n,i)),t)},_spin:function(n,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(n,50)},t);i._step(n)},_step:function(n){var t=this,i=t.element,r=t._parse(i.val())||0;ft()!=i[0]&&t._focusin();r+=t.options.step*n;t._update(t._adjust(r));t.trigger(d)},_toggleHover:function(t){n(t.currentTarget).toggleClass(tt,"mouseenter"===t.type)},_toggleText:function(n){var t=this;t._text.toggle(n);t.element.toggle(!n)},_parse:function(n,t){return ot(n,this._culture(t),this.options.format)},_update:function(n){var e,t=this,s=t.options,h=s.format,u=s.decimals,o=t._culture(),c=t._format(h,o);u===i&&(u=c.decimals);n=t._parse(n,o);e=n!==i;e&&(n=parseFloat(w(n,u)));t._value=n=t._adjust(n);t._placeholder(r.toString(n,h,o));e?(n=""+n,-1!==n.indexOf("e")&&(n=w(+n,u)),n=n.replace(f,c[f])):n="";t.element.val(n).attr("aria-valuenow",n)},_placeholder:function(n){this._text.val(n);st||n||this._text.val(this.options.placeholder)},_wrapper:function(){var t,i=this,r=i.element,u=r[0];t=r.parents(".k-numerictextbox");t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent());t[0].style.cssText=u.style.cssText;u.style.width="";i.wrapper=t.addClass("k-widget k-numerictextbox").addClass(u.className).css("display","");i._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(i[0].value)})},t._form=u.on("reset",t._resetHandler))}});p.plugin(yt)}(window.kendo.jQuery),function(n,t){function ui(n,t,i){var f=i?" k-slider-horizontal":" k-slider-vertical",r=n.style?n.style:t.attr("style"),e=t.attr("class")?" "+t.attr("class"):"",u="";return"bottomRight"==n.tickPlacement?u=" k-slider-bottomright":"topLeft"==n.tickPlacement&&(u=" k-slider-topleft"),r=r?" style='"+r+"'":"","<div class='k-widget k-slider"+f+e+"'"+r+"><div class='k-slider-wrap"+(n.showButtons?" k-slider-buttons":"")+u+"'><\/div><\/div>"}function dt(n,t,i){var r="";return r="increase"==t?i?"k-i-arrow-e":"k-i-arrow-n":i?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+r+"' title='"+n[t+"ButtonTitle"]+"'>"+n[t+"ButtonTitle"]+"<\/span><\/a>"}function fi(n,t){for(var u="<ul class='k-reset k-slider-items'>",f=i.floor(o(t/n.smallStep))+1,r=0;f>r;r++)u+="<li class='k-tick' role='presentation'>&nbsp;<\/li>";return u+"<\/ul>"}function ei(n,t){var i=t.is("input")?1:2,r=2==i?n.leftDragHandleTitle:n.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --><\/div><a href='#' class='k-draghandle' title='"+r+"' role='slider' aria-valuemin='"+n.min+"' aria-valuemax='"+n.max+"' aria-valuenow='"+(i>1?n.selectionStart||n.min:n.value||n.min)+"'>Drag<\/a>"+(i>1?"<a href='#' class='k-draghandle' title='"+n.rightDragHandleTitle+"'role='slider' aria-valuemin='"+n.min+"' aria-valuemax='"+n.max+"' aria-valuenow='"+(n.selectionEnd||n.max)+"'>Drag<\/a>":"")+"<\/div>"}function b(n){return function(t){return t+n}}function gt(n){return function(){return n}}function h(n){return(n+"").replace(".",r.cultures.current.numberFormat["."])}function o(n){n=parseFloat(n,10);var t=i.pow(10,hi||0);return i.round(n*t)/t}function s(n,i){var r=si(n.getAttribute(i));return null===r&&(r=t),r}function pt(n){return typeof n!==ci}function nt(n){return 1e4*n}var ut,r=window.kendo,wt=r.ui.Widget,oi=r.ui.Draggable,ni=n.extend,ft=r.format,si=r.parseFloat,f=n.proxy,bt=n.isArray,i=Math,kt=r.support,ti=kt.pointers,ii=kt.msPointers,tt="change",et="slide",u=".slider",it="touchstart"+u+" mousedown"+u,k=ti?"pointerdown"+u:ii?"MSPointerDown"+u:it,a="touchend"+u+" mouseup"+u,ot=ti?"pointerup":ii?"MSPointerUp"+u:a,st="moveSelection",y="keydown"+u,ht="click"+u,rt="mouseover"+u,ct="focus"+u,lt="blur"+u,e=".k-draghandle",p=".k-slider-track",c=".k-tick",w="k-state-selected",l="k-state-focused",at="k-state-default",vt="k-state-disabled",hi=3,d="disabled",ci="undefined",yt="tabindex",ri=r.getTouches,g=wt.extend({init:function(n,t){var u,i=this;wt.fn.init.call(i,n,t);t=i.options;i._distance=o(t.max-t.min);i._isHorizontal="horizontal"==t.orientation;i._isRtl=i._isHorizontal&&r.support.isRtl(n);i._position=i._isHorizontal?"left":"bottom";i._sizeFn=i._isHorizontal?"width":"height";i._outerSize=i._isHorizontal?"outerWidth":"outerHeight";t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}";i._createHtml();i.wrapper=i.element.closest(".k-slider");i._trackDiv=i.wrapper.find(p);i._setTrackDivWidth();i._maxSelection=i._trackDiv[i._sizeFn]();i._sliderItemsInit();i._reset();i._tabindex(i.wrapper.find(e));i[t.enabled?"enable":"disable"]();u=r.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:b(-1*u*t.smallStep),40:b(-t.smallStep),39:b(1*u*t.smallStep),38:b(+t.smallStep),35:gt(t.max),36:gt(t.min),33:b(+t.largeStep),34:b(-t.largeStep)};r.notify(i)},events:[tt,et],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var n=this,t=n.options,r=n._maxSelection/((t.max-t.min)/t.smallStep),u=n._calculateItemsWidth(i.floor(n._distance/t.smallStep));"none"!=t.tickPlacement&&r>=2&&(n._trackDiv.before(fi(t,n._distance)),n._setItemsWidth(u),n._setItemsTitle());n._calculateSteps(u);"none"!=t.tickPlacement&&r>=2&&t.largeStep>=t.smallStep&&n._setItemsLargeTick()},getSize:function(){return r.dimensions(this.wrapper)},_setTrackDivWidth:function(){var n=this,t=2*parseFloat(n._trackDiv.css(n._isRtl?"right":n._position),10);n._trackDiv[n._sizeFn](n.wrapper[n._sizeFn]()-2-t)},_setItemsWidth:function(t){for(var i=this,h=i.options,o=0,u=t.length-1,f=i.wrapper.find(c),e=0,l=f.length,s=0,r=0;l-2>r;r++)n(f[r+1])[i._sizeFn](t[r]);if(i._isHorizontal?(n(f[o]).addClass("k-first")[i._sizeFn](t[u-1]),n(f[u]).addClass("k-last")[i._sizeFn](t[u])):(n(f[u]).addClass("k-first")[i._sizeFn](t[u]),n(f[o]).addClass("k-last")[i._sizeFn](t[u-1])),i._distance%h.smallStep!=0&&!i._isHorizontal){for(r=0;t.length>r;r++)s+=t[r];e=i._maxSelection-s;e+=parseFloat(i._trackDiv.css(i._position),10)+2;i.wrapper.find(".k-slider-items").css("padding-top",e)}},_setItemsTitle:function(){for(var t=this,i=t.options,u=t.wrapper.find(c),f=i.min,e=u.length,r=t._isHorizontal&&!t._isRtl?0:e-1,s=t._isHorizontal&&!t._isRtl?e:-1,h=t._isHorizontal&&!t._isRtl?1:-1;r-s!=0;r+=h)n(u[r]).attr("title",ft(i.tooltip.format,o(f))),f+=i.smallStep},_setItemsLargeTick:function(){var r,s,e,t=this,u=t.options,f=t.wrapper.find(c),i=0;if(nt(u.largeStep)%nt(u.smallStep)==0||t._distance/u.largeStep>=3)for(t._isHorizontal||t._isRtl||(f=n.makeArray(f).reverse()),i=0;f.length>i;i++)r=n(f[i]),s=t._values[i],e=o(nt(s-this.options.min)),e%nt(u.smallStep)==0&&e%nt(u.largeStep)==0&&(r.addClass("k-tick-large").html("<span class='k-label'>"+r.attr("title")+"<\/span>"),0!==i&&i!==f.length-1&&r.css("line-height",r[t._sizeFn]()+"px"))},_calculateItemsWidth:function(n){var f,r,u,t=this,e=t.options,o=parseFloat(t._trackDiv.css(t._sizeFn))+1,s=o/t._distance;for(t._distance/e.smallStep-i.floor(t._distance/e.smallStep)>0&&(o-=t._distance%e.smallStep*s),f=o/n,r=[],u=0;n-1>u;u++)r[u]=f;return r[n-1]=r[n]=f/2,t._roundWidths(r)},_roundWidths:function(n){for(var r=0,u=n.length,t=0;u>t;t++)r+=n[t]-i.floor(n[t]),n[t]=i.floor(n[t]);return r=i.round(r),this._addAdditionalSize(r,n)},_addAdditionalSize:function(n,t){if(0===n)return t;for(var u=parseFloat(t.length-1)/parseFloat(1==n?n:n-1),r=0;n>r;r++)t[parseInt(i.round(u*r),10)]+=1;return t},_calculateSteps:function(n){var e,t=this,u=t.options,s=u.min,h=0,r=i.ceil(t._distance/u.smallStep),f=1;if(r+=t._distance/u.smallStep%1==0?1:0,n.splice(0,0,2*n[r-2]),n.splice(r-1,1,2*n.pop()),t._pixelSteps=[h],t._values=[s],0!==r){for(;r>f;)h+=(n[f-1]+n[f])/2,t._pixelSteps[f]=h,s+=u.smallStep,t._values[f]=o(s),f++;e=t._distance%u.smallStep==0?r-1:r;t._pixelSteps[e]=t._maxSelection;t._values[e]=u.max;t._isRtl&&(t._pixelSteps.reverse(),t._values.reverse())}},_getValueFromPosition:function(n,t){var f,r=this,e=r.options,s=i.max(e.smallStep*(r._maxSelection/r._distance),0),u=0,h=s/2;if(r._isHorizontal?(u=n-t.startPoint,r._isRtl&&(u=r._maxSelection-u)):u=t.startPoint-n,r._maxSelection-(parseInt(r._maxSelection%s,10)-3)/2<u)return e.max;for(f=0;r._pixelSteps.length>f;f++)if(i.abs(r._pixelSteps[f]-u)-1<=h)return o(r._values[f])},_getFormattedValue:function(n,t){var i,u,f,s=this,o="",e=s.options.tooltip;return bt(n)?(u=n[0],f=n[1]):t&&t.type&&(u=t.selectionStart,f=t.selectionEnd),t&&(i=t.tooltipTemplate),!i&&e.template&&(i=r.template(e.template)),bt(n)||t&&t.type?i?o=i({selectionStart:u,selectionEnd:f}):(u=ft(e.format,u),f=ft(e.format,f),o=u+" - "+f):(t&&(t.val=n),o=i?i({value:n}):ft(e.format,n)),o},_getDraggableArea:function(){var n=this,t=r.getOffset(n._trackDiv);return{startPoint:n._isHorizontal?t.left:t.top+n._maxSelection,endPoint:n._isHorizontal?t.left+n._maxSelection:t.top}},_createHtml:function(){var i=this,t=i.element,n=i.options,r=t.find("input");2==r.length?(r.eq(0).prop("value",h(n.selectionStart)),r.eq(1).prop("value",h(n.selectionEnd))):t.prop("value",h(n.value));t.wrap(ui(n,t,i._isHorizontal)).hide();n.showButtons&&t.before(dt(n,"increase",i._isHorizontal)).before(dt(n,"decrease",i._isHorizontal));t.before(ei(n,t))},_focus:function(t){var i=this,f=t.target,u=i.value(),r=i._drag;r||(f==i.wrapper.find(e).eq(0)[0]?(r=i._firstHandleDrag,i._activeHandle=0):(r=i._lastHandleDrag,i._activeHandle=1),u=u[i._activeHandle]);n(f).addClass(l+" "+w);r&&(i._activeHandleDrag=r,r.selectionStart=i.options.selectionStart,r.selectionEnd=i.options.selectionEnd,r._updateTooltip(u))},_focusWithMouse:function(t){t=n(t);var i=this,r=t.is(e)?t.index():0;window.setTimeout(function(){i.wrapper.find(e)[2==r?1:0].focus()},1);i._setTooltipTimeout()},_blur:function(t){var i=this,r=i._activeHandleDrag;n(t.target).removeClass(l+" "+w);r&&(r._removeTooltip(),delete i._activeHandleDrag,delete i._activeHandle)},_setTooltipTimeout:function(){var n=this;n._tooltipTimeout=window.setTimeout(function(){var t=n._drag||n._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeout:function(){var n,t=this;window.clearTimeout(this._tooltipTimeout);n=t._drag||t._activeHandleDrag;n&&n.tooltipDiv&&n.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._form=u.on("reset",f(t._formResetHandler,t)))},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler);wt.fn.destroy.call(this)}}),v=g.extend({init:function(r,u){var o,f=this;r.type="text";u=ni({},{value:s(r,"value"),min:s(r,"min"),max:s(r,"max"),smallStep:s(r,"step")},u);r=n(r);u&&u.enabled===t&&(u.enabled=!r.is("[disabled]"));g.fn.init.call(f,r,u);u=f.options;pt(u.value)&&null!==u.value||(u.value=u.min,r.prop("value",h(u.min)));u.value=i.max(i.min(u.value,u.max),u.min);o=f.wrapper.find(e);new v.Selection(o,f,u);f._drag=new v.Drag(o,"",f,u)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(i){var v,s,h,o=this,b=o.options;o.disable();i!==!1&&(o.wrapper.removeClass(vt).addClass(at),o.wrapper.find("input").removeAttr(d),v=function(i){var f,e,r,u=ri(i)[0];if(u){if(f=o._isHorizontal?u.location.pageX:u.location.pageY,e=o._getDraggableArea(),r=n(i.target),r.hasClass("k-draghandle"))return r.addClass(l+" "+w),t;o._update(o._getValueFromPosition(f,e));o._focusWithMouse(i.target);o._drag.dragstart(i);i.preventDefault()}},o.wrapper.find(c+", "+p).on(k,v).end().on(k,function(){n(document.documentElement).one("selectstart",r.preventDefault)}).on(ot,function(){o._drag._end()}),o.wrapper.find(e).attr(yt,0).on(a,function(){o._setTooltipTimeout()}).on(ht,function(n){o._focusWithMouse(n.target);n.preventDefault()}).on(ct,f(o._focus,o)).on(lt,f(o._blur,o)),s=f(function(n){var t=o._nextValueByIndex(o._valueIndex+1*n);o._setValueInRange(t);o._drag._updateTooltip(t)},o),b.showButtons&&(h=f(function(n,t){this._clearTooltipTimeout();(1===n.which||kt.touch&&0===n.which)&&(s(t),this.timeout=setTimeout(f(function(){this.timer=setInterval(function(){s(t)},60)},this),200))},o),o.wrapper.find(".k-button").on(a,f(function(n){this._clearTimer();o._focusWithMouse(n.target)},o)).on(rt,function(t){n(t.currentTarget).addClass("k-state-hover")}).on("mouseout"+u,f(function(t){n(t.currentTarget).removeClass("k-state-hover");this._clearTimer()},o)).eq(0).on(it,f(function(n){h(n,1)},o)).click(!1).end().eq(1).on(it,f(function(n){h(n,-1)},o)).click(r.preventDefault)),o.wrapper.find(e).off(y,!1).on(y,f(this._keydown,o)),b.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(at).addClass(vt);n(t.element).prop(d,d);t.wrapper.find(".k-button").off(it).on(it,r.preventDefault).off(a).on(a,r.preventDefault).off("mouseleave"+u).on("mouseleave"+u,r.preventDefault).off(rt).on(rt,r.preventDefault);t.wrapper.find(c+", "+p).off(k).off(ot);t.wrapper.find(e).attr(yt,-1).off(a).off(y).off(ht).off(ct).off(lt);t.options.enabled=!1},_update:function(n){var t=this,i=t.value()!=n;t.value(n);i&&t.trigger(tt,{value:t.options.value})},value:function(n){var r=this,i=r.options;return n=o(n),isNaN(n)?i.value:(n>=i.min&&i.max>=n&&i.value!=n&&(r.element.prop("value",h(n)),i.value=n,r._refreshAriaAttr(n),r._refresh()),t)},_refresh:function(){this.trigger(st,{value:this.options.value})},_refreshAriaAttr:function(n){var i,r=this,t=r._drag;i=t&&t._tooltipDiv?t._tooltipDiv.text():r._getFormattedValue(n,null);this.wrapper.find(e).attr("aria-valuenow",n).attr("aria-valuetext",i)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(n){var t=this;n.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[n.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),n.preventDefault())},_setValueInRange:function(n){var r=this,u=r.options;return n=o(n),isNaN(n)?(r._update(u.min),t):(n=i.max(i.min(n,u.max),u.min),r._update(n),t)},_nextValueByIndex:function(n){var t=this._values.length;return this._isRtl&&(n=t-1-n),this._values[i.max(0,i.min(n,t-1))]},_formResetHandler:function(){var n=this,t=n.options.min;setTimeout(function(){var i=n.element[0].value;n.value(""===i||isNaN(i)?t:i)})},destroy:function(){var n=this;g.fn.destroy.call(n);n.wrapper.off(u).find(".k-button").off(u).end().find(e).off(u).end().find(c+", "+p).off(u).end();n._drag.draggable.destroy();n._drag._removeTooltip(!0)}});v.Selection=function(n,t,r){function u(u){var e=u-r.min,s=t._valueIndex=i.ceil(o(e/r.smallStep)),f=parseInt(t._pixelSteps[s],10),h=t._trackDiv.find(".k-slider-selection"),c=parseInt(n[t._outerSize]()/2,10),l=t._isRtl?2:0;h[t._sizeFn](t._isRtl?t._maxSelection-f:f);n.css(t._position,f-c-l)}u(r.value);t.bind([tt,et,st],function(n){u(parseFloat(n.value,10))})};v.Drag=function(n,t,i,r){var u=this;u.owner=i;u.options=r;u.element=n;u.type=t;u.draggable=new oi(n,{distance:0,dragstart:f(u._dragstart,u),drag:f(u.drag,u),dragend:f(u.dragend,u),dragcancel:f(u.dragcancel,u)});n.click(!1)};v.Drag.prototype={dragstart:function(n){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(n)},_dragstart:function(r){var u=this,f=u.owner,e=u.options;return e.enabled?(this.owner._activeDragHandle=this,f.element.off(rt),f.wrapper.find("."+l).removeClass(l+" "+w),u.element.addClass(l+" "+w),n(document.documentElement).css("cursor","pointer"),u.dragableArea=f._getDraggableArea(),u.step=i.max(e.smallStep*(f._maxSelection/f._distance),0),u.type?(u.selectionStart=e.selectionStart,u.selectionEnd=e.selectionEnd,f._setZIndex(u.type)):u.oldVal=u.val=e.value,u._removeTooltip(!0),u._createTooltip(),t):(r.preventDefault(),t)},_createTooltip:function(){var s,e,t=this,i=t.owner,u=t.options.tooltip,f="",o=n(window);u.enabled&&(u.template&&(s=t.tooltipTemplate=r.template(u.template)),n(".k-slider-tooltip").remove(),t.tooltipDiv=n("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --><\/div>").appendTo(document.body),f=i._getFormattedValue(t.val||i.value(),t),t.type||(e="k-callout-"+(i._isHorizontal?"s":"e"),t.tooltipInnerDiv="<div class='k-callout "+e+"'><!-- --><\/div>",f+=t.tooltipInnerDiv),t.tooltipDiv.html(f),t._scrollOffset={top:o.scrollTop(),left:o.scrollLeft()},t.moveTooltip())},drag:function(n){var u,t=this,f=t.owner,r=n.x.location,o=n.y.location,e=t.dragableArea.startPoint,i=t.dragableArea.endPoint;n.preventDefault();t.val=f._isHorizontal?f._isRtl?t.constrainValue(r,e,i,i>r):t.constrainValue(r,e,i,r>=i):t.constrainValue(o,i,e,i>=o);t.oldVal!=t.val&&(t.oldVal=t.val,t.type?("firstHandle"==t.type?t.selectionStart=t.selectionEnd>t.val?t.val:t.selectionEnd=t.val:t.val>t.selectionStart?t.selectionEnd=t.val:t.selectionStart=t.selectionEnd=t.val,u={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}):u={value:t.val},f.trigger(et,u));t._updateTooltip(t.val)},_updateTooltip:function(n){var t=this,r=t.options,u=r.tooltip,i="";u.enabled&&(t.tooltipDiv||t._createTooltip(),i=t.owner._getFormattedValue(o(n),t),t.type||(i+=t.tooltipInnerDiv),t.tooltipDiv.html(i),t.moveTooltip())},dragcancel:function(){return this.owner._refresh(),n(document.documentElement).css("cursor",""),this._end()},dragend:function(){var t=this,i=t.owner;return n(document.documentElement).css("cursor",""),t.type?i._update(t.selectionStart,t.selectionEnd):(i._update(t.val),t.draggable.userEvents._disposeAll()),t._end()},_end:function(){var n=this,t=n.owner;return t._focusWithMouse(n.element),t.element.on(rt),!1},_removeTooltip:function(t){var i=this,r=i.owner;i.tooltipDiv&&r.options.tooltip.enabled&&r.options.enabled&&(t?(i.tooltipDiv.remove(),i.tooltipDiv=null):i.tooltipDiv.fadeOut("slow",function(){n(this).remove();i.tooltipDiv=null}))},moveTooltip:function(){var l,s,h,a,t=this,f=t.owner,i=0,u=0,v=t.element,o=r.getOffset(v),y=8,p=n(window),c=t.tooltipDiv.find(".k-callout"),w=t.tooltipDiv.outerWidth(),b=t.tooltipDiv.outerHeight();t.type?(l=f.wrapper.find(e),o=r.getOffset(l.eq(0)),s=r.getOffset(l.eq(1)),f._isHorizontal?(i=s.top,u=o.left+(s.left-o.left)/2):(i=o.top+(s.top-o.top)/2,u=s.left),a=l.eq(0).outerWidth()+2*y):(i=o.top,u=o.left,a=v.outerWidth()+2*y);f._isHorizontal?(u-=parseInt((w-v[f._outerSize]())/2,10),i-=b+c.height()+y):(i-=parseInt((b-v[f._outerSize]())/2,10),u-=w+c.width()+y);f._isHorizontal?(h=t._flip(i,b,a,p.outerHeight()+t._scrollOffset.top),i+=h,u+=t._fit(u,w,p.outerWidth()+t._scrollOffset.left)):(h=t._flip(u,w,a,p.outerWidth()+t._scrollOffset.left),i+=t._fit(i,b,p.outerHeight()+t._scrollOffset.top),u+=h);h>0&&c&&(c.removeClass(),c.addClass("k-callout k-callout-"+(f._isHorizontal?"n":"w")));t.tooltipDiv.css({top:i,left:u})},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),0>n&&(r=-n),r},_flip:function(n,t,i,r){var u=0;return n+t>r&&(u+=-(i+t)),0>n+u&&(u+=i+t),u},constrainValue:function(n,t,i,r){var u=this;return n>t&&i>n?u.owner._getValueFromPosition(n,u.dragableArea):r?u.options.max:u.options.min}};r.ui.plugin(v);ut=g.extend({init:function(i,r){var l,u=this,f=n(i).find("input"),o=f.eq(0)[0],c=f.eq(1)[0];o.type="text";c.type="text";r=ni({},{selectionStart:s(o,"value"),min:s(o,"min"),max:s(o,"max"),smallStep:s(o,"step")},{selectionEnd:s(c,"value"),min:s(c,"min"),max:s(c,"max"),smallStep:s(c,"step")},r);r&&r.enabled===t&&(r.enabled=!f.is("[disabled]"));g.fn.init.call(u,i,r);r=u.options;pt(r.selectionStart)&&null!==r.selectionStart||(r.selectionStart=r.min,f.eq(0).prop("value",h(r.min)));pt(r.selectionEnd)&&null!==r.selectionEnd||(r.selectionEnd=r.max,f.eq(1).prop("value",h(r.max)));l=u.wrapper.find(e);new ut.Selection(l,u,r);u._firstHandleDrag=new v.Drag(l.eq(0),"firstHandle",u,r);u._lastHandleDrag=new v.Drag(l.eq(1),"lastHandle",u,r)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(i){var s,u=this,o=u.options;u.disable();i!==!1&&(u.wrapper.removeClass(vt).addClass(at),u.wrapper.find("input").removeAttr(d),s=function(i){var a,v,r,h,e,s,f,c=ri(i)[0];if(c){if(a=u._isHorizontal?c.location.pageX:c.location.pageY,v=u._getDraggableArea(),r=u._getValueFromPosition(a,v),h=n(i.target),h.hasClass("k-draghandle"))return u.wrapper.find("."+l).removeClass(l+" "+w),h.addClass(l+" "+w),t;o.selectionStart>r?(e=r,s=o.selectionEnd,f=u._firstHandleDrag):r>u.selectionEnd?(e=o.selectionStart,s=r,f=u._lastHandleDrag):o.selectionEnd-r>=r-o.selectionStart?(e=r,s=o.selectionEnd,f=u._firstHandleDrag):(e=o.selectionStart,s=r,f=u._lastHandleDrag);f.dragstart(i);u._setValueInRange(e,s);u._focusWithMouse(f.element)}},u.wrapper.find(c+", "+p).on(k,s).end().on(k,function(){n(document.documentElement).one("selectstart",r.preventDefault)}).on(ot,function(){u._activeDragHandle&&u._activeDragHandle._end()}),u.wrapper.find(e).attr(yt,0).on(a,function(){u._setTooltipTimeout()}).on(ht,function(n){u._focusWithMouse(n.target);n.preventDefault()}).on(ct,f(u._focus,u)).on(lt,f(u._blur,u)),u.wrapper.find(e).off(y,r.preventDefault).eq(0).on(y,f(function(n){this._keydown(n,"firstHandle")},u)).end().eq(1).on(y,f(function(n){this._keydown(n,"lastHandle")},u)),u.options.enabled=!0)},disable:function(){var n=this;n.wrapper.removeClass(at).addClass(vt);n.wrapper.find("input").prop(d,d);n.wrapper.find(c+", "+p).off(k).off(ot);n.wrapper.find(e).attr(yt,-1).off(a).off(y).off(ht).off(ct).off(lt);n.options.enabled=!1},_keydown:function(n,t){var e,o,f,i=this,r=i.options.selectionStart,u=i.options.selectionEnd;n.keyCode in i._keyMap&&(i._clearTooltipTimeout(),"firstHandle"==t?(f=i._activeHandleDrag=i._firstHandleDrag,r=i._keyMap[n.keyCode](r),r>u&&(u=r)):(f=i._activeHandleDrag=i._lastHandleDrag,u=i._keyMap[n.keyCode](u),r>u&&(r=u)),i._setValueInRange(r,u),e=Math.max(r,i.options.selectionStart),o=Math.min(u,i.options.selectionEnd),f.selectionEnd=Math.max(o,i.options.selectionStart),f.selectionStart=Math.min(e,i.options.selectionEnd),f._updateTooltip(i.value()[i._activeHandle]),n.preventDefault())},_update:function(n,t){var i=this,r=i.value(),u=r[0]!=n||r[1]!=t;i.value([n,t]);u&&i.trigger(tt,{values:[n,t],value:[n,t]})},value:function(n){return n&&n.length?this._value(n[0],n[1]):this._value()},_value:function(n,i){var u=this,r=u.options,f=r.selectionStart,e=r.selectionEnd;return isNaN(n)&&isNaN(i)?[f,e]:(n=o(n),i=o(i),n>=r.min&&r.max>=n&&i>=r.min&&r.max>=i&&i>=n&&(f!=n||e!=i)&&(u.element.find("input").eq(0).prop("value",h(n)).end().eq(1).prop("value",h(i)),r.selectionStart=n,r.selectionEnd=i,u._refresh(),u._refreshAriaAttr(n,i)),t)},values:function(n,t){return bt(n)?this._value(n[0],n[1]):this._value(n,t)},_refresh:function(){var t=this,n=t.options;t.trigger(st,{values:[n.selectionStart,n.selectionEnd],value:[n.selectionStart,n.selectionEnd]});n.selectionStart==n.max&&n.selectionEnd==n.max&&t._setZIndex("firstHandle")},_refreshAriaAttr:function(n,t){var u,i=this,r=i.wrapper.find(e),f=i._activeHandleDrag;u=i._getFormattedValue([n,t],f);r.eq(0).attr("aria-valuenow",n);r.eq(1).attr("aria-valuenow",t);r.attr("aria-valuetext",u)},_setValueInRange:function(n,t){var r=this.options;n=i.max(i.min(n,r.max),r.min);t=i.max(i.min(t,r.max),r.min);n==r.max&&t==r.max&&this._setZIndex("firstHandle");this._update(i.min(n,t),i.max(n,t))},_setZIndex:function(t){this.wrapper.find(e).each(function(i){n(this).css("z-index","firstHandle"==t?1-i:i)})},_formResetHandler:function(){var n=this,t=n.options;setTimeout(function(){var u=n.element.find("input"),i=u[0].value,r=u[1].value;n.values(""===i||isNaN(i)?t.min:i,""===r||isNaN(r)?t.max:r)})},destroy:function(){var n=this;g.fn.destroy.call(n);n.wrapper.off(u).find(c+", "+p).off(u).end().find(e).off(u);n._firstHandleDrag.draggable.destroy();n._lastHandleDrag.draggable.destroy()}});ut.Selection=function(n,t,r){function u(u){u=u||[];var l=u[0]-r.min,a=u[1]-r.min,v=i.ceil(o(l/r.smallStep)),y=i.ceil(o(a/r.smallStep)),e=t._pixelSteps[v],s=t._pixelSteps[y],h=parseInt(n.eq(0)[t._outerSize]()/2,10),c=t._isRtl?2:0;n.eq(0).css(t._position,e-h-c).end().eq(1).css(t._position,s-h-c);f(e,s)}function f(n,r){var e,u,f=t._trackDiv.find(".k-slider-selection");e=i.abs(n-r);f[t._sizeFn](e);t._isRtl?(u=i.max(n,r),f.css("right",t._maxSelection-u-1)):(u=i.min(n,r),f.css(t._position,u-1))}u(t.value());t.bind([tt,et,st],function(n){u(n.values)})};r.ui.plugin(ut)}(window.kendo.jQuery),function(n){function s(n){for(;n.length;)k(n),n=n.parent()}function k(n){var i=n.data(t.ns+"title");i&&(n.attr("title",i),n.removeData(t.ns+"title"))}function d(n){var i=n.attr("title");i&&(n.data(t.ns+"title",i),n.attr("title",""))}function h(n){for(;n.length&&!n.is("body");)d(n),n=n.parent()}var t=window.kendo,u=t.ui.Widget,g=t.ui.Popup,nt=t.isFunction,tt=n.isPlainObject,c=n.extend,r=n.proxy,f=n(document),it=t.isLocalUrl,l="_tt_active",a="aria-describedby",v="show",y="hide",p="error",e="contentLoad",w="requestStart",o="k-content-frame",rt='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close<\/a><\/div> #}#<div class="k-tooltip-content"><\/div>#if (callout){ #<div class="k-callout k-callout-#=dir#"><\/div>#}#<\/div>',ut=t.template("<iframe frameborder='0' class='"+o+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),i=".kendoTooltip",ft={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},et={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},b={bottom:"n",top:"s",left:"e",right:"w",center:"n"},ot={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},st=function(n){return n.target.data(t.ns+"title")},ht=u.extend({init:function(n,t){var e,f=this;u.fn.init.call(f,n,t);e=f.options.position.match(/left|right/)?"horizontal":"vertical";f.dimensions=ot[e];f._documentKeyDownHandler=r(f._documentKeyDown,f);f.element.on(f.options.showOn+i,f.options.filter,r(f._showOn,f)).on("mouseenter"+i,f.options.filter,r(f._mouseenter,f));this.options.autoHide&&f.element.on("mouseleave"+i,f.options.filter,r(f._mouseleave,f))},options:{name:"Tooltip",filter:"",content:st,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[v,y,e,p,w],_mouseenter:function(t){h(n(t.currentTarget))},_showOn:function(t){var i=this,r=n(t.currentTarget);i.options.showOn&&i.options.showOn.match(/click|focus/)?i._show(r):(clearTimeout(i.timeout),i.timeout=setTimeout(function(){i._show(r)},i.options.showAfter))},_appendContent:function(n){var s,f=this,r=f.options.content,u=f.content,h=f.options.iframe;tt(r)&&r.url?("iframe"in f.options||(h=!it(r.url)),f.trigger(w,{options:r,target:n}),h?(u.hide(),s=u.find("."+o)[0],s?s.src=r.url||s.src:u.html(ut({content:r})),u.find("."+o).off("load"+i).on("load"+i,function(){f.trigger(e);u.show()})):(u.empty(),t.ui.progress(u,!0),f._ajaxRequest(r))):r&&nt(r)?(r=r({sender:this,target:n}),u.html(r||"")):u.html(r);f.angular("compile",function(){return{elements:u}})},_ajaxRequest:function(n){var i=this;jQuery.ajax(c({type:"GET",dataType:"html",cache:!1,error:function(n,r){t.ui.progress(i.content,!1);i.trigger(p,{status:r,xhr:n})},success:r(function(n){t.ui.progress(i.content,!1);i.content.html(n);i.trigger(e)},i)},n))},_documentKeyDown:function(n){n.keyCode===t.keys.ESC&&this.hide()},refresh:function(){var t=this,n=t.popup;n&&n.options.anchor&&t._appendContent(n.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(n){n=n||this.element;h(n);this._show(n)},_show:function(n){var t=this,r=t.target();t.popup||t._initPopup();r&&r[0]!=n[0]&&(t.popup.close(),t.popup.element.kendoStop(!0,!0));r&&r[0]==n[0]||(t._appendContent(n),t.popup.options.anchor=n);t.popup.one("deactivate",function(){s(n);n.removeAttr(a);this.element.removeAttr("id").attr("aria-hidden",!0);f.off("keydown"+i,t._documentKeyDownHandler)});t.popup.open()},_initPopup:function(){var u=this,e=u.options,o=n(t.template(rt)({callout:e.callout&&"center"!==e.position,dir:b[e.position],autoHide:e.autoHide}));u.popup=new g(o,c({activate:function(){var t=this.options.anchor,n=t[0].id||u.element[0].id;n&&(t.attr(a,n+l),this.element.attr("id",n+l));e.callout&&u._positionCallout();this.element.removeAttr("aria-hidden");f.on("keydown"+i,u._documentKeyDownHandler);u.trigger(v)},close:function(){u.trigger(y)},copyAnchorStyles:!1,animation:e.animation},ft[e.position]));o.css({width:e.width,height:e.height});u.content=o.find(".k-tooltip-content");u.arrow=o.find(".k-callout");e.autoHide?o.on("mouseleave"+i,r(u._mouseleave,u)):o.on("click"+i,".k-tooltip-button",r(u._closeButtonClick,u))},_closeButtonClick:function(n){n.preventDefault();this.hide()},_mouseleave:function(t){if(this.popup){var r=n(t.currentTarget),i=r.offset(),u=t.pageX,f=t.pageY;if(i.right=i.left+r.outerWidth(),i.bottom=i.top+r.outerHeight(),u>i.left&&i.right>u&&f>i.top&&i.bottom>f)return;this.popup.close()}else s(n(t.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var t=this,u=t.options.position,f=t.dimensions,i=f.offset,r=t.popup,e=r.options.anchor,o=n(e).offset(),s=parseInt(t.arrow.css("border-top-width"),10),h=n(r.element).offset(),c=b[r.flipped?et[u]:u],l=o[i]-h[i]+n(e)[f.size]()/2-s;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+c).css(i,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var n=this.popup;n&&(n.element.off(i),n.destroy());this.element.off(i);f.off("keydown"+i,this._documentKeyDownHandler);u.fn.destroy.call(this)}});t.ui.plugin(ht)}(window.kendo.jQuery),function(n,t){function b(t){return n.map(k(t),function(n){return n.name}).join(", ")}function k(n){var t=n[0];return t.files?d(t.files):[{name:at(t.value),extension:g(t.value),size:null}]}function d(t){return n.map(t,function(n){return lt(n)})}function lt(n){var t=n.name||n.fileName;return{name:i.htmlEncode(t),extension:g(t),size:n.size||n.fileSize,rawFile:n}}function g(n){var t=n.match(vt);return t?t[0]:""}function at(n){var t=n.lastIndexOf("\\");return-1!=t?n.substr(t+1):n}function h(t,r){var u=i.guid();return n.map(t,function(n){return n.uid=r?i.guid():u,n})}function nt(t){return!t.multiple&&n(".k-file",t.wrapper).length>1}function tt(i,r,u){var f,e;return r._supportsRemove()?(f=i.data("fileNames"),e=n.map(f,function(n){return n.name}),r._submitRemove(e,u,function(n,t,u){r._removeFileEntry(i);r.trigger(p,{operation:"remove",files:f,response:n,XMLHttpRequest:u})},function(n){nt(r)&&r._removeFileEntry(i);r.trigger(o,{operation:"remove",files:f,XMLHttpRequest:n});ot("Server response: "+n.responseText)}),t):(nt(r)&&r._removeFileEntry(i),t)}function it(t,i,r){var u=!1,f="";try{f=n.parseJSON(rt(t));u=!0}catch(e){r()}u&&i(f)}function rt(n){return(t===n||""===n)&&(n="{}"),n}function ut(n){n.stopPropagation();n.preventDefault()}function ft(n,t,i,r){var u,f;n.on("dragenter"+t,function(){i();f=new Date;u||(u=setInterval(function(){var n=new Date-f;n>100&&(r(),clearInterval(u),u=null)},100))}).on("dragover"+t,function(){f=new Date})}function et(n){return n.is(".k-file-progress, .k-file-success, .k-file-error")}function r(t){return n(t.target).closest(".k-file")}var c,l,i=window.kendo,e=i.ui.Widget,a=i.antiForgeryTokens,ot=i.logToConsole,vt=/\.([^\.]+)$/,u=".kendoUpload",v="select",y="upload",p="success",o="error",st="complete",s="cancel",ht="progress",f="remove",w=e.extend({init:function(t,r){var o,s,h,f=this;e.fn.init.call(f,t,r);f.name=t.name;f.multiple=f.options.multiple;f.localization=f.options.localization;o=f.element;f.wrapper=o.closest(".k-upload");0===f.wrapper.length&&(f.wrapper=f._wrapInput(o));f._activeInput(o);f.toggle(f.options.enabled);s=f._ns=u+"-"+i.guid();o.closest("form").on("submit"+s,n.proxy(f._onParentFormSubmit,f)).on("reset"+s,n.proxy(f._onParentFormReset,f));f.options.async.saveUrl?(f._module=f._supportsFormData()?new l(f):new c(f),f._async=!0,h=f.options.files,h.length>0&&f._renderInitialFiles(h)):f._module=new ct(f);f._supportsDrop()&&f._setupDropZone();f.wrapper.on("click",".k-upload-action",n.proxy(f._onFileAction,f)).on("click",".k-upload-selected",n.proxy(f._onUploadSelected,f));f.element.val()&&f._onInputChange({target:f.element})},events:[v,y,p,o,st,s,ht,f],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0,withCredentials:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(n){var t=this,i=t.element;e.fn.setOptions.call(t,n);t.multiple=t.options.multiple;i.attr("multiple",t._supportsMultiple()?t.multiple:!1);t.toggle(t.options.enabled)},enable:function(n){n=t===n?!0:n;this.toggle(n)},disable:function(){this.toggle(!1)},toggle:function(n){n=t===n?n:!n;this.wrapper.toggleClass("k-state-disabled",n);this.element.prop("disabled",n)},destroy:function(){var t=this;n(document).add(n(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns);n(t.element).off(u);e.fn.destroy.call(t)},_addInput:function(t){if(t[0].nodeType){var i=this,r=t.clone().val("");r.insertAfter(i.element).data("kendoUpload",i);n(i.element).hide().attr("tabindex","-1").removeAttr("id").off(u);i._activeInput(r);i.element.focus()}},_activeInput:function(t){var i=this,r=i.wrapper;i.element=t;t.attr("multiple",i._supportsMultiple()?i.multiple:!1).attr("autocomplete","off").on("click"+u,function(n){r.hasClass("k-state-disabled")&&n.preventDefault()}).on("focus"+u,function(){n(this).parent().addClass("k-state-focused")}).on("blur"+u,function(){n(this).parent().removeClass("k-state-focused")}).on("change"+u,n.proxy(i._onInputChange,i)).on("keydown"+u,n.proxy(i._onInputKeyDown,i))},_onInputKeyDown:function(n){var r=this,t=r.wrapper.find(".k-upload-action:first");n.keyCode===i.keys.TAB&&t.length>0&&(n.preventDefault(),t.focus())},_onInputChange:function(t){var i=this,r=n(t.target),u=h(i._inputFiles(r),i._isAsyncNonBatch()),f=i.trigger(v,{files:u});f?(i._addInput(r),r.remove()):i._module.onSelect({target:r},u)},_onDrop:function(t){var u,e=t.originalEvent.dataTransfer,i=this,f=e.files,r=h(d(f),i._isAsyncNonBatch());ut(t);f.length>0&&(!i.multiple&&r.length>1&&r.splice(1,r.length-1),u=i.trigger(v,{files:r}),u||i._module.onSelect({target:n(".k-dropzone",i.wrapper)},r))},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(t){var e,i,u=this,r=0;for(t=h(t,!0),r=0;t.length>r;r++)e=t[r],i=u._enqueueFile(e.name,{fileNames:[e]}),i.addClass("k-file-success").data("files",[t[r]]),n(".k-progress",i).width("100%"),u.options.template||n(".k-upload-status",i).prepend("<span class='k-upload-pct'>100%<\/span>"),u._supportsRemove()&&u._fileAction(i,f)},_prepareTemplateData:function(n,t){for(var u=t.fileNames,i={},f=0,r=0,r=0;u.length>r;r++)f+=u[r].size;return i.name=n,i.size=f,i.files=t.fileNames,i},_prepareDefaultFileEntryTemplate:function(t,i){var r="",u=n("<li class='k-file'><span class='k-progress'><\/span><span class='k-icon'><\/span><span class='k-filename' title='"+t+"'>"+t+"<\/span><strong class='k-upload-status'><\/strong><\/li>");return 1==i.fileNames.length&&i.fileNames[0].extension&&(r=i.fileNames[0].extension.substring(1),n(".k-icon",u).addClass("k-i-"+r)),u},_enqueueFile:function(t,r){var s,e,c,l,u=this,a=r.fileNames[0].uid,o=n(".k-upload-files",u.wrapper),v=u.options,h=v.template;return 0===o.length&&(o=n("<ul class='k-upload-files k-reset'><\/ul>").appendTo(u.wrapper),u.options.showFileList||o.hide(),u.wrapper.removeClass("k-upload-empty")),s=n(".k-file",o),h?(c=u._prepareTemplateData(t,r),h=i.template(h),e=n("<li class='k-file'>"+h(c)+"<\/li>"),e.find(".k-upload-action").addClass("k-button k-button-bare"),u.angular("compile",function(){return{elements:e,data:[c]}})):e=u._prepareDefaultFileEntryTemplate(t,r),e.attr(i.attr("uid"),a).appendTo(o).data(r),u._async||n(".k-progress",e).width("100%"),!u.multiple&&s.length>0&&(l={files:s.data("fileNames")},u.trigger(f,l)||u._module.onRemove({target:n(s,u.wrapper)},l.data)),e},_removeFileEntry:function(t){var i,u,f=this,r=t.closest(".k-upload-files");t.remove();i=n(".k-file",r);u=n(".k-file-success, .k-file-error",r);u.length===i.length&&this._hideUploadButton();0===i.length&&(r.remove(),f.wrapper.addClass("k-upload-empty"),f._hideHeaderUploadstatus())},_fileAction:function(n,t){var i={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},r={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};i.hasOwnProperty(t)&&(this._clearFileAction(n),this.options.template?n.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+r[t]+" "+i[t]+"' title='"+this.localization[t]+"'><\/span>").show():(n.find(".k-upload-status .k-upload-action").remove(),n.find(".k-upload-status").append(this._renderAction(i[t],this.localization[t],r[t]))))},_fileState:function(t,i){var r=this.localization,f={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}},u=f[i];u&&n(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(u.text)},_renderAction:function(t,i,r){return n(""!==t?"<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+r+" "+t+"' title='"+i+"'><\/span><\/button>":"<button type='button' class='k-button'>"+i+"<\/button>")},_clearFileAction:function(t){n(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var o,u,r,e,i=this;return i.wrapper.hasClass("k-state-disabled")||(o=n(t.target).closest(".k-upload-action"),u=o.find(".k-icon"),r=o.closest(".k-file"),e={files:r.data("fileNames")},u.hasClass("k-delete")?i.trigger(f,e)||i._module.onRemove({target:n(r,i.wrapper)},e.data):u.hasClass("k-cancel")?(i.trigger(s,e),i._module.onCancel({target:n(r,i.wrapper)}),this._checkAllComplete(),i._updateHeaderUploadStatus()):u.hasClass("k-retry")&&(n(".k-warning",r).remove(),i._module.onRetry({target:n(r,i.wrapper)}))),!1},_onUploadSelected:function(){var n=this,t=n.wrapper;return t.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onFileProgress:function(t,i){var u;this.options.template?n(".k-progress",t.target).width(i+"%"):(u=n(".k-upload-pct",t.target),0===u.length&&n(".k-upload-status",t.target).prepend("<span class='k-upload-pct'><\/span>"),n(".k-upload-pct",t.target).text(i+"%"),n(".k-progress",t.target).width(i+"%"));this.trigger(ht,{files:r(t).data("fileNames"),percentComplete:i})},_onUploadSuccess:function(n,t,i){var u=r(n);this._fileState(u,"uploaded");u.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(p,{files:u.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:i});this._supportsRemove()?this._fileAction(u,f):this._clearFileAction(u);this._checkAllComplete()},_onUploadError:function(t,i){var u=r(t),f=n(".k-upload-pct",u);this._fileState(u,"failed");u.removeClass("k-file-progress").addClass("k-file-error");n(".k-progress",u).width("100%");f.length>0?f.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):n(".k-upload-status",u).prepend("<span class='k-icon k-warning'><\/span>");this._updateHeaderUploadStatus();this._fileAction(u,"retry");this.trigger(o,{operation:"upload",files:u.data("fileNames"),XMLHttpRequest:i});ot("Server response: "+i.responseText);this._checkAllComplete()},_showUploadButton:function(){var t=n(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected"));this.wrapper.append(t)},_hideUploadButton:function(){n(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var i=this.localization,r=n(".k-dropzone",this.wrapper),t=n(".k-upload-status-total",this.wrapper);0!==t.length&&t.remove();t='<strong class="k-upload-status k-upload-status-total">'+i.headerStatusUploading+'<span class="k-icon k-loading">'+i.statusUploading+"<\/span><\/strong>";r.length>0?r.append(t):n(".k-upload-button",this.wrapper).after(t)},_updateHeaderUploadStatus:function(){var i,r,u,t=this,f=t.localization,e=n(".k-file",t.wrapper).not(".k-file-success, .k-file-error");0===e.length&&(i=n(".k-file.k-file-error",t.wrapper),r=n(".k-upload-status-total",t.wrapper),u=n(".k-icon",r).removeClass("k-loading").addClass(0!==i.length?"k-warning":"k-i-tick").text(0!==i.length?f.statusWarning:f.statusUploaded),r.text(t.localization.headerStatusUploaded).append(u))},_hideHeaderUploadstatus:function(){n(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var i,u=this,r=u.element;t!==this._module.onAbort&&this._module.onAbort();r.value||(i=n(r),i.attr("disabled","disabled"),window.setTimeout(function(){i.removeAttr("disabled")},0))},_onParentFormReset:function(){n(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var n=this._userAgent().indexOf("Windows")>-1;return!(i.support.browser.opera||i.support.browser.safari&&n)},_supportsDrop:function(){var n=this._userAgent().toLowerCase(),t=/chrome/.test(n),i=!t&&/safari/.test(n),r=i&&/windows/.test(n);return!r&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var i,t,r=this;n(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'><\/div>");i=r._ns;t=n(".k-dropzone",r.wrapper).append(n("<em>"+r.localization.dropFilesHere+"<\/em>")).on("dragenter"+i,ut).on("dragover"+i,function(n){n.preventDefault()}).on("drop"+i,n.proxy(this._onDrop,this));ft(t,i,function(){t.addClass("k-dropzone-hovered")},function(){t.removeClass("k-dropzone-hovered")});ft(n(document),i,function(){t.addClass("k-dropzone-active");t.closest(".k-upload").removeClass("k-upload-empty")},function(){t.removeClass("k-dropzone-active");0===n("li.k-file",t.closest(".k-upload")).length&&t.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,i,r,u){var e=this,o=e.options.async.removeField||"fileNames",f=n.extend(i,a());f[o]=t;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:rt,url:this.options.async.removeUrl,traditional:!0,data:f,success:r,error:u,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(n){var t=this,i=t.options;return n.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'><\/div><\/div>"),i.async.saveUrl||n.closest(".k-upload").addClass("k-upload-sync"),n.closest(".k-upload").addClass("k-upload-empty"),n.closest(".k-button").append("<span>"+this.localization.select+"<\/span>"),n.closest(".k-upload")},_checkAllComplete:function(){0===n(".k-file.k-file-progress",this.wrapper).length&&this.trigger(st)},_inputFiles:function(n){return k(n)}}),ct=function(n){this.name="syncUploadModule";this.element=n.wrapper;this.upload=n;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};ct.prototype={onSelect:function(t,i){var e,r=this.upload,u=n(t.target);r._addInput(u);e=r._enqueueFile(b(u),{relatedInput:u,fileNames:i});r._fileAction(e,f)},onRemove:function(n){var t=r(n);t.data("relatedInput").remove();this.upload._removeFileEntry(t)}};c=function(n){this.name="iframeUploadModule";this.element=n.wrapper;this.upload=n;this.iframes=[]};w._frameId=0;c.prototype={onSelect:function(t,i){var r=this.upload,e=n(t.target),u=this.prepareUpload(e,i);r.options.async.autoUpload?this.performUpload(u):(r._supportsRemove()&&this.upload._fileAction(u,f),r._showUploadButton())},prepareUpload:function(t,i){var u,e,f,r=this.upload,o=n(r.element),s=r.options.async.saveField||t.attr("name");return r._addInput(t),t.attr("name",s),u=this.createFrame(r.name+"_"+w._frameId++),this.registerFrame(u),e=this.createForm(r.options.async.saveUrl,u.attr("name")).append(o),f=r._enqueueFile(b(t),{frame:u,relatedInput:o,fileNames:i}),u.data({form:e,file:f}),f},performUpload:function(t){var f,e,o,u={files:t.data("fileNames")},r=t.data("frame"),i=this.upload;if(i.trigger(y,u))i._removeFileEntry(r.data("file")),this.cleanupFrame(r),this.unregisterFrame(r);else{i._hideUploadButton();i._showHeaderUploadStatus();r.appendTo(document.body);f=r.data("form").attr("action",i.options.async.saveUrl).appendTo(document.body);u.data=n.extend({},u.data,a());for(e in u.data)o=f.find("input[name='"+e+"']"),0===o.length&&(o=n("<input>",{type:"hidden",name:e}).prependTo(f)),o.val(u.data[e]);i._fileAction(t,s);i._fileState(t,"uploading");n(t).removeClass("k-file-error").addClass("k-file-progress");r.one("load",n.proxy(this.onIframeLoad,this));f[0].submit()}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=et(i);r||t.performUpload(i)})},onIframeLoad:function(t){var i,r=n(t.target);try{i=r.contents().text()}catch(u){i="Error trying to get server response: "+u}this.processResponse(r,i)},processResponse:function(t,i){var f=t.data("file"),r=this,u={responseText:i};it(i,function(i){n.extend(u,{statusText:"OK",status:"200"});r.upload._onFileProgress({target:n(f,r.upload.wrapper)},100);r.upload._onUploadSuccess({target:n(f,r.upload.wrapper)},i,u);r.cleanupFrame(t);r.unregisterFrame(t)},function(){n.extend(u,{statusText:"error",status:"500"});r.upload._onUploadError({target:n(f,r.upload.wrapper)},u)})},onCancel:function(t){var i=n(t.target).data("frame");this.stopFrameSubmit(i);this.cleanupFrame(i);this.unregisterFrame(i);this.upload._removeFileEntry(i.data("file"))},onRetry:function(n){var t=r(n);this.performUpload(t)},onRemove:function(n,t){var i=r(n),u=i.data("frame");u?(this.unregisterFrame(u),this.upload._removeFileEntry(i),this.cleanupFrame(u)):tt(i,this.upload,t)},onAbort:function(){var t=this.element,i=this;n.each(this.iframes,function(){n("input",this.data("form")).appendTo(t);i.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(t){return n("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,i){return n("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+i+"'/>")},stopFrameSubmit:function(n){t!==n.stop?n.stop():n.document&&n.document.execCommand("Stop")},registerFrame:function(n){this.iframes.push(n)},unregisterFrame:function(t){this.iframes=n.grep(this.iframes,function(n){return n.attr("name")!=t.attr("name")})},cleanupFrame:function(n){var t=n.data("form");n.data("file").data("frame",null);setTimeout(function(){t.remove();n.remove()},1)}};l=function(n){this.name="formDataUploadModule";this.element=n.wrapper;this.upload=n};l.prototype={onSelect:function(t,i){var r=this.upload,u=this,e=n(t.target),o=this.prepareUpload(e,i);n.each(o,function(){r.options.async.autoUpload?u.performUpload(this):(r._supportsRemove()&&r._fileAction(this,f),r._showUploadButton())})},prepareUpload:function(t,i){var r=this.enqueueFiles(i);return t.is("input")&&(n.each(r,function(){n(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var r,u,f,i,e=this.upload,s=t.length,o=[];if(e.options.async.batch===!0)r=n.map(t,function(n){return n.name}).join(", "),i=e._enqueueFile(r,{fileNames:t}),i.data("files",t),o.push(i);else for(u=0;s>u;u++)f=t[u],r=f.name,i=e._enqueueFile(r,{fileNames:[f]}),i.data("files",[f]),o.push(i);return o},performUpload:function(t){var f,r=this.upload,u=this.createFormData(),e=this.createXHR(),i={files:t.data("fileNames"),XMLHttpRequest:e};if(r.trigger(y,i))this.removeFileEntry(t);else{if(r._fileAction(t,s),r._hideUploadButton(),r._showHeaderUploadStatus(),i.formData)u=i.formData;else{i.data=n.extend({},i.data,a());for(f in i.data)u.append(f,i.data[f]);this.populateFormData(u,t.data("files"))}r._fileState(t,"uploading");n(t).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(r.options.async.saveUrl,u,t,e)}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=et(i);r||t.performUpload(i)})},onCancel:function(n){var t=r(n);this.stopUploadRequest(t);this.removeFileEntry(t)},onRetry:function(n){var t=r(n);this.performUpload(t)},onRemove:function(n,t){var i=r(n);i.hasClass("k-file-success")?tt(i,this.upload,t):this.removeFileEntry(i)},createXHR:function(){return new XMLHttpRequest},postFormData:function(n,t,i,r){var u=this;i.data("request",r);r.addEventListener("load",function(n){u.onRequestSuccess.call(u,n,i)},!1);r.addEventListener(o,function(n){u.onRequestError.call(u,n,i)},!1);r.upload.addEventListener("progress",function(n){u.onRequestProgress.call(u,n,i)},!1);r.open("POST",n,!0);r.withCredentials=this.upload.options.async.withCredentials;r.send(t)},createFormData:function(){return new FormData},populateFormData:function(n,t){for(var r=this.upload,u=t.length,i=0;u>i;i++)n.append(r.options.async.saveField||r.name,t[i].rawFile);return n},onRequestSuccess:function(t,i){function f(){r.upload._onUploadError({target:n(i,r.upload.wrapper)},u)}var u=t.target,r=this;u.status>=200&&299>=u.status?it(u.responseText,function(t){r.upload._onFileProgress({target:n(i,r.upload.wrapper)},100);r.upload._onUploadSuccess({target:n(i,r.upload.wrapper)},t,u);r.cleanupFileEntry(i)},f):f()},onRequestError:function(t,i){var r=t.target;this.upload._onUploadError({target:n(i,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var i=t.data("relatedInput"),r=!0;i&&(n.each(i.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.hasClass("k-file-success"))}),r&&i.remove())},removeFileEntry:function(n){this.cleanupFileEntry(n);this.upload._removeFileEntry(n)},onRequestProgress:function(t,i){var r=Math.round(100*t.loaded/t.total);this.upload._onFileProgress({target:n(i,this.upload.wrapper)},r)},stopUploadRequest:function(n){n.data("request").abort()}};i.ui.plugin(w)}(window.kendo.jQuery),function(n){function p(i){var r,u=t.ui.validator.ruleResolvers||{},f={};for(r in u)n.extend(!0,f,u[r].resolve(i));return f}function w(n){return n.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function b(n){return n=(n+"").split("."),n.length>1?n[1].length:0}function k(t){return n(n.parseHTML?n.parseHTML(t):t)}function d(i,r){for(var u,o,e=n(),f=0,s=i.length;s>f;f++)u=i[f],g.test(u.className)&&(o=u.getAttribute(t.attr("for")),o===r&&(e=e.add(u)));return e}var o,t=window.kendo,f=t.ui.Widget,i=".kendoValidator",r="k-invalid-msg",g=RegExp(r,"i"),nt="k-invalid",tt="k-valid",it=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,rt=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",s=":checkbox:not([disabled],[readonly])",e="[type=number],[type=range]",h="blur",c="name",l="form",a="novalidate",ut=n.proxy,v=function(n,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(n)},y=function(n,t,i){var r=n.val();return n.filter(t).length&&""!==r?v(r,i):!0},ft=function(n,t){return n.length?null!=n[0].attributes[t]:!1};t.ui.validator||(t.ui.validator={rules:{},messages:{}});o=f.extend({init:function(i,r){var e=this,o=p(i),h="["+t.attr("validate")+"!=false]";r=r||{};r.rules=n.extend({},t.ui.validator.rules,o.rules,r.rules);r.messages=n.extend({},t.ui.validator.messages,o.messages,r.messages);f.fn.init.call(e,i,r);e._errorTemplate=t.template(e.options.errorTemplate);e.element.is(l)&&e.element.attr(a,a);e._inputSelector=u+h;e._checkboxSelector=s+h;e._errors={};e._attachEvents();e._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> <\/span> #=message#<\/span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(n){var i=n.filter("[type=checkbox]").length&&!n.is(":checked"),t=n.val();return!(ft(n,"required")&&(""===t||!t||i))},pattern:function(n){return n.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==n.val()?v(n.val(),n.attr("pattern")):!0},min:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[min]").length&&""!==n.val()){var i=parseFloat(n.attr("min"))||0,r=t.parseFloat(n.val());return r>=i}return!0},max:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[max]").length&&""!==n.val()){var i=parseFloat(n.attr("max"))||0,r=t.parseFloat(n.val());return i>=r}return!0},step:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[step]").length&&""!==n.val()){var i,f=parseFloat(n.attr("min"))||0,r=parseFloat(n.attr("step"))||1,o=parseFloat(n.val()),u=b(r);return u?(i=Math.pow(10,u),Math.floor((o-f)*i)%(r*i)/Math.pow(100,u)==0):(o-f)%r==0}return!0},email:function(n){return y(n,"[type=email],["+t.attr("type")+"=email]",it)},url:function(n){return y(n,"[type=url],["+t.attr("type")+"=url]",rt)},date:function(n){return n.filter("[type^=date],["+t.attr("type")+"=date]").length&&""!==n.val()?null!==t.parseDate(n.val(),n.attr(t.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){f.fn.destroy.call(this);this.element.off(i)},value:function(){return this._isValidated?0===this.errors().length:!1},_submit:function(n){return this.validate()?!0:(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1)},_checkElement:function(n){var t=this.value();this.validateInput(n);this.value()!==t&&this.trigger("change")},_attachEvents:function(){var t=this;t.element.is(l)&&t.element.on("submit"+i,ut(t._submit,t));t.options.validateOnBlur&&(t.element.is(u)?(t.element.on(h+i,function(){t._checkElement(t.element)}),t.element.is(s)&&t.element.on("click"+i,function(){t._checkElement(t.element)})):(t.element.on(h+i,t._inputSelector,function(){t._checkElement(n(this))}),t.element.on("click"+i,t._checkboxSelector,function(){t._checkElement(n(this))})))},validate:function(){var i,t,f,r,n=!1,e=this.value();if(this._errors={},this.element.is(u))n=this.validateInput(this.element);else{for(r=!1,i=this.element.find(this._inputSelector),t=0,f=i.length;f>t;t++)this.validateInput(i.eq(t))||(r=!0);n=!r}return this.trigger("validate",{valid:n}),e!==n&&this.trigger("change"),n},validateInput:function(i){var u,v,s,o,y,f,h,l,e,a;return i=n(i),this._isValidated=!0,u=this,v=u._errorTemplate,s=u._checkValidity(i),o=s.valid,y="."+r,f=i.attr(c)||"",h=u._findMessageContainer(f).add(i.next(y).filter(function(){var i=n(this);return i.filter("["+t.attr("for")+"]").length?i.attr(t.attr("for"))===f:!0})).hide(),i.removeAttr("aria-invalid"),o?delete u._errors[f]:(l=u._extractMessage(i,s.key),u._errors[f]=l,e=k(v({message:w(l)})),a=h.attr("id"),u._decorateMessageContainer(e,f),a&&e.attr("id",a),h.replaceWith(e).length||e.insertAfter(i),e.show(),i.attr("aria-invalid",!0)),i.toggleClass(nt,!o),i.toggleClass(tt,o),o},hideMessages:function(){var i=this,t="."+r,n=i.element;n.is(u)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(i){for(var f,o=t.ui.validator.messageLocators,r=n(),u=0,e=this.element.length;e>u;u++)r=r.add(d(this.element[u].getElementsByTagName("*"),i));for(f in o)r=r.add(o[f].locate(this.element,i));return r},_decorateMessageContainer:function(n,i){var u,f=t.ui.validator.messageLocators;n.addClass(r).attr(t.attr("for"),i||"");for(u in f)f[u].decorate(n,i);n.attr("role","alert")},_extractMessage:function(n,i){var u=this,r=u.options.messages[i],f=n.attr(c);return r=t.isFunction(r)?r(n):r,t.format(n.attr(t.attr(i+"-msg"))||n.attr("validationMessage")||n.attr("title")||r||"",f,n.attr(i))},_checkValidity:function(n){var t,i=this.options.rules;for(t in i)if(!i[t].call(this,n))return{valid:!1,key:t};return{valid:!0}},errors:function(){var n,t=[],i=this._errors;for(n in i)t.push(i[n]);return t}});t.ui.plugin(o)}(window.kendo.jQuery),function(n,t){function k(n){return t!==n}function o(n,t,i){return Math.max(Math.min(parseInt(n,10),1/0===i?i:parseInt(i,10)),parseInt(t,10))}function st(n,t){return function(){var i=this,r=i.wrapper,u=r[0].style,o=i.options;return o.isMaximized||o.isMinimized?i:(i.restoreOptions={width:u.width,height:u.height},r.children(c).hide().end().children(f).find(ii).parent().hide().eq(0).before(e.action({name:"Restore"})),t.call(i),"maximize"==n?i.wrapper.children(f).find(ot).parent().hide():i.wrapper.children(f).find(ot).parent().show(),i)}}function ei(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function ht(n){var t=this;t.owner=n;t._draggable=new lt(n.wrapper,{filter:">"+c,group:n.wrapper.id+"-resizing",dragstart:r(t.dragstart,t),drag:r(t.drag,t),dragend:r(t.dragend,t)});t._draggable.userEvents.bind("press",r(t.addOverlay,t));t._draggable.userEvents.bind("release",r(t.removeOverlay,t))}function ct(n,t){var i=this;i.owner=n;i._draggable=new lt(n.wrapper,{filter:t,group:n.wrapper.id+"-moving",dragstart:r(i.dragstart,i),drag:r(i.drag,i),dragend:r(i.dragend,i),dragcancel:r(i.dragcancel,i)});i._draggable.userEvents.stopPropagation=!1}var i=window.kendo,d=i.ui.Widget,lt=i.ui.Draggable,at=n.isPlainObject,oi=i._activeElement,r=n.proxy,g=n.extend,si=n.each,h=i.template,nt="body",u=".kendoWindow",l=".k-window",ut=".k-window-title",f=ut+"bar",s=".k-window-content",c=".k-resize-handle",tt=".k-overlay",p="k-content-frame",vt="k-loading",yt="k-state-hover",pt="k-state-focused",wt="k-window-maximized",a=":visible",it="hidden",v="cursor",ft="open",et="activate",bt="deactivate",kt="close",rt="refresh",dt="resizeEnd",gt="dragstart",ni="dragend",ti="error",y="overflow",w="zIndex",ii=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",ri=".k-i-pin",ui=".k-i-unpin",ot=ri+","+ui,b=".k-window-titlebar .k-window-action",fi=".k-window-titlebar .k-i-refresh",hi=i.isLocalUrl,ci=d.extend({init:function(e,o){var c,nt,tt,v,y,w,p,h=this,g={},rt=!1,ot=o&&o.actions&&!o.actions.length;d.fn.init.call(h,e,o);o=h.options;v=o.position;e=h.element;y=o.content;ot&&(o.actions=[]);h.appendTo=n(o.appendTo);h._animations();y&&!at(y)&&(y=o.content={url:y});e.find("script").filter(ei).remove();e.parent().is(h.appendTo)||v.top!==t&&v.left!==t||(e.is(a)?(g=e.offset(),rt=!0):(nt=e.css("visibility"),tt=e.css("display"),e.css({visibility:it,display:""}),g=e.offset(),e.css({visibility:nt,display:tt})),v.top===t&&(v.top=g.top),v.left===t&&(v.left=g.left));k(o.visible)&&null!==o.visible||(o.visible=e.is(a));c=h.wrapper=e.closest(l);e.is(".k-content")&&c[0]||(e.addClass("k-window-content k-content"),h._createWindow(e,o),c=h.wrapper=e.closest(l),h._dimensions());h._position();o.pinned&&h.pin(!0);y&&h.refresh(y);o.visible&&h.toFront();w=c.children(s);h._tabindex(w);o.visible&&o.modal&&h._overlay(c.is(a)).css({opacity:.5});c.on("mouseenter"+u,b,r(h._buttonEnter,h)).on("mouseleave"+u,b,r(h._buttonLeave,h)).on("click"+u,"> "+b,r(h._windowActionHandler,h));w.on("keydown"+u,r(h._keydown,h)).on("focus"+u,r(h._focus,h)).on("blur"+u,r(h._blur,h));this._resizable();this._draggable();p=e.attr("id");p&&(p+="_wnd_title",c.children(f).children(ut).attr("id",p),w.attr({role:"dialog","aria-labelledby":p}));c.add(c.children(".k-resize-handle,"+f)).on("mousedown"+u,r(h.toFront,h));h.touchScroller=i.touchScroller(e);h._resizeHandler=r(h._onDocumentResize,h);h._marker=i.guid().substring(0,8);n(window).on("resize"+u+h._marker,h._resizeHandler);o.visible&&(h.trigger(ft),h.trigger(et));i.notify(h)},_buttonEnter:function(t){n(t.currentTarget).addClass(yt)},_buttonLeave:function(t){n(t.currentTarget).removeClass(yt)},_focus:function(){this.wrapper.addClass(pt)},_blur:function(){this.wrapper.removeClass(pt)},_dimensions:function(){var t,i,r=this.wrapper,n=this.options,u=n.width,f=n.height,e=n.maxHeight,s=["minWidth","minHeight","maxWidth","maxHeight"];for(this.title(n.title),t=0;s.length>t;t++)i=n[s[t]],i&&1/0!=i&&r.css(s[t],i);e&&1/0!=e&&this.element.css("maxHeight",e);u&&r.width((""+u).indexOf("%")>0?u:o(u,n.minWidth,n.maxWidth));f&&r.height((""+f).indexOf("%")>0?f:o(f,n.minHeight,n.maxHeight));n.visible||r.hide()},_position:function(){var t=this.wrapper,n=this.options.position;0===n.top&&(n.top=""+n.top);0===n.left&&(n.left=""+n.left);t.css({top:n.top||"",left:n.left||""})},_animations:function(){var n=this.options;n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){i.resize(this.element.children())},_resizable:function(){var i=this.options.resizable,t=this.wrapper;this.resizing&&(t.off("dblclick"+u).children(c).remove(),this.resizing.destroy(),this.resizing=null);i&&(t.on("dblclick"+u,f,r(function(t){n(t.target).closest(".k-window-action").length||this.toggleMaximization()},this)),si("n e s w se sw ne nw".split(" "),function(n,i){t.append(e.resizeHandle(i))}),this.resizing=new ht(this));t=null},_draggable:function(){var n=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null);n&&(this.dragging=new ct(this,n.dragHandle||f))},_actions:function(){var t=this.options.actions,r=this.wrapper.children(f),u=r.find(".k-window-actions");t=n.map(t,function(n){return{name:n}});u.html(i.render(e.action,t))},setOptions:function(n){d.fn.setOptions.call(this,n);this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[ft,et,bt,kt,rt,"resize",dt,gt,ni,ti],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return n.inArray("close",n.map(this.options.actions,function(n){return n.toLowerCase()}))>-1},_keydown:function(n){var c,r,v,y,l,a,u=this,h=u.options,f=i.keys,e=n.keyCode,t=u.wrapper,s=10,p=u.options.isMaximized;n.target!=n.currentTarget||u._closing||(e==f.ESC&&u._closable()&&u._close(!1),!h.draggable||n.ctrlKey||p||(c=i.getOffset(t),e==f.UP?r=t.css("top",c.top-s):e==f.DOWN?r=t.css("top",c.top+s):e==f.LEFT?r=t.css("left",c.left-s):e==f.RIGHT&&(r=t.css("left",c.left+s))),h.resizable&&n.ctrlKey&&!p&&(e==f.UP?(r=!0,y=t.height()-s):e==f.DOWN&&(r=!0,y=t.height()+s),e==f.LEFT?(r=!0,v=t.width()-s):e==f.RIGHT&&(r=!0,v=t.width()+s),r&&(l=o(v,h.minWidth,h.maxWidth),a=o(y,h.minHeight,h.maxHeight),isNaN(l)||(t.width(l),u.options.width=l+"px"),isNaN(a)||(t.height(a),u.options.height=a+"px"),u.resize())),r&&n.preventDefault())},_overlay:function(t){var i=this.appendTo.children(tt),r=this.wrapper;return i.length||(i=n("<div class='k-overlay' />")),i.insertBefore(r[0]).toggle(t).css(w,parseInt(r.css(w),10)-1),i},_actionForIcon:function(n){var t=/\bk-i-\w+\b/.exec(n[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(i){var u,r;if(!this._closing)return u=n(i.target).closest(".k-window-action").find(".k-icon"),r=this._actionForIcon(u),r?(i.preventDefault(),this[r](),!1):t},_modals:function(){var t=this,i=n(l).filter(function(){var r=n(this),u=t._object(r),i=u&&u.options;return i&&i.modal&&i.visible&&r.is(a)}).sort(function(t,i){return+n(t).css("zIndex")-+n(i).css("zIndex")});return t=null,i},_object:function(n){var t=n.children(s);return t.data("kendoWindow")||t.data("kendo"+this.options.name)},center:function(){var u,f,t=this,e=t.options.position,i=t.wrapper,r=n(window),o=0,s=0;return t.options.isMaximized?t:(t.options.pinned||(o=r.scrollTop(),s=r.scrollLeft()),f=s+Math.max(0,(r.width()-i.width())/2),u=o+Math.max(0,(r.height()-i.height()-parseInt(i.css("paddingTop"),10))/2),i.css({left:f,top:u}),e.top=u,e.left=f,t)},title:function(n){var u,i=this,r=i.wrapper,s=i.options,t=r.children(f),o=t.children(ut);return arguments.length?(n===!1?(r.addClass("k-window-titleless"),t.remove()):(t.length?o.html(n):(r.prepend(e.titlebar(s)),i._actions(),t=r.children(f)),u=t.outerHeight(),r.css("padding-top",u),t.css("margin-top",-u)),i.options.title=n,i):o.text()},content:function(n,t){var r=this.wrapper.children(s),u=r.children(".km-scroll-container");return r=u[0]?u:r,k(n)?(this.angular("cleanup",function(){return{elements:r.children()}}),i.destroy(this.element.children()),r.empty().html(n),this.angular("compile",function(){for(var i=[],n=r.length;--n>=0;)i.push({dataItem:t});return{elements:r.children(),data:i}}),this):r.html()},open:function(){var u,e,t=this,o=t.wrapper,f=t.options,h=f.animation.open,c=o.children(s);return t.trigger(ft)||(t._closing&&o.kendoStop(!0,!0),t._closing=!1,t.toFront(),f.autoFocus&&t.element.focus(),f.visible=!0,f.modal&&(u=t._overlay(!1),u.kendoStop(!0,!0),h.duration&&i.effects.Fade?(e=i.fx(u).fadeIn(),e.duration(h.duration||0),e.endValue(.5),e.play()):u.css("opacity",.5),u.show()),o.is(a)||(c.css(y,it),o.show().kendoStop().kendoAnimate({effects:h.effects,duration:h.duration,complete:r(this._activate,this)}))),f.isMaximized&&(t._documentScrollTop=n(document).scrollTop(),n("html, body").css(y,it)),t},_activate:function(){this.options.autoFocus&&this.element.focus();this.trigger(et);this.wrapper.children(s).css(y,"")},_removeOverlay:function(r){var u,f=this._modals(),e=this.options,s=e.modal&&!f.length,h=e.modal?this._overlay(!0):n(t),o=e.animation.close;s?!r&&o.duration&&i.effects.Fade?(u=i.fx(h).fadeOut(),u.duration(o.duration||0),u.startValue(.5),u.play()):this._overlay(!1).remove():f.length&&this._object(f.last())._overlay(!0)},_close:function(t){var i=this,u=i.wrapper,f=i.options,o=f.animation.open,e=f.animation.close;if(u.is(a)&&!i.trigger(kt,{userTriggered:!t})){if(i._closing)return;i._closing=!0;f.visible=!1;n(l).each(function(t,i){var r=n(i).children(s);i!=u&&r.find("> ."+p).length>0&&r.children(tt).remove()});this._removeOverlay();u.kendoStop().kendoAnimate({effects:e.effects||o.effects,reverse:e.reverse===!0,duration:e.duration,complete:r(this._deactivate,this)})}i.options.isMaximized&&(n("html, body").css(y,""),i._documentScrollTop&&i._documentScrollTop>0&&n(document).scrollTop(i._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(bt);var n=this._object(this._modals().last());n&&n.toFront()},close:function(){return this._close(!0),this},_actionable:function(t){return n(t).is(b+","+b+" .k-icon,:input,a")},_shouldFocus:function(t){var r=oi(),i=this.element;return!(!this.options.autoFocus||n(r).is(i)||this._actionable(t)||i.find(r).length&&i.find(t).length)},toFront:function(t){var f,o,r=this,i=r.wrapper,h=i[0],u=+i.css(w),c=u,a=t&&t.target||null;return n(l).each(function(t,i){var r=n(i),f=r.css(w),o=r.children(s);isNaN(f)||(u=Math.max(+f,u));i!=h&&o.find("> ."+p).length>0&&o.append(e.overlay)}),(!i[0].style.zIndex||u>c)&&i.css(w,u+2),r.element.find("> .k-overlay").remove(),r._shouldFocus(a)&&(r.element.focus(),f=n(window).scrollTop(),o=parseInt(i.position().top,10),o>0&&f>o&&(f>0?n(window).scrollTop(o):i.css("top",f))),i=null,r},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,i=t.options,u=i.minHeight,r=t.restoreOptions;return i.isMaximized||i.isMinimized?(u&&1/0!=u&&t.wrapper.css("min-height",u),t.wrapper.css({position:i.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass(wt).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(ii).parent().show().end().end().find(ot).parent().show(),t.options.width=r.width,t.options.height=r.height,n("html, body").css(y,""),this._documentScrollTop&&this._documentScrollTop>0&&n(document).scrollTop(this._documentScrollTop),i.isMaximized=i.isMinimized=!1,t.resize(),t):t},maximize:st("maximize",function(){var t=this,i=t.wrapper,r=i.position();g(t.restoreOptions,{left:r.left,top:r.top});i.css({left:0,top:0,position:"fixed"}).addClass(wt);this._documentScrollTop=n(document).scrollTop();n("html, body").css(y,it);t.options.isMaximized=!0;t._onDocumentResize()}),minimize:st("minimize",function(){var n=this;n.wrapper.css({height:"",minHeight:""});n.element.hide();n.options.isMinimized=!0}),pin:function(t){var i=this,u=n(window),r=i.wrapper,e=parseInt(r.css("top"),10),o=parseInt(r.css("left"),10);!t&&(i.options.pinned||i.options.isMaximized)||(r.css({position:"fixed",top:e-u.scrollTop(),left:o-u.scrollLeft()}),r.children(f).find(ri).addClass("k-i-unpin").removeClass("k-i-pin"),i.options.pinned=!0)},unpin:function(){var t=this,r=n(window),i=t.wrapper,u=parseInt(i.css("top"),10),e=parseInt(i.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position:"",top:u+r.scrollTop(),left:e+r.scrollLeft()}),i.children(f).find(ui).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var r,u,t=this,f=t.wrapper,e=n(window),o=i.support.zoomLevel();t.options.isMaximized&&(r=e.width()/o,u=e.height()/o-parseInt(f.css("padding-top"),10),f.css({width:r,height:u}),t.options.width=r,t.options.height=u,t.resize())},refresh:function(t){var o,f,s,i=this,c=i.options,l=n(i.element);return at(t)||(t={url:t}),t=g({},c.content,t),f=k(c.iframe)?c.iframe:t.iframe,s=t.url,s?(k(f)||(f=!hi(s)),f?(o=l.find("."+p)[0],o?o.src=s||o.src:l.html(e.contentFrame(g({},c,{content:t}))),l.find("."+p).unbind("load"+u).on("load"+u,r(this._triggerRefresh,this))):i._ajaxRequest(t)):(t.template&&i.content(h(t.template)({})),i.trigger(rt)),l.toggleClass("k-window-iframecontent",!!f),i},_triggerRefresh:function(){this.trigger(rt)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(fi).removeClass(vt)},_ajaxError:function(n,t){this.trigger(ti,{status:t,xhr:n})},_ajaxSuccess:function(n){return function(t){var i=t;n&&(i=h(n)(t||{}));this.content(i,t);this.element.prop("scrollTop",0);this.trigger(rt)}},_showLoading:function(){this.wrapper.find(fi).addClass(vt)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(r(this._showLoading,this),100);n.ajax(g({type:"GET",dataType:"html",cache:!1,error:r(this._ajaxError,this),complete:r(this._ajaxComplete,this),success:r(this._ajaxSuccess(t.template),this)},t))},destroy:function(){var r=this;r.resizing&&r.resizing.destroy();r.dragging&&r.dragging.destroy();r.wrapper.off(u).children(s).off(u).end().find(".k-resize-handle,.k-window-titlebar").off(u);n(window).off("resize"+u+r._marker);clearTimeout(r._loadingIconTimeout);d.fn.destroy.call(r);r.unbind(t);i.destroy(r.wrapper);r._removeOverlay(!0);r.wrapper.empty().remove();r.wrapper=r.appendTo=r.element=n()},_createWindow:function(){var u,r,t=this.element,f=this.options,o=i.support.isRtl(t);f.scrollable===!1&&t.attr("style","overflow:hidden;");r=n(e.wrapper(f));u=t.find("iframe:not(.k-content)").map(function(){var n=this.getAttribute("src");return this.src="",n});r.toggleClass("k-rtl",o).appendTo(this.appendTo).append(t).find("iframe:not(.k-content)").each(function(n){this.src=u[n]});r.find(".k-window-title").css(o?"left":"right",r.find(".k-window-actions").outerWidth()+10);t.css("visibility","").show();t.find("[data-role=editor]").each(function(){var t=n(this).data("kendoEditor");t&&t.refresh()});r=t=null}}),e={wrapper:h("<div class='k-widget k-window' />"),action:h("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #<\/span><\/a>"),titlebar:h("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #<\/span><div class='k-window-actions' /><\/div>"),overlay:"<div class='k-overlay' />",contentFrame:h("<iframe frameborder='0' title='#= title #' class='"+p+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),resizeHandle:h("<div class='k-resize-handle k-resize-#= data #'><\/div>")};ht.prototype={addOverlay:function(){this.owner.wrapper.append(e.overlay)},removeOverlay:function(){this.owner.wrapper.find(tt).remove()},dragstart:function(t){var r=this,f=r.owner,u=f.wrapper;r.elementPadding=parseInt(u.css("padding-top"),10);r.initialPosition=i.getOffset(u,"position");r.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-","");r.initialSize={width:u.width(),height:u.height()};r.containerOffset=i.getOffset(f.appendTo,"position");u.children(c).not(t.currentTarget).hide();n(nt).css(v,t.currentTarget.css(v))},drag:function(n){var i,r,l,a,u=this,f=u.owner,e=f.wrapper,t=f.options,s=u.resizeDirection,h=u.containerOffset,c=u.initialPosition,v=u.initialSize,y=Math.max(n.x.location,h.left),p=Math.max(n.y.location,h.top);s.indexOf("e")>=0?(i=y-c.left,e.width(o(i,t.minWidth,t.maxWidth))):s.indexOf("w")>=0&&(a=c.left+v.width,i=o(a-y,t.minWidth,t.maxWidth),e.css({left:a-i-h.left,width:i}));s.indexOf("s")>=0?(r=p-c.top-u.elementPadding,e.height(o(r,t.minHeight,t.maxHeight))):s.indexOf("n")>=0&&(l=c.top+v.height,r=o(l-p,t.minHeight,t.maxHeight),e.css({top:l-r-h.top,height:r}));i&&(f.options.width=i+"px");r&&(f.options.height=r+"px");f.resize()},dragend:function(t){var r=this,i=r.owner,u=i.wrapper;return u.children(c).not(t.currentTarget).show(),n(nt).css(v,""),i.touchScroller&&i.touchScroller.reset(),27==t.keyCode&&u.css(r.initialPosition).css(r.initialSize),i.trigger(dt),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};ct.prototype={dragstart:function(t){var r=this.owner,u=r.element,f=u.find(".k-window-actions"),o=i.getOffset(r.appendTo);r.trigger(gt);r.initialWindowPosition=i.getOffset(r.wrapper,"position");r.startPosition={left:t.x.client-r.initialWindowPosition.left,top:t.y.client-r.initialWindowPosition.top};r.minLeftPosition=f.length>0?f.outerWidth()+parseInt(f.css("right"),10)-u.outerWidth():20-u.outerWidth();r.minLeftPosition-=o.left;r.minTopPosition=-o.top;r.wrapper.append(e.overlay).children(c).hide();n(nt).css(v,t.currentTarget.css(v))},drag:function(t){var i=this.owner,r=i.options.position,u=Math.max(t.y.client-i.startPosition.top,i.minTopPosition),f=Math.max(t.x.client-i.startPosition.left,i.minLeftPosition),e={left:f,top:u};n(i.wrapper).css(e);r.top=u;r.left=f},_finishDrag:function(){var t=this.owner;t.wrapper.children(c).toggle(!t.options.isMinimized).end().find(tt).remove();n(nt).css(v,"")},dragcancel:function(n){this._finishDrag();n.currentTarget.closest(l).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(ni),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};i.ui.plugin(ci)}(window.kendo.jQuery);
