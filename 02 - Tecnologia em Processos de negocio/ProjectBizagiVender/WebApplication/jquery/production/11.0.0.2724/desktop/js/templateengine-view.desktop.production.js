(function(n){n.widget("filter.multiple",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){},setData:function(){}},_create:function(){var n=this;n.isDefaultFilter=!1;n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindTooltip();n._bindDefaultFilter()},_bindDefaultFilter:function(){for(var t=this,e=t.options.data||[],u=": ",i,o=-1,r,f;i=e.defaultValues[++o];)i.applied&&(t.isDefaultFilter=!0,t.returnObject.value.push({id:i.id}),u+=i.displayName);t.isDefaultFilter&&(r=n(".wgd-my-search-filter-pluggin span",t.element),f=r.text().split(":"),r.text(f[0]+u))},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_setReturnObject:function(){var n=this;n.returnObject={properties:{xpath:n.options.properties.attribute,type:"entity",typeSearch:"exact"},value:[]}},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.container=function(t){n('<div id="'+t.id+'" class="menu-container"><\/div>').appendTo(this)};n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button" disabled>'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._addFilterToDisplayName();i.onApply([t.returnObject])}f.$menu.trigger("contextmenu:hide")})}},_buildContextMenuItems:function(){var t=this,i=t.options,n={};return t.options.showButtonClearFilter!==!0&&(n.key={name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}}),n.container={id:"checks_container_"+i.properties.attribute,type:"container"},n.buttons={type:"contextMenuButtons"},n},_bindContextMenu:function(){var t=this,i=t.options,r=n(t.element),u="#"+n(".wgd-my-search-filter-pluggin",r).attr("id"),f=t._buildContextMenuItems();r.click(function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(u).contextMenu()});r.contextMenu({selector:u,trigger:"none",items:f,events:{show:function(){var r=n("#checks_container_"+i.properties.attribute,t.$menuContext);return t._disableApply(),r.empty(),n.when(i.setData()).done(function(n){for(var n=typeof n!="undefined"?n.defaultValues:i.data.defaultValues,s=-1,u,o,e,f;u=n[++s];)o=t.returnObject.value.find(function(n){return n.id==u.id}),e=o||u.applied?"checked":"",u.id!=""&&u.displayName!=""&&(!t.isDefaultFilter||t.isDefaultFilter&&e==="checked")&&(f="<li>",f+="<input data-displayname='"+u.displayName+"' type='checkbox' value='"+u.id+"' "+e+">",f+="<span class='context-menu-item-label-check'>"+u.displayName+"<\/span>",f+="<\/li>",r.append(f));t._bindHandlers()})},hide:function(){}}})},_bindTooltip:function(){var t=this;t.filterValue=t.filterValue||[];n(t.element).tooltip({items:"#"+n("div",t.element).attr("id"),content:function(){if(t.filterValue.length!==0){var i=n("<div>");return n.each(t.filterValue,function(t,r){i.append(n("<div><label>"+r+"<\/label><\/div>"))}),i}return""}})},_bindHandlers:function(){var t=this;n("input:checkbox",t.$menuContext).on("click",function(i){var r;i.stopImmediatePropagation();var u=n(i.target),f=u.attr("value"),e=u.is(":checked");e?(t.returnObject.value.push({id:f}),t._enableApply()):(r=t.returnObject.value.find(function(n){return n.id==f}),r&&t.returnObject.value.splice(t.returnObject.value.indexOf(r),1),t.returnObject.value.length===0?t._disableApply():t._enableApply())})},_resetValue:function(){var n=this;n.returnObject.value=[]},_addFilterToDisplayName:function(){var t=this,r=n(".wgd-my-search-filter-pluggin span",t.element),f=r.text().split(":"),i=f[0]+": ",u=t.returnObject.value.length;t.filterValue=[];n("input:checked",t.$menuContext).each(function(){u--;t.filterValue.push(n(this).data("displayname"));i=i+n(this).data("displayname")+(u==0?"":", ")});r.text(i);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=this,i=n(".wgd-my-search-filter-pluggin span",t.element),r=i.text().split(":");t.isDefaultFilter=!1;t.filterValue=[];i.text(r[0])},_enableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.removeAttr("disabled");t.removeClass("ui-state-disabled")},_disableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.attr("disabled","disabled");t.addClass("ui-state-disabled")},_removeFilter:function(){var t=this;t.options.onClear([t.returnObject.properties.xpath]);t._setDisplayNameToDefault();t._resetValue();n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){var t=this;t.options.data=Object.getOwnPropertyNames(n).length===0?t.options.data:n},destroy:function(){n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.widget("filter.money",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){},setData:function(){}},_create:function(){var n=this;n.numericFormat=bizagi.clone(bizagi.localization.getResource("numericFormat"));n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindTooltip();n._bindHandlers()},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_setReturnObject:function(){var n=this;n.returnObject=[{properties:{xpath:n.options.properties.attribute+"@from",type:"money",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:n.options.properties.attribute+"@to",type:"money",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._setValue();t._addFilterToDisplayName();i.onApply(t.returnObject,t.element)}f.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,i=t.options,r=n(t.element),f="#"+n(".wgd-my-search-filter-pluggin",r).attr("id"),u;r.on("click",function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(f).contextMenu()});u={selector:f,trigger:"none",items:{key:{name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},min:{name:i.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-money-filter-min"},max:{name:i.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-money-filter-max"},notification:{name:i.getResource("workportal-my-search-limit-notification"),className:"ui-bizagi-money-filter-notification"},buttons:{type:"contextMenuButtons"}},events:{show:function(){return n.when(t.options.setData()).done(function(r){var u=n('<input type="text">'),f,e;t.options.data=typeof r!="undefined"?r:t.options.data;u.val(t.options.data.min);u.formatCurrency(t._getFormatOptions());n(".ui-bizagi-money-filter-min span",t.$menuContext).html(i.getResource("bz-rp-components-time-from-label")+" (<span class='select-value'>"+u.val()+"<\/span>):");u.val(t.options.data.max);u.formatCurrency(t._getFormatOptions());n(".ui-bizagi-money-filter-max span",t.$menuContext).html(i.getResource("bz-rp-components-time-to-label")+" (<span class='select-value'>"+u.val()+"<\/span>):");t._enableNotification(!1);f=n(".ui-bizagi-money-filter-min .select-value",t.$menuContext);e=n(".ui-bizagi-money-filter-max .select-value",t.$menuContext);f.on("click",n.proxy(t._onClickMinValue,t));e.on("click",n.proxy(t._onClickMaxValue,t))})},hide:function(){t.removeHandlersValuesMinMax()}}};t.options.showButtonClearFilter===!0&&(u.items.key=undefined);r.contextMenu(u)},_bindTooltip:function(){var t=this;n(t.element).tooltip({items:"#"+n("div",t.element).attr("id"),content:function(){return t.filterValue}})},_setDisplayValue:function(){var t=this,i=typeof t.returnObject[0].value=="undefined"?"":t.returnObject[0].value,r=typeof t.returnObject[1].value=="undefined"?"":t.returnObject[1].value;n(".ui-bizagi-money-filter-min input",t.$menuContext).val(i);n(".ui-bizagi-money-filter-max input",t.$menuContext).val(r);n(".ui-bizagi-money-filter-min input",t.$menuContext).formatCurrency(t._getFormatOptions());n(".ui-bizagi-money-filter-max input",t.$menuContext).formatCurrency(t._getFormatOptions())},_setFormatValue:function(n){var t=this,i=t._getObjectValueByString(n.val());i!==0&&(n.val(i),n.formatCurrency(t._getFormatOptions()))},_getObjectValueByString:function(n,t){var r=this,i=n,u="/["+r.numericFormat.symbol+r.numericFormat.digitGroupSymbol+"]/g",f=eval(u);return i=i.replace(f,""),t&&(i=i.replace(",","."),i=parseFloat(i)),i},_addFilterToDisplayName:function(){var t=this,r=n(".ui-bizagi-money-filter-min input",t.$menuContext).val(),u=n(".ui-bizagi-money-filter-max input",t.$menuContext).val(),i=n(".wgd-my-search-filter-pluggin span",t.element),f=i.text().split(":");t.filterValue=r+" "+t.options.getResource("bz-rp-components-time-to-label")+" "+u;i.text(f[0]+": "+t.filterValue);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=this,i=n(".wgd-my-search-filter-pluggin span",t.element),r=i.text().split(":");t.filterValue="";i.text(r[0])},_setValue:function(){var t=this,i=t._getObjectValueByString(n(".ui-bizagi-money-filter-min input",t.$menuContext).val(),!0),r=t._getObjectValueByString(n(".ui-bizagi-money-filter-max input",t.$menuContext).val(),!0);t.returnObject[0].value=i===""?r:i;t.returnObject[1].value=r===""?i:r},_resetValue:function(){var t=this;t._setReturnObject();n(".ui-bizagi-money-filter-min input",t.$menuContext).val("");n(".ui-bizagi-money-filter-max input",t.$menuContext).val("")},_bindHandlers:function(){var t=this,i=t.options,r=n(".ui-bizagi-money-filter-min input",t.$menuContext),u=n(".ui-bizagi-money-filter-max input",t.$menuContext);r.keyup(function(){if(n(this).val()){var r=t._getObjectValueByString(n(".ui-bizagi-money-filter-max input",t.$menuContext).val(),!0),u=t._getObjectValueByString(n(this).val(),!0),f=isNaN(u)?!0:u<parseFloat(i.data.min),e=isNaN(r)?!0:r>parseFloat(i.data.max),o=u>r;t._checkNotification(f,e,o);t._setFormatValue(n(this))}});u.keyup(function(){if(n(this).val()){var r=t._getObjectValueByString(n(this).val(),!0),u=t._getObjectValueByString(n(".ui-bizagi-money-filter-min input",t.$menuContext).val(),!0),f=isNaN(u)?!0:u<parseFloat(i.data.min),e=isNaN(r)?!0:r>parseFloat(i.data.max),o=u>r;t._checkNotification(f,e,o);t._setFormatValue(n(this))}})},_onClickMinValue:function(t){var r=this,i=n(".ui-bizagi-money-filter-min input",r.$menuContext);i.val(n(t.target).text());i.keyup()},_onClickMaxValue:function(t){var r=this,i=n(".ui-bizagi-money-filter-max input",r.$menuContext);i.val(n(t.target).text());i.keyup()},_checkNotification:function(n,t,i){var f=this,u=f.options,r;i||n||t?(r=u.getResource("workportal-my-search-limit-notification"),n?r=u.getResource("workportal-my-search-lower-limit-notification"):t?r=u.getResource("workportal-my-search-upper-limit-notification"):i&&(r=u.getResource("workportal-my-search-max-min-notification")),f._enableNotification(!0,r)):f._disableNotification()},_enableNotification:function(t,i){var r=this;t?(n(".ui-bizagi-money-filter-notification span",r.$menuContext).text(i),n(".ui-bizagi-money-filter-notification",r.$menuContext).show()):n(".ui-bizagi-money-filter-notification",r.$menuContext).hide();n("#ui-bizagi-apply-filter",r.$menuContext).attr("disabled","disabled");n("#ui-bizagi-apply-filter",r.$menuContext).addClass("ui-state-disabled")},_disableNotification:function(){var t=this;n(".ui-bizagi-money-filter-notification",t.$menuContext).hide();n("#ui-bizagi-apply-filter",t.$menuContext).removeAttr("disabled");n("#ui-bizagi-apply-filter",t.$menuContext).removeClass("ui-state-disabled")},_getFormatOptions:function(){var n=this;return formatOptions={symbol:"",roundToDecimalPlace:-1,eventOnDecimalsEntered:!0,digitGroupSymbol:n.numericFormat.digitGroupSymbol,decimalSymbol:n.numericFormat.decimalSymbol}},_removeFilter:function(){var t=this;t._resetValue();t._enableNotification(!1);t._setDisplayNameToDefault();t.options.onClear([t.returnObject[0].properties.xpath,t.returnObject[1].properties.xpath]);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){var t=this;t.options.data=Object.getOwnPropertyNames(n).length===0?t.options.data:n},removeHandlersValuesMinMax:function(){var t=this,i=n(".ui-bizagi-money-filter-min .select-value",t.$menuContext),r=n(".ui-bizagi-money-filter-max .select-value",t.$menuContext);i.off("click",n.proxy(t._onClickMinValue,t));r.off("click",n.proxy(t._onClickMaxValue,t))},destroy:function(){var t=this;t.removeHandlersValuesMinMax();n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.widget("filter.number",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){},setData:function(){}},_create:function(){var n=this;n.numericFormat=bizagi.clone(bizagi.localization.getResource("numericFormat"));n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindTooltip();n._bindHandlers()},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_setReturnObject:function(){var n=this;n.returnObject=[{properties:{xpath:n.options.properties.attribute+"@from",type:"number",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:n.options.properties.attribute+"@to",type:"number",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._setValue();t._addFilterToDisplayName();i.onApply(t.returnObject)}f.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,i=t.options,r=n(t.element),f="#"+n(".wgd-my-search-filter-pluggin",r).attr("id"),u;r.on("click",function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(f).contextMenu()});u={selector:f,trigger:"none",items:{key:{name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},min:{name:i.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-number-filter-min"},max:{name:i.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-number-filter-max"},notification:{name:i.getResource("workportal-my-search-limit-notification"),className:"ui-bizagi-number-filter-notification"},buttons:{type:"contextMenuButtons"}},events:{show:function(){return n.when(t.options.setData()).done(function(r){var u=n('<input type="text">'),f,e;t.options.data=typeof r!="undefined"?r:t.options.data;u.val(t.options.data.min);u.formatCurrency(t._getFormatOptions());n(".ui-bizagi-number-filter-min span",t.$menuContext).html(i.getResource("bz-rp-components-time-from-label")+" (<span class='select-value'>"+u.val()+"<\/span>):");u.val(t.options.data.max);u.formatCurrency(t._getFormatOptions());n(".ui-bizagi-number-filter-max span",t.$menuContext).html(i.getResource("bz-rp-components-time-to-label")+" (<span class='select-value'>"+u.val()+"<\/span>):");t._enableNotification(!1);f=n(".ui-bizagi-number-filter-min .select-value",t.$menuContext);e=n(".ui-bizagi-number-filter-max .select-value",t.$menuContext);f.on("click",n.proxy(t._onClickMinValue,t));e.on("click",n.proxy(t._onClickMaxValue,t))})},hide:function(){t.removeHandlersValuesMinMax()}}};t.options.showButtonClearFilter===!0&&(u.items.key=undefined);r.contextMenu(u)},_bindTooltip:function(){var t=this;n(t.element).tooltip({items:"#"+n("div",t.element).attr("id"),content:function(){return t.filterValue}})},_setDisplayValue:function(){var t=this,i=typeof t.returnObject[0].value=="undefined"?"":t.returnObject[0].value,r=typeof t.returnObject[1].value=="undefined"?"":t.returnObject[1].value;n(".ui-bizagi-number-filter-min input",t.$menuContext).val(i);n(".ui-bizagi-number-filter-max input",t.$menuContext).val(r);n(".ui-bizagi-number-filter-min input",t.$menuContext).formatCurrency(t._getFormatOptions());n(".ui-bizagi-number-filter-max input",t.$menuContext).formatCurrency(t._getFormatOptions())},_setFormatValue:function(n){var t=this,i=t._getObjectValueByString(n.val());i!==0&&(n.val(i),n.formatCurrency(t._getFormatOptions()))},_getObjectValueByString:function(n,t){var r=this,i=n,u="/["+r.numericFormat.symbol+r.numericFormat.digitGroupSymbol+"]/g",f=eval(u);return i=i.replace(f,""),t&&(i=i.replace(",","."),i=parseFloat(i)),i},_addFilterToDisplayName:function(){var t=this,r=n(".ui-bizagi-number-filter-min input",t.$menuContext).val(),u=n(".ui-bizagi-number-filter-max input",t.$menuContext).val(),i=n(".wgd-my-search-filter-pluggin span",t.element),f=i.text().split(":");t.filterValue=r+" "+t.options.getResource("bz-rp-components-time-to-label")+" "+u;i.text(f[0]+": "+t.filterValue);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=this,i=n(".wgd-my-search-filter-pluggin span",t.element),r=i.text().split(":");t.filterValue="";i.text(r[0])},_setValue:function(){var t=this,i=t._getObjectValueByString(n(".ui-bizagi-number-filter-min input",t.$menuContext).val(),!0),r=t._getObjectValueByString(n(".ui-bizagi-number-filter-max input",t.$menuContext).val(),!0);t.returnObject[0].value=i===""?r:i;t.returnObject[1].value=r===""?i:r},_resetValue:function(){var t=this;t._setReturnObject();n(".ui-bizagi-number-filter-min input",t.$menuContext).val("");n(".ui-bizagi-number-filter-max input",t.$menuContext).val("")},_bindHandlers:function(){var t=this,i=t.options,r=n(".ui-bizagi-number-filter-min input",t.$menuContext),u=n(".ui-bizagi-number-filter-max input",t.$menuContext);r.keyup(function(){if(n(this).val()){var r=t._getObjectValueByString(n(".ui-bizagi-number-filter-max input",t.$menuContext).val(),!0),u=t._getObjectValueByString(n(this).val(),!0),f=isNaN(u)?!0:u<parseFloat(i.data.min),e=isNaN(r)?!0:r>parseFloat(i.data.max),o=u>r;t._checkNotification(f,e,o);t._setFormatValue(n(this))}});u.keyup(function(){if(n(this).val()){var r=t._getObjectValueByString(n(this).val(),!0),u=t._getObjectValueByString(n(".ui-bizagi-number-filter-min input",t.$menuContext).val(),!0),f=isNaN(u)?!0:u<parseFloat(i.data.min),e=isNaN(r)?!0:r>parseFloat(i.data.max),o=u>r;t._checkNotification(f,e,o);t._setFormatValue(n(this))}})},_onClickMinValue:function(t){var r=this,i=n(".ui-bizagi-number-filter-min input",r.$menuContext);i.val(n(t.target).text());i.keyup()},_onClickMaxValue:function(t){var r=this,i=n(".ui-bizagi-number-filter-max input",r.$menuContext);i.val(n(t.target).text());i.keyup()},_checkNotification:function(n,t,i){var f=this,u=f.options,r;i||n||t?(r=u.getResource("workportal-my-search-limit-notification"),n?r=u.getResource("workportal-my-search-lower-limit-notification"):t?r=u.getResource("workportal-my-search-upper-limit-notification"):i&&(r=u.getResource("workportal-my-search-max-min-notification")),f._enableNotification(!0,r)):f._disableNotification()},_enableNotification:function(t,i){var r=this;t?(n(".ui-bizagi-number-filter-notification span",r.$menuContext).text(i),n(".ui-bizagi-number-filter-notification",r.$menuContext).show()):n(".ui-bizagi-number-filter-notification",r.$menuContext).hide();n("#ui-bizagi-apply-filter",r.$menuContext).attr("disabled","disabled");n("#ui-bizagi-apply-filter",r.$menuContext).addClass("ui-state-disabled")},_disableNotification:function(){var t=this;n(".ui-bizagi-number-filter-notification",t.$menuContext).hide();n("#ui-bizagi-apply-filter",t.$menuContext).removeAttr("disabled");n("#ui-bizagi-apply-filter",t.$menuContext).removeClass("ui-state-disabled")},_getFormatOptions:function(){var n=this;return formatOptions={symbol:"",roundToDecimalPlace:-1,eventOnDecimalsEntered:!0,digitGroupSymbol:n.numericFormat.digitGroupSymbol,decimalSymbol:n.numericFormat.decimalSymbol}},_removeFilter:function(){var t=this;t._resetValue();t._enableNotification(!1);t._setDisplayNameToDefault();t.options.onClear([t.returnObject[0].properties.xpath,t.returnObject[1].properties.xpath]);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){var t=this;t.options.data=Object.getOwnPropertyNames(n).length===0?t.options.data:n},removeHandlersValuesMinMax:function(){var t=this,i=n(".ui-bizagi-number-filter-min .select-value",t.$menuContext),r=n(".ui-bizagi-number-filter-max .select-value",t.$menuContext);i.off("click",n.proxy(t._onClickMinValue,t));r.off("click",n.proxy(t._onClickMaxValue,t))},destroy:function(){var t=this;t.removeHandlersValuesMinMax();n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.widget("filter.dateFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){},setData:function(){}},_create:function(){var n=this;n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindTooltip();n._bindHandlers()},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_setReturnObject:function(){var n=this,t=n.options.properties.attribute;n.returnObject=[{properties:{xpath:t+"@from",type:"date",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:t+"@to",type:"date",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._setValuesOfReturnObject();t._setDisplayTitle(!1);i.onApply(t.returnObject,t.element)}f.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,i=t.options,r=n(t.element),f="#"+n(".wgd-my-search-filter-pluggin",r).attr("id"),u;r.on("click",function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(f).contextMenu()});u={selector:f,trigger:"none",items:{key:{name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},from:{name:i.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-date-filter-from"},to:{name:i.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-date-filter-to"},buttons:{type:"contextMenuButtons"}},events:{show:function(){t._disableApply();t._setDisplayLabels()},hide:function(){t._getFromControl().datepicker("hide");t._getToControl().datepicker("hide")}}};t.options.showButtonClearFilter===!0&&(u.items.key=undefined);r.contextMenu(u)},_bindTooltip:function(){var t=this;n(t.element).tooltip({items:"#"+n("div",t.element).attr("id"),content:function(){return t.filterValue}})},_bindHandlers:function(){var n=this,t=n._getFromControl(),i=n._getToControl(),r=new Date(n._getDateFromInvariant(n.options.properties.data.min)),u=new Date(n._getDateFromInvariant(n.options.properties.data.max)),f=bizagi.util.dateFormatter.getDateFormatByDatePickerJqueryUI().toLowerCase();t.datepicker({defaultDate:r,dateFormat:f,changeMonth:!0,changeYear:!0,numberOfMonths:1,yearRange:"-100:+0",minDate:r,maxDate:u,onClose:function(t){t?(i.datepicker("option","minDate",t),i.datepicker("getDate")&&n._enableApply()):n._disableApply()}});i.datepicker({defaultDate:u,dateFormat:f,changeMonth:!0,changeYear:!0,numberOfMonths:1,yearRange:"-100:+0",minDate:r,maxDate:u,onSelect:function(i){i?(t.datepicker("option","maxDate",i),t.datepicker("getDate")&&n._enableApply()):n._disableApply()}})},_resetValues:function(){var n=this;n._getFromControl().datepicker("setDate",null);n._getToControl().datepicker("setDate",null);n._setReturnObject();n._disableApply()},_setValuesOfReturnObject:function(){var n=this,i=n._getFromControl().datepicker("getDate"),r=n._getToControl().datepicker("getDate"),t=bizagi.util.dateFormatter;n.returnObject[0].value=i!==null?t.formatInvariant(i,!1):t.formatInvariant(r,!1);n.returnObject[1].value=r!==null?t.formatInvariant(r,!1):t.formatInvariant(i,!1)},_setDisplayTitle:function(t){var i=this,r=n(".wgd-my-search-filter-pluggin span",i.element),f=r.text().split(":");if(t)i.filterValue="",r.text(f[0]);else{var u=i.options,e=i._getDateFromInvariant(i.returnObject[0].value),o=i._getDateFromInvariant(i.returnObject[1].value);i.filterValue=i._formatDate(e,u.getResource("dateFormat"))+" "+u.getResource("bz-rp-components-time-to-label")+" "+i._formatDate(o,u.getResource("dateFormat"));r.text(f[0]+": "+i.filterValue)}n(".wgd-my-search-filter-pluggin .remove-filter",i.element).show()},_setDisplayLabels:function(){var t=this,i=t.options,r=t._getDateFromInvariant(t.options.properties.data.min),u=t._getDateFromInvariant(t.options.properties.data.max);n(".ui-bizagi-date-filter-from span",t.$menuContext).text(i.getResource("bz-rp-components-time-from-label")+" ("+t._formatDate(r,i.getResource("dateFormat"))+"):");n(".ui-bizagi-date-filter-to span",t.$menuContext).text(i.getResource("bz-rp-components-time-to-label")+" ("+t._formatDate(u,i.getResource("dateFormat"))+"):")},_enableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.removeAttr("disabled");t.removeClass("ui-state-disabled")},_disableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.attr("disabled","disabled");t.addClass("ui-state-disabled")},_formatDate:function(n,t){return bizagi.util.dateFormatter.formatDate(n,t)},_getFromControl:function(){var t=this;return n(".ui-bizagi-date-filter-from input",t.$menuContext)},_getToControl:function(){var t=this;return n(".ui-bizagi-date-filter-to input",t.$menuContext)},_getDateFromInvariant:function(n){return bizagi.util.dateFormatter.getDateFromInvariant(n)},_removeFilter:function(){var t=this;t.options.onClear([t.returnObject[0].properties.xpath,t.returnObject[1].properties.xpath]);t._setDisplayTitle(!0);t._resetValues();n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){var t=this;t.options.properties.data=Object.getOwnPropertyNames(n).length===0?t.options.properties.data:n;var i=t._getFromControl(),r=t._getToControl(),u=new Date(t._getDateFromInvariant(t.options.properties.data.min)),f=new Date(t._getDateFromInvariant(t.options.properties.data.max));i.datepicker("option","minDate",u);i.datepicker("option","maxDate",f);r.datepicker("option","minDate",u);r.datepicker("option","maxDate",f)},destroy:function(){n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.widget("filter.textFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){}},_create:function(){var n=this;n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindHandlers()},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._setValue();t._setFilterToDisplayName();i.onApply(t.returnObject,t.element)}f.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,r=t.options,u=n(".wgd-my-search-filter-pluggin",t.element),f="#"+u.attr("id"),i;u.on("click",function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(f).contextMenu()});i={selector:f,trigger:"none",items:{key:{name:r.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},min:{name:r.getResource("workportal-my-search-text"),type:"text",className:"ui-bizagi-text-filter"},buttons:{type:"contextMenuButtons"}},events:{show:function(){t._disableApply()},hide:function(){}}};t.options.showButtonClearFilter===!0&&(i.items.key=undefined);n(t.element).contextMenu(i)},_getTextControl:function(){var t=this;return n(".ui-bizagi-text-filter input",t.$menuContext)},_bindHandlers:function(){var t=this;t._getTextControl().keyup(function(){n(this).val()&&n(this).val().indexOf(" ")!=0?t._enableApply():t._disableApply()})},_setReturnObject:function(){var n=this;n.returnObject={properties:{xpath:n.options.properties.attribute,type:"text",typeSearch:"approx"}}},_resetValue:function(){var n=this;n._setReturnObject();n._disableApply();n._getTextControl().val("")},_setValue:function(){var n=this,t=n._getTextControl().val();t&&(n.returnObject.value=t)},_enableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.removeAttr("disabled");t.removeClass("ui-state-disabled")},_disableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.attr("disabled","disabled");t.addClass("ui-state-disabled")},_setFilterToDisplayName:function(){var t=this,i=n(".wgd-my-search-filter-pluggin span",t.element),r=i.text().split(":");i.text(r[0]+": "+t.returnObject.value);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var i=this,t=n(".wgd-my-search-filter-pluggin span",i.element),r=t.text().split(":");t.text(r[0])},_removeFilter:function(){var t=this,i;t._resetValue();i=[t.returnObject.properties.xpath];t._setDisplayNameToDefault();t.options.onClear(i);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){console.log(n)},destroy:function(){n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.widget("filter.booleanFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(){},onClear:function(){},setData:function(){}},_create:function(){var n=this;n._addButtonClearFilter();n._setReturnObject();n._bindContextMenuButtons();n._bindContextMenu();n._bindTooltip()},_addButtonClearFilter:function(){var t=this,i;t.options.showButtonClearFilter&&(i="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'><\/i>",n(".wgd-my-search-filter-pluggin",t.element).append(i))},_setReturnObject:function(){var n=this;n.returnObject={properties:{xpath:n.options.properties.attribute,type:"boolean",typeSearch:"exact"},value:[]}},_bindContextMenuButtons:function(){var t=this,i=t.options;n.contextMenu.types.container=function(t){n('<div id="'+t.id+'" class="menu-container"><\/div>').appendTo(this)};n.contextMenu.types.contextMenuButtons=function(r,u,f){t.$menuContext=f.$menu;var e='<div class="ui-bizagi-filter-buttons">';e+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link type="button">'+i.getResource("workportal-general-button-label-cancel")+"<\/button>";e+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button" disabled>'+i.getResource("workportal-general-button-label-apply")+"<\/button>";e+="<div>";n(e).appendTo(this).on("click","button",function(){if(n(this).text()==i.getResource("workportal-general-button-label-apply")){t._addFilterToDisplayName();i.onApply([t.returnObject],t.element)}f.$menu.trigger("contextmenu:hide")})}},_buildContextMenuItems:function(){var t=this,i=t.options,n={};return t.options.showButtonClearFilter!==!0&&(n.key={name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}}),n.container={id:"checks_container",type:"container"},n.buttons={type:"contextMenuButtons"},n},_bindContextMenu:function(){var t=this,i=n(t.element),r="#"+n(".wgd-my-search-filter-pluggin",i).attr("id"),u=t._buildContextMenuItems();i.on("click",function(i){n(i.target).hasClass("remove-filter")&&n(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():n(r).contextMenu()});i.contextMenu({selector:r,trigger:"none",items:u,events:{show:function(){t._disableApply();var i=n("#checks_container",t.$menuContext);return i.empty(),n.when(t.options.setData()).done(function(n){for(var n=typeof n!="undefined"?n.defaultValues:t.options.data.defaultValues,f=-1,r,u;r=n[++f];)u=t.returnObject.value===r.id,r.id!=""&&r.displayName!=""&&i.append('<li><input data-displayname="'+r.displayName+'" type="radio" name="boolFilter" value="'+r.id+'" '+(u?"checked":"")+'><span class="context-menu-item-label-check">'+t.parseBoolean(r.displayName)+"<\/span><\/li>");t._bindHandlers()})},hide:function(){}}})},_bindTooltip:function(){var t=this;t.filterValue=t.filterValue||[];n(t.element).tooltip({items:"#"+n("div",t.element).attr("id"),content:function(){if(t.filterValue.length!==0){var i=n("<div>");return n.each(t.filterValue,function(r,u){i.append(n("<div><label>"+t.parseBoolean(u)+"<\/label><\/div>"))}),i}return""}})},parseBoolean:function(n){var t=bizagi.clone(n);switch(t.toLowerCase()){case"not specified":t=bizagi.localization.getResource("workportal-general-value-undefined");break;default:t=bizagi.util.formatBoolean(t)}return t},_bindHandlers:function(){var t=this;n("input:radio",t.$menuContext).on("click",function(i){i.stopImmediatePropagation();var r=n(i.target);t.returnObject.value=r.attr("value");t._enableApply()})},_resetValue:function(){var n=this;n.returnObject.value=[]},_addFilterToDisplayName:function(){var t=this,r=n(".wgd-my-search-filter-pluggin span",t.element),u=r.text().split(":"),i=u[0]+": ";t.filterValue=[];n("input:checked",t.$menuContext).each(function(){t.filterValue.push(n(this).data("displayname"));i=i+t.parseBoolean(n(this).data("displayname"))});r.text(i);n(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=this,i=n(".wgd-my-search-filter-pluggin span",t.element),r=i.text().split(":");t.filterValue=[];i.text(r[0])},_enableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.removeAttr("disabled");t.removeClass("ui-state-disabled")},_disableApply:function(){var i=this,t=n("#ui-bizagi-apply-filter",i.$menuContext);t.attr("disabled","disabled");t.addClass("ui-state-disabled")},_removeFilter:function(){var t=this,i=t.returnObject.properties.xpath;t.options.onClear([i]);t._setDisplayNameToDefault();t._resetValue();n(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(n){var t=this;t.options.data=Object.getOwnPropertyNames(n).length===0?t.options.data:n},destroy:function(){n(this.element).contextMenu("destroy");n.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(n){n.fn.bizagiSearchUser=function(t){var l=this;t=t||{};var u={},h=10,c=9,o=[],e=1,f=0,i={},s=t.editingUser,r={init:function(){r.bindElements()},bindElements:function(){l.click(function(){r.openUploadDialog()})},openUploadDialog:function(){var u=this,e=window.document,f=u.dialogBox=n("<div class='ui-bizagi-component-search-user'/>");i=f.dialog({width:950,maximize:!1,resize:!1,draggable:!1,height:650,title:t.title,modal:!0});r.showFilters();r.showButtons();r.addHandlers()},showFilters:function(){var r=n("<div id='filtersContainer' class='filters-container clearfix'><\/div>");n.each(t.filters,function(u,f){n(r,i).append("<div class='filters-row clearfix'><div class='filters-cell'><span>"+t.displayNames[u]+"<\/span><\/div><div class='filters-cell'><input id="+f+" type='text'> <\/input><\/div><\/div>")});r.appendTo(i)},showButtons:function(){var u=n("<div id='buttonsContainer'class='biz-wp-buttonset'><\/div>"),f;n(u,i).append("<button id='btnSearchUsers' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+t.searchButtonName+"<\/span><\/button>");n(u,i).append("<button id='btnClear' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+t.clearButtonName+"<\/span><\/button>");t.allowAddUser?(f="<button id='btnNew' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+bizagi.localization.getResource("workportal-widget-admin-user-profiles-button-label-newUserProfiles")+"<\/span><\/button>",n(u,i).append(f),u.appendTo(i),n("#btnNew",i).bizagiCreateUser(t.dataService,t.renderFactory,{canvas:n(i),onCreate:t.selectItem(),onCancel:function(){n(i).dialog("option","title",t.title);n(i).empty();r.showFilters();r.showButtons();r.addHandlers()}})):u.appendTo(i)},addHandlers:function(){return n("#btnSearchUsers",i).click(function(){r.getUsersTableData()}),n("#btnClear",i).click(function(){r.clickClearPluginValues()}),this},clickClearPluginValues:function(){n.each(t.filters,function(t,r){n("#"+r,i).val("")});n("#searchResults",i).remove()},getUsersTableData:function(){var e=this,i;r.updateFiltersInformation();i=t.searchUsers(u);n.when(i).done(function(n){o=n.users;f=n.total;r.showUsersTable()}).fail(function(n){t.showError(n)})},updateFiltersInformation:function(){n.each(t.filters,function(t,r){u[r]=n("#"+r,i).val()});u.pag=e;u.pagSize=c;typeof s!="undefined"&&s!==""&&(u.editingUser=s)},showUsersTable:function(){var u,s,h;o.length>0?(u=f>1?!0:!1,s=r.getPagesArray(),n("#searchResults",i).remove(),h=t.getTableTemplate(o,e,u,s),n(i).append(h),r.addTableHandlers(),r.setUpPagination()):(t.showMessageBox("workportal-widget-usertable-empty"),n("#searchResults",i).remove())},addTableHandlers:function(){n("table :button",i).click(function(){var f=n(this),r={},u;n.each(t.valuesToSelect,function(n,t){r[t]=f.data(t)});u=t.selectItem();u.resolve(r);i.remove()})},getPagesArray:function(){for(var i=h>f?f:h,t=[],n=0;n<i;n++)t.push(n+1);return t},setUpPagination:function(){var r=this,t=n("#biz-wp-userstable-pager ul",i);t.bizagiPagination({maxElemShow:c,totalPages:f,actualPage:e,listElement:t,clickCallBack:function(n){u.pag=e=parseInt(n.page);r.getUsersTableData()}})}};return r.init(),r}})(jQuery);
bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.paginator",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.loadTemplates({paginator:bizagi.getTemplate("bizagi.workportal.desktop.widget.paginator").concat("#paginator-wrapper"),content:bizagi.getTemplate("bizagi.workportal.desktop.widget.paginator").concat("#paginator-content")})},renderContent:function(){var n=this,t=n.params.referenceType==="ENTITY",i=n.getTemplate("paginator"+n.getSuffixWidget());return n.content=i.render({hide:t}),n.content},postRender:function(){var n=this;n.sub("PAGINATOR-UPDATE",$.proxy(n.updateView,n));n.configureHandlers()},getSuffixWidget:function(){return""},updateView:function(n,t){function f(){var n=i.getTemplate("content"+i.getSuffixWidget());n.render({totalRecords:i.totalRecords,totalPages:i.totalPages,displayName:i.displayName,currentPage:i.currentPage,hide:e}).appendTo(u)}var i=this,r=t.args,e=r.referenceType==="ENTITY",u=i.getContent();i.setModel(r);u.empty();r.fromActionLauncher?i.totalRecords>1?f():i.clean():f()},setModel:function(n){var t=this;t.totalRecords=typeof n.totalRecords=="undefined"?t.totalRecords:n.totalRecords;t.totalPages=n.totalPages||t.totalPages;t.displayName=n.histName||t.displayName;t.currentPage=n.currentPage||t.currentPage;t.action=n.action;t.reference=n.reference||t.reference;t.surrogateKey=n.surrogateKey||t.surrogateKey;t.referenceType=n.referenceType||t.referenceType;t.event=n.event},getModel:function(){var n=this;return{page:n.currentPage,totalRecords:n.totalRecords,action:n.action,reference:n.reference,surrogateKey:n.surrogateKey,referenceType:n.referenceType,stopNavigation:!0}},configureHandlers:function(){var n=this,t=n.getContent();t.on("click",$.proxy(n.onPageBreak,n))},onPageBreak:function(n){var t=this,r=$(n.target),i;r.hasClass("control-icon")&&!r.hasClass("ui-state-disabled")&&(i=r.data("type"),i=="forward"?t.currentPage+=1:i=="rewind"?t.currentPage-=1:t.currentPage=i=="fastrewind"?1:t.totalPages,t.pub("notify",{type:"UPDATE-DATATEMPLATE-VIEW",args:t.getModel()}))},clean:function(){var t=this,n=t.getContent();n&&n.empty()}});bizagi.injector.register("bizagi.workportal.widgets.paginator",["workportalFacade","dataService",bizagi.workportal.widgets.paginator]);
bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.sortbar",{},{init:function(n,t,i,r,u){var f=this;f._super(n,t,u);f.loadTemplates({sortbar:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-wrapper"),content:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content"),"right-content":bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-right"),addButton:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content-add-button"),sortMenu:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-sort-menu"),actions:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content-actions"),recordsPerPage:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-records-per-page"),recordsMenu:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-records-menu")});f.processActionService=i;f.accumulatedcontext=r},renderContent:function(){var n=this,t=n.getTemplate("sortbar");return n.content=t.render({enableFilter:!0}),n.$checkAll=n.content.find(".sortbar-left-check-uncheck input"),n.content},postRender:function(){var n=this,t=n.getTemplate("right-content");n.configureHandlers();$(".sortbar-right",n.content).append(t.render());n.configureAfterPaintHandlers()},configureHandlers:function(){var n=this,t=n.getContent();n.sub("TEMPLATEENGINE-VIEW",$.proxy(n.initializeAndProcessFilterButton,n));n.sub("SEARCH-ENGINE-VIEW",$.proxy(n.initializeAndProcessFilterButton,n));n.sub("SET-FILTERS-DATA",$.proxy(n.setFiltersSortData,n));n.sub("HIDE-FILTER-BUTTONANDBAR",$.proxy(n.hideFilterButtonAndBar,n));n.sub("HIDE-SORT-BUTTONS",$.proxy(n.hideSortButtons,n));n.sub("ENABLE-BATCHS-ACTIONS",function(t,i){return n.enableBatchActions(i)});n.sub("UPDATE-COUNTER-FILTERS-APPLIED",function(t,i){return n.updateCounterByFilterApplied(i)});n.sub("CASES-TEMPLATE-VIEW",function(){n.showingFiltering=!1;n.setVisibleCheckAll(!1)});n.sub("SOME-ITEM-ALLOW-SELECT",function(){n.setVisibleCheckAll(!0)});t.find(".wgd-sortbar-add-button").tooltip();n.$checkAll.on("click",$.proxy(n.onCheckUncheck,n))},configureAfterPaintHandlers:function(){var n=this,t=n.getContent();t.find(".right-menu").on("click",function(t){n.showSortMenu(t,$(this))});t.find(".records-menu").on("click",function(t){n.showRecordsMenu(t,$(this))});t.find(".sortbar-az").on("click",function(){n.sortSelection.attribute&&(n.setIconSortType($(this),n._sortType),n.pub("notify",{type:"SET-ORDERBY",args:{properties:{xpath:n.sortSelection.attribute,orderType:n._sortType,typeSearch:"none"}}}))});t.find(".filter-icon").on("click",function(){n.pub("notify",{type:"OPENCLOSE-MYSEARCHFILTER",args:{guidSearch:n.params.guidSearch,target:$(this)}})});$(".remove-selected-items-collections",t).on("click",$.proxy(n.onRemoveSelectedItemsCollections,n))},behaviorVisibleSortbar:function(){var n=this;n.showingFiltering||n.showingSorting||n.showingCheckAll||n._haveAddButton?n.setVisibleSortbar(!0):n.setVisibleSortbar(!1)},setVisibleSortbar:function(n){var i=this,t=i.getContent();n?t.show():t.hide()},setVisibleCheckAll:function(n){var t=this;n?(t.$checkAll.closest(".border-check-uncheck").show(),t.showingCheckAll=!0):(t.$checkAll.closest(".border-check-uncheck").hide(),t.showingCheckAll=!1);t.behaviorVisibleSortbar()},showSelectedItems:function(n){var t=this,i;n&&n>0?(t.content.addClass("there-are-actions"),i=t.getResource("workportal-general-word-selected-singular"),n>1&&(i=t.getResource("workportal-general-word-selected-plural")),$(".actions-count-selected",t.content).text(n+" "+i+" ")):t.content.removeClass("there-are-actions")},setIconSortType:function(n,t){var i=this;t==="asc"?(i._sortType="desc",n.removeClass("bz-icon-order-ascendant-outline").addClass("bz-icon-order-descendant-outline")):(i._sortType="asc",n.removeClass("bz-icon-order-descendant-outline").addClass("bz-icon-order-ascendant-outline"))},onClickBatchAction:function(n){var t=this,i=$(n.target).closest("li"),r=i.data("guid"),u=t.getAction(r);t.requestsInProgressActionGuid[r]||(t.requestsInProgressActionGuid[r]=!0,t.addLoadingButtonAction(i),$.when(t.processActionService.executeBatchAction({action:u,commonActionsmodel:t.commonActionsmodel})).always(function(){i.find(".wdg-tple-button").removeClass("state-loading");i.find(".ui-bizagi-loading-button").remove();i.find("i").show();t.requestsInProgressActionGuid[r]=undefined}))},addLoadingButtonAction:function(n){n.find(".wdg-tple-button").addClass("state-loading");n.find(".wdg-tple-button").prepend('<div class="ui-bizagi-loading-icon ui-bizagi-loading-button"><\/div>').find("i").hide()},onRemoveSelectedItemsCollections:function(){var n=this,t=n.pub("notify",{type:"SET-VALUES",args:{value:!1}})[0];n.enableBatchActions({args:{commonActions:t}})},showSortMenu:function(n,t){var i=this,u=i.getContent(),f=i.getTemplate("sortMenu"),r=f.render({filters:i._filters},{displayValue:function(n){return n}});$(".sortbar-box-menu",t).length&&$(".sortbar-box-menu",t).remove();t.append(r);r.show("fast",function(){r.click(function(n){n.stopPropagation()});$(document).one("click",function(){r.hide("fast");r.remove()})});u.find(".sortbar-option").on("click",function(n){var e=$(n.currentTarget).data(),f=i._filters[e.index];u.find(".sortbar-az").removeClass("disabled");i.sortSelection!=f&&(i.sortSelection=f,$(".sortbar-selected",t).text(i.sortSelection.display.split(".").pop()),i.pub("notify",{type:"SET-ORDERBY",args:{properties:{xpath:f.attribute,orderType:i._sortType,typeSearch:"none"}}}));r.hide("fast")})},showRecordsMenu:function(n,t){var r=this,u=r.getContent(),f=r.getTemplate("recordsMenu"),i=f.render({});$(".sortbar-records-box-menu",t).length&&$(".sortbar-records-box-menu",t).remove();t.append(i);i.show("fast",function(){i.click(function(n){n.stopPropagation()});$(document).one("click",function(){i.hide("fast");i.remove()})});u.find(".sortbar-records-option").on("click",function(){var n=Number(bizagi.util.trim(this.textContent));$(".sortbar-records-selected",t).text(n);r.pub("notify",{type:"SET-RECORDS",args:{pageSize:n}});i.hide("fast")})},initializeAndProcessFilterButton:function(n,t){var i=this;i.showingFiltering=!1;i.setVisibleCheckAll(!1);i.restoreOrderSelected();i.setIconSortType($(".sortbar-az",i.content),"desc");i.params=t.args;i.sortSelection={};i.processAddButton(n,t)},processAddButton:function(n,t){var i=this,f=i.getContent(),u=t.args,e=u.action,r=f.find(".sortbar-left .add-button");i._lastReferenceEntity=u.reference;r.children().remove();$(".wrapper-sortbar-actions",f).remove();i._haveAddButton=!1;u.reference&&u.referenceType!=="ENTITY"?(r.startLoading({delay:0,overlay:!0}),i.dataService.getProcessAddAction(t).done(function(n){i._lastReferenceEntity===n.referenceEntity&&typeof n!="undefined"&&Object.getOwnPropertyNames(n).length>1&&n.guidEntity&&n.id&&i.renderButton(r,n)}).always(function(){r.endLoading()})):e&&i.renderButton(r,e)},renderButton:function(n,t){var i=this,u=i.getTemplate("addButton"),r=u.render({action:t});n.empty();r.appendTo(n);i._haveAddButton=!0;i.behaviorVisibleSortbar();r.on("click",function(){i.clickAddButton(t)})},clickAddButton:function(n){var t=this;$.when(t.dataService.getMapping({guidEntity:n.guidEntity,accumulatedContext:t.accumulatedcontext.getContext({}),xpathContext:n.type==="Process"?n.xpathContext:""})).done(function(i){if(n.type==="Process")t.onExecuteProcess(n,i);else t.onExecuteForm(n,i)})},onCheckUncheck:function(n){var t=this,i=$(n.target),r=i.is(":checked"),u=t.pub("notify",{type:"SET-VALUES",args:{value:r}})[0];t.enableBatchActions({args:{commonActions:u}})},enableBatchActions:function(n){var t=this,u=n.args,i=t.commonActionsmodel=u.commonActions,r=t.validActions(i.actions);(r.length>0||t._haveAddButton)&&$(t.getContent()).show();t.showBatchActions(r,i,"batchAction");i.checkAll!==undefined&&t.$checkAll.prop("checked",i.checkAll)},showBatchActions:function(n,t,i){var r=this,f=r.getContent(),o=r.getTemplate("actions"),u,e;r.showSelectedItems(Object.keys(t.itemsSelected).length);u=n.slice(3,9999);e=o.render({actions:n.slice(0,3),moreActions:u,typeActions:i});$(".wdg-tple-button.batchAction",r.content).off("click",$.proxy(r.onClickBatchAction,r));$(".wrapper-sortbar-actions",f).remove();$(".sortbar-left .sortbar-menu",f).append(e);$(".wdg-tple-button.batchAction",r.content).on("click",$.proxy(r.onClickBatchAction,r));u.length>0&&(r.content.data("ui-tooltip")&&$(r.content).tooltip("destroy"),$(r.content).tooltip({tooltipClass:"sortbar-tooltip-more-actions",items:".bz-actions-showmore",content:$(".template-box-tooltip",r.content).html(),open:function(n,t){var i,f,u,e;$(".wdg-tple-button.batchAction",t.tooltip).on("click",$.proxy(r.onClickBatchAction,r));if(i=$("div.ui-tooltip"),typeof n.originalEvent=="undefined")return i.remove(),!1;f=$(t.tooltip).attr("id");i.not("#"+f).remove();for(u in r.requestsInProgressActionGuid)r.requestsInProgressActionGuid[u]&&(e=$("li[data-guid='"+u+"']",t.tooltip),r.addLoadingButtonAction(e))},close:function(n,t){t.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(".wdg-tple-button.batchAction",this).off("click",$.proxy(r.onClickBatchAction,r));$(this).remove()})})}}))},setFiltersSortData:function(n,t){var i=this,u=t.args.filtersAppliedCounter,o=t.args.totalRecords;if(i._filters=t.args.calculateFilters?t.args.filters:i._filters,t.args.calculateFilters){for(var s=-1,r,f=0,e=0;r=i._filters[++s];)r.type!="Text"&&r.type!=="Link"&&r.data&&(r.data.defaultValues&&r.data.defaultValues.length>0||r.data.min&&r.data.max)&&f++,r.display!==""&&e++;o>0?(f>0?i.showFilterButton():i.hideFilterButton(),e>0?i.showSortButtons():i.hideSortButtons()):u===0&&(i.hideFilterButton(),i.hideSortButtons())}i.updateCounter(u)},showFilterButton:function(){var n=this;$(".filter-icon",n.getContent()).show()},hideFilterButton:function(){var n=this;$(".filter-icon",n.getContent()).hide();n.showingFiltering=!1;n.behaviorVisibleSortbar()},showSortButtons:function(){var n=this;$(".sortbar-text",n.getContent()).show();$(".sortbar-icon",n.getContent()).show();$(".sortbar-az",n.getContent()).show();n.showingSorting=!0;n.showingFiltering=!0;n.behaviorVisibleSortbar()},hideSortButtons:function(){var t=this,n=$(".sortbar-az",t.getContent());$(".sortbar-text",t.getContent()).hide();n.addClass("disabled");n.removeClass("bz-icon-order-ascendant-outline");n.removeClass("bz-icon-order-descendant-outline");n.addClass("bz-icon-order-ascendant-outline");n.hide();t.showingSorting=!1;t.behaviorVisibleSortbar()},restoreOrderSelected:function(){var n=this;$(".sortbar-selected",n.getContent()).text(n.getResource("workportal-my-search-order-by"))},updateCounterByFilterApplied:function(n){var t=this;n.args.filtersApplied&&t.updateCounter(n.args.filtersApplied.length)},updateCounter:function(n){var i=this,r=i.getContent(),t=$(".counter-filters-applied",r);n>0?(t.html(n),t.show()):t.hide()},hideFilterButtonAndBar:function(){var n=this;n.showingFilter=!1;$(".filter-icon",n.getContent()).hide();n.pub("notify",{type:"CLOSE-MYSEARCHFILTER",args:{show:!1,$target:null}})},onExecuteProcess:function(n,t){var i=this;n.startForm&&(n.hasStartForm=n.startForm);$.when(i.processActionService.executeProcessAction({action:n,mappingData:t})).done(function(){i.loadTemplateData(n)})},loadTemplateData:function(n){var t=this;t.pub("notify",{type:"TEMPLATEENGINE-VIEW",args:{action:n,isRefresh:!0}})},onExecuteForm:function(n,t){var i=this;$.when(i.processActionService.executeFormAction({action:n,mappingData:t})).done(function(t){t.refresh&&i.pub("notify",{type:"UPDATE-DATATEMPLATE-VIEW",args:{action:n,isRefresh:!0,calculateFilters:!0}})})},getAction:function(n){var t=this;return t.commonActionsmodel.actions.filter(function(t){return t.id==n})[0]},validActions:function(n){return $.grep(n,function(n){return n.multiplicity==2?!0:n.mode=="Collection"?!1:n.type=="Form"?!1:n.isEvent?!1:n.type=="Process"&&n.hasStartForm?!1:!0})},clean:function(){var n=this,t=n.getContent();n.requestsInProgressActionGuid={};t&&(n.unsub("TEMPLATEENGINE-VIEW"),n.unsub("ENABLE-BATCHS-ACTIONS"),n.unsub("SEARCH-ENGINE-VIEW"),n.unsub("SET-FILTERS-DATA"),n.unsub("HIDE-FILTER-BUTTONANDBAR"),n.unsub("HIDE-SORT-BUTTONS"),n.$checkAll.off("click"),t.find(".right-menu").off("click"),t.find(".sortbar-az").off("click"),t.find(".filter-icon").off("click"),t.find(".sortbar-action").off("click"),$(".wdg-tple-button.batchAction",t).off("click",$.proxy(n.onClickBatchAction,n)),$(".remove-selected-items-collections",t).off("click",$.proxy(n.onRemoveSelectedItemsCollections,n)))}});bizagi.injector.register("bizagi.workportal.widgets.sortbar",["workportalFacade","dataService","processActionService","accumulatedcontext",bizagi.workportal.widgets.sortbar]);
bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.mysearchfilter",{init:function(n,t,i,r){var u=this;u.params={};u._super(n,t,r);u.loadTemplates({mysearchfilter:bizagi.getTemplate("bizagi.workportal.desktop.widget.mysearchfilter").concat("#mysearchfilter-wrapper"),"mysearchfilter-item":bizagi.getTemplate("bizagi.workportal.desktop.widget.mysearchfilter").concat("#mysearchfilter-item")}).done(function(){u.filterItem=u.getTemplate("mysearchfilter-item")});u.processActionService=i;u.filtersApplied=[];u.filters=[]},renderContent:function(){var n=this;return n.content=n.getTemplate("mysearchfilter").render({}),n.content.hide(),n.content},postRender:function(){var n=this;n.configureHandlers()},initializeMySearchFilter:function(n,t){var i=this,r=i.getContent();i.criteriaSearchApplied=t.args.filters?bizagi.clone(t.args.filters):[];i.filtersApplied=[];i.filterControlArray=[];i.orderBy={};$(".mysearchfilter-list",r).empty()},configureHandlers:function(){var n=this;n.sub("TEMPLATEENGINE-VIEW",$.proxy(n.initializeMySearchFilter,n));n.sub("SEARCH-ENGINE-VIEW",$.proxy(n.initializeMySearchFilter,n));n.sub("OPENCLOSE-MYSEARCHFILTER",$.proxy(n.toggleWidget,n));n.sub("CLOSE-MYSEARCHFILTER",$.proxy(n.openCloseWidget,n));n.sub("SET-FILTERS-DATA",$.proxy(n.setFiltersData,n));n.sub("SET-ORDERBY",$.proxy(n.setOrderBy,n));n.sub("SET-RECORDS",$.proxy(n.setRecordsPerPage,n))},setFiltersData:function(n,t){var r=this,s,c,f,u,i,o;if(t.args.defaultFilterApplied&&(t.args.filtersApplied=t.args.filtersApplied||[],s=t.args.filtersApplied.filter(function(n){return typeof n.properties!="undefined"}),r.filtersApplied=s),t.args.calculateFilters){for(var l=r.getContent(),a=$(".mysearchfilter-list",l),e=t.args.filters,v=t.args.filtersAppliedCounter,u=-1,i,h=0;i=e[++u];)if(i.type!="Text"&&i.type!=="Link"&&i.data&&(i.data.defaultValues&&i.data.defaultValues.length>0||i.data.min&&i.data.max)){h++;break}if(t.args.totalRecords===0&&v===0?r.openCloseWidget({show:!1}):h===0?r.openCloseWidget({show:!1}):r.openCloseWidget({show:!0}),r.filterControlArray&&r.filterControlArray.length===0)for(u=-1;i=e[++u];)i.tmplid=i.attribute.replace(".","-"),c=r.filtersApplied.filter(function(n){return n.properties.type===i.type.toLowerCase()&&n.properties.xpath===i.tmplid}),i.filterApplied=c.length>0?"filter-applied":"",f=r.filterItem.render(i),i.type!=="Text"&&i.type!=="Link"&&i.data&&(i.data.defaultValues&&i.data.defaultValues.length>0||i.data.min&&i.data.max)&&(a.append(f),r.buildFilter(f,i),i.filterApplied==="filter-applied"&&$(".remove-filter",f).show());else if(r.filterControlArray&&r.filterControlArray.length>0)for(u=-1;i=r.filterControlArray[++u];)o=e.find(function(n){return n.attribute===i.xpath}),o&&r.setFilterData(i,o)}$(".filters-loading",r.content).hide()},toggleWidget:function(n,t){var i=this,r=i.getContent(),u=r.is(":visible");i.openCloseWidget({show:!u,$target:t.args.target})},openCloseWidget:function(n){var r=this,t=r.getContent(),i=n.$target||$("<div>");n.show?(i.addClass("opened"),t.show()):(i.removeClass("opened"),t.hide(),$("button#ui-bizagi-cancel-filter").click())},buildFilter:function(n,t){var i=this;switch(t.type){case"Entity":i.buildFilterMultiple(n,t);break;case"Number":i.buildFilterNumber(n,t);break;case"Money":i.buildFilterMoney(n,t);break;case"Datetime":i.buildFilterDate(n,t);break;case"Boolean":i.buildFilterBoolean(n,t)}},setFilterData:function(n,t){switch(n.type){case"Entity":n.widget.multiple("setData",t.data);break;case"Number":n.widget.number("setData",t.data);break;case"Money":n.widget.money("setData",t.data);break;case"Datetime":n.widget.dateFilter("setData",t.data);break;case"Boolean":n.widget.booleanFilter("setData",t.data)}},buildFilterMoney:function(n,t){var i=this,r=n.money({showButtonClearFilter:!0,numericFormat:i.getResource("numericFormat"),properties:t,data:t.data,onApply:function(n){i.addFilterSelection(n);i.triggerFilter({calculateFilters:!0})},onClear:function(n){i.removeFilterApplied(n);i.triggerFilter({calculateFilters:!0})},getResource:function(n){return bizagi.localization.getResource(n)}});i.filterControlArray.push({type:t.type,xpath:t.attribute,widget:r})},buildFilterNumber:function(n,t){var i=this,r=n.number({showButtonClearFilter:!0,numericFormat:i.getResource("numericFormat"),properties:t,data:t.data,onApply:function(n){n.length!==0&&(i.addFilterSelection(n),i.triggerFilter({calculateFilters:!0}))},onClear:function(n){i.removeFilterApplied(n);i.triggerFilter({calculateFilters:!0})},getResource:function(n){return bizagi.localization.getResource(n)}});i.filterControlArray.push({type:t.type,xpath:t.attribute,widget:r})},buildFilterDate:function(n,t){var i=this,r=n.dateFilter({showButtonClearFilter:!0,properties:t,onApply:function(n){i.addFilterSelection(n);i.triggerFilter({calculateFilters:!0})},onClear:function(n){i.removeFilterApplied(n);i.triggerFilter({calculateFilters:!0})},getResource:function(n){return i.getResource(n)}});i.filterControlArray.push({type:t.type,xpath:t.attribute,widget:r})},buildFilterMultiple:function(n,t){var i=this,r=n.multiple({showButtonClearFilter:!0,properties:t,data:t.data,onApply:function(n){i.addFilterSelection(n);i.triggerFilter({calculateFilters:!0})},onClear:function(n){i.removeFilterApplied(n);i.triggerFilter({calculateFilters:!0})},getResource:function(n){return bizagi.localization.getResource(n)}});i.filterControlArray.push({type:t.type,xpath:t.attribute,widget:r})},buildFilterBoolean:function(n,t){var i=this,r=n.booleanFilter({showButtonClearFilter:!0,properties:t,data:t.data,onApply:function(n){i.addFilterSelection(n);i.triggerFilter({calculateFilters:!0})},onClear:function(n){i.removeFilterApplied(n);i.triggerFilter({calculateFilters:!0})},getResource:function(n){return bizagi.localization.getResource(n)}});i.filterControlArray.push({type:t.type,xpath:t.attribute,widget:r})},addFilterSelection:function(n){var i=this,t,r;for($(".filters-loading",i.content).show(),t=0,r=n.length;t<r;t++)i.removeFilterApplied([n[t].properties.xpath]),i.filtersApplied.push(n[t])},removeFilterApplied:function(n){var t=this,r,u,i;for($(".filters-loading",t.content).show(),r=-1;u=n[++r];)i=t.filtersApplied.find(function(n){return n.properties.xpath===u}),i&&t.filtersApplied.splice(t.filtersApplied.indexOf(i),1)},setOrderBy:function(n,t){var i=this;i.orderBy=t.args;i.triggerFilter({calculateFilters:!1})},setRecordsPerPage:function(n,t){var i=this;i.triggerFilter({calculateFilters:!1,pageSize:t.args&&t.args.pageSize})},triggerFilter:function(n){for(var t=this,i=t.criteriaSearchApplied?bizagi.clone(t.criteriaSearchApplied):[],e=i.length,o=t.filtersApplied.slice(),s=-1,r,u,f;r=o[++s];)t.dataService.defineFilterObject(r,i);u=i.length-e;t.orderBy.properties&&t.dataService.defineFilterObject(t.orderBy,i);f={type:"UPDATE-DATATEMPLATE-VIEW",args:{filters:i,page:1,level:1,calculateFilters:n.calculateFilters||!1,defaultFilterApplied:!1,typeSearch:"filter",filtersAppliedCounter:u,pageSize:n.pageSize||10}};t.pub("notify",f)}});bizagi.injector.register("bizagi.workportal.widgets.mysearchfilter",["workportalFacade","dataService","processActionService",bizagi.workportal.widgets.mysearchfilter],!1);
