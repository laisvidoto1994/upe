bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.reports",{},{getWidgetName:function(){return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS},init:function(n,t,i){var r=this;r._super(n,t,i)},renderContent:function(){var n=this,t=n.getTemplate("reports");return n.content=$.tmpl(t)}});
bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.reportsMenu",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.endPoint=["Reports","BAMProcess","BAMTask","AnalyticsProcess","AnalyticsTask","AnalyticsSensor","ResourceBAM"];r.reportsMenu=r.getRawReportsJSON()},getWidgetName:function(){return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU},renderContent:function(){var n=this,t=n.getTemplate("reportsMenu-container");return n.content=$.tmpl(t)},getRawReportsJSON:function(){var n=this;return{Reports:[{displayName:n.resources.getResource("workportal-menu-submenu-BAMMenu"),icon:"bz-icon-folder-outline",show:function(){return bizagi.menuSecurity.BAMProcess||bizagi.menuSecurity.BAMTask||bizagi.menuSecurity.BAMResourceMonitor?!0:!1},endPoint:"",subItems:"BAM"},{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsMenu"),icon:"bz-icon-folder-outline",show:function(){return bizagi.menuSecurity.AnalyticsProcess||bizagi.menuSecurity.AnalyticsTask?!0:!1},endPoint:"",subItems:"Analytics"},{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsSensor"),show:bizagi.menuSecurity.AnalyticsSensor,icon:"AnalyticsSensor bz-icon-rules",endPoint:"AnalyticsSensor",subItems:[]}],BAM:[{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsProcess"),show:bizagi.menuSecurity.BAMProcess,icon:"BAMProcess bz-icon-cogs",endPoint:"BAMProcess",subItems:[]},{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsTask"),show:bizagi.menuSecurity.BAMTask,icon:"BAMTask bz-icon-sheet-pencil",endPoint:"BAMTask",subItems:[]},{displayName:n.resources.getResource("workportal-menu-submenu-BAMResourceMonitor"),show:bizagi.menuSecurity.BAMResourceMonitor,icon:"BAMResourceMonitor bz-icon-user-manage",endPoint:"ResourceBAM",subItems:[]}],Analytics:[{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsProcess"),show:bizagi.menuSecurity.AnalyticsProcess,icon:"AnalyticsProcess bz-icon-cogs",endPoint:"AnalyticsProcess",subItems:[]},{displayName:n.resources.getResource("workportal-menu-submenu-AnalyticsTask"),show:bizagi.menuSecurity.AnalyticsTask,icon:"AnalyticsTask bz-icon-sheet-pencil",endPoint:"AnalyticsTask",subItems:[]}],AnalysisQuery:[]}}});
bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.reportsChart",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.endPoint=bizagi.reporting[i.endPoint];r.endPoint.defaultReport=i.defaultReport||r.endPoint.defaultReport;r.filters=i.filters||{};r.myTeam=[]},getWidgetName:function(){return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART},renderContent:function(){var n=this,t=n.getTemplate("reportsChart"),i=n.content=$.tmpl(t,n.endPoint);return typeof n.endPoint.callBack!="undefined"&&n[n.endPoint.callBack](),i},loadReportingModule:function(){var i=this,n=bizagi.loader,t=new $.Deferred;return n.init(function(){n.start("reporting").then(function(){i.reportingModule=new bizagi.reporting.facade({proxyPrefix:typeof bizagi.proxyPrefix!="undefined"?bizagi.proxyPrefix:""});t.resolve()})}),t},myTeamCallBack:function(){var n=this;return $.when(n.dataService.getDataForMyTeam()).done(function(t){var i=$("li[data-report='bamresourcemonitorworkinprogressteam']",n.content);t.items.length?n.myTeam=t:i.css("display","none")})}});
bizagi.workportal.widgets.reports.extend("bizagi.workportal.widgets.reports",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.loadTemplates({reports:bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports"),"reports-elements":bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports-elements"),"reports-empty-elements":bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports-empty-elements"),"reports-query-tree":bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports-query-tree"),"reports-query-confirm":bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports-confirm"),"reports-query-edit":bizagi.getTemplate("bizagi.workportal.desktop.widget.reports").concat("#ui-bizagi-workportal-widget-reports-edit"),useNewEngine:!1})},postRender:function(){var n=this;n.configureTreeNavigation();n.configureBackButton();n.renderReports();n.scrollVertical({autohide:!1})},getReports:function(n){var t=this,i=new $.Deferred,r=n.idElement||0;return $.when(t.getAnalisysQueries()).done(function(n){var u=[],f=[],e=[],o;bizagi.menuSecurity.BAMProcess&&f.push({idElement:2,displayName:t.resources.getResource("workportal-menu-submenu-BAMProcess"),icon:"BAMProcess",endPoint:"BAMProcess",childs:[]});bizagi.menuSecurity.BAMTask&&f.push({idElement:3,displayName:t.resources.getResource("workportal-menu-submenu-BAMTask"),icon:"BAMTask",endPoint:"BAMTask",childs:[]});bizagi.menuSecurity.BAMResourceMonitor&&f.push({idElement:4,displayName:t.resources.getResource("workportal-menu-submenu-BAMResourceMonitor"),icon:"BAMResourceMonitor",endPoint:"ResourceBAM",childs:[]});f.length>0&&u.push({idElement:1,displayName:t.resources.getResource("workportal-menu-submenu-BAMMenu"),icon:"",endPoint:"",childs:f});bizagi.menuSecurity.AnalyticsProcess&&e.push({idElement:11,displayName:t.resources.getResource("workportal-menu-submenu-AnalyticsProcess"),icon:"AnalyticsProcess",endPoint:"AnalyticsProcess",childs:[]});bizagi.menuSecurity.AnalyticsTask&&e.push({idElement:12,displayName:t.resources.getResource("workportal-menu-submenu-AnalyticsTask"),icon:"AnalyticsTask",endPoint:"AnalyticsTask",childs:[]});e.length>0&&u.push({idElement:10,displayName:t.resources.getResource("workportal-menu-submenu-AnalyticsMenu"),icon:"",endPoint:"",childs:e});bizagi.menuSecurity.AnalyticsSensor&&u.push({idElement:13,displayName:t.resources.getResource("workportal-menu-submenu-AnalyticsSensor"),icon:"AnalyticsSensor",endPoint:"AnalyticsSensor",childs:[]});bizagi.menuSecurity.AnalysisQueries&&n.length>0&&u.push({idElement:20,displayName:t.resources.getResource("workportal-menu-submenu-AnalysisQueries"),icon:"",endPoint:"",childs:n});o=function(n,t){var i;return n?$.each(t,function(t,r){if(typeof i=="undefined")if(r.idElement==n)i=r.childs;else return o(n,r.childs)}):i=t,i||{}};i.resolve(o(r,u))}),i.promise()},getAnalisysQueries:function(){var i=this,n=[],r=100,t=new $.Deferred;return $.when(i.dataService.getAnalisysQueries()).done(function(i){$.each(i.queries,function(t,i){n.push({idElement:r++,displayName:i.name||"",icon:"",endPoint:i.reportSet,extraArgs:"?idUserQuery="+i.idQuery,activeEdit:!0,description:i.description,idQuery:i.idQuery,childs:[]})});t.resolve(n)}),t.promise()},renderReports:function(n,t){var i=this,e=i.getContent(),o=i.getTemplate("reports-elements"),s=i.getTemplate("reports-empty-elements"),u=$("#reports",e),f,r;$.when(i.getReports({idElement:n})).done(function(e){u.empty();e=e||{};e.length>=1?(r=t!=undefined?$.merge(t,e):e,f=$.tmpl(o,{nodes:r,idParentQuery:n},{checkChildNode:i.checkChildNode})):f=$.tmpl(s,{nodes:r,idParentQuery:n});f.appendTo(u);i.configureNavTree(u)})},jsInjection:function(n,t){var u=this,r,i={title:t};return r=function(n){this.openModalWindow=function(t){var i=this.ownerDocument,r=function(n){this.openBACase=function(t,i){n.bizagi.workportal.desktop.popup.closePopupInstance();n.controller.publish("closeCurrentDialog");var r=null;i.indexOf("idWorkitem=")>-1&&(r=i.substring(i.indexOf("idWorkitem=")+11),r=r.substring(0,r.indexOf("&")));n.controller.publish("executeAction",{action:n.routingAction,idCase:t,idWorkItem:r});n.controller.publish("closeCurrentDialog")};this.buttonCancel_onclick=function(){n.controller.publish("closeCurrentDialog")};this.CloseParentDialog=function(){n.controller.publish("closeCurrentDialog")}};n.controller.publish("showDialogWidget",{widgetName:n.genericIframe,widgetURL:"App/Cockpit/"+t,injectCss:[".ui-bizagi-old-render*","@font-face"],modalParameters:{title:"Bizagi"},afterLoad:r,afterLoadParams:{routingAction:n.bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,genericIframe:n.bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,bizagi:n.bizagi,doc:i}})}},i=$.extend(i,{routingAction:bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,genericIframe:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,bizagi:bizagi}),{callback:r,params:i}},configureNavTree:function(n){var t=this,i=t.getTemplate("reports-query-confirm"),r=t.getTemplate("reports-query-tree");$(".reportsListDisplay",n).click(function(){var n=$(this).data("endpoint"),f=$(this).data("id-element"),i=$(this).data("displayname"),e=$(this).data("maximized")||!1,o=$(this).data("extra-args"),s=$("#categoryTree"),h=t.dataService.serviceLocator.getUrl(n)+o,u;if(n=="")t.renderReports(f),$.tmpl(r,{idElement:f,queryDisplayName:i}).appendTo(s),t.configureTreeNavigation();else{if(t.currentPopup=="reports"){bizagi.workportal.desktop.popup.closePopupInstance();return}if(u=t.jsInjection(t.dataService.serviceLocator.getUrl(n),i),t.currentPopup="reports",t.publish("showDialogWidget",{widgetName:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,widgetURL:h,maximized:e,modalParameters:{title:i,id:n},afterLoad:u.callback,afterLoadParams:u.params}),t.params.widgetName=="reports"){bizagi.workportal.desktop.popup.closePopupInstance();return}}});$(".editButton").click(function(n){n.stopPropagation();t.editFolder($(this).parents("ul"));bizagi.workportal.desktop.popup.closePopupInstance()});$(".deleteButton").click(function(n){n.stopPropagation();var r=$(this).parents("ul").data("idquery"),u=$.tmpl(i);$(u).dialog({resizable:!0,modal:!0,title:t.getResource("workportal-widget-reports-confirm-title"),buttons:[{text:t.getResource("workportal-widget-reports-confirm-delete"),click:function(){t.dataService.deleteQueries(r);$(this).dialog("close");bizagi.workportal.desktop.popup.closePopupInstance()}},{text:t.getResource("workportal-widget-reports-confirm-cancel"),click:function(){$(this).dialog("close")}}]})})},configureBackButton:function(){var n=this,t=n.getContent(),r=$("#bt-back",t),i=$("#categoryTree",t);r.click(function(){if($("li",i).length>1){$("li:last-child",i).remove();var t=$("li:last-child").children("#idParent").val();n.renderReports(t)}})},configureTreeNavigation:function(){var n=this,t=n.getContent(),i=$("#categoryTree",t);$("li:last-child",i).click(function(){$(this).nextAll().remove();var t=$(this).data("id-element");n.renderReports(t)})},scrollVertical:function(){var n=this,t=n.getContent();$("#reports",t).bizagiScrollbar({autohide:!1})},editFolder:function(n){var t=this,i=bizagi.util.trim($(n).find("h3").html()),r=bizagi.util.trim($(".newCaseDescription",n).html()),u=$(n).data("idquery"),f=t.getTemplate("reports-query-edit"),e=$.tmpl(f,{name:i,description:r,idQuery:u});e.dialog({resizable:!0,modal:!0,title:t.getResource("workportal-widget-reports-confirm-edit-title"),buttons:[{text:t.getResource("workportal-widget-reports-confirm-save"),click:function(){var n=$("#namequery",this).val(),i=$("#querydescripcion",this).val(),r=$(this).data("idquery");t.dataService.updateQueries({queryName:n,queryDescription:i,idQuery:r});$(this).dialog("close");bizagi.workportal.desktop.popup.closePopupInstance()}},{text:t.getResource("workportal-widget-reports-confirm-cancel"),click:function(){$(this).dialog("close")}}]})}});
bizagi.workportal.widgets.reportsMenu.extend("bizagi.workportal.widgets.reportsMenu",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.loadTemplates({"reportsMenu-container":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-container"),"reportsMenu-items":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-items"),"reportsMenu-itemsdata":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-itemsdata"),"reportsMenu-tree":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-tree"),"reportsMenu-noitems":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-noitems"),"reportsMenu-edition":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-edition"),"reportsMenu-vldmessage":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-vldnmessage"),"reportsMenu-delete":bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsMenu").concat("#ui-bizagi-workportal-widget-reportsmenu-delete"),useNewEngine:!1})},postRender:function(){var n=this;$.when(n.buildAnalysisJSON()).done(function(){n.renderReportsMenu("Reports")});n.eventsHandler()},getAnalysisQueries:function(){var n=this,t=[],i=new $.Deferred;return $.when(n.dataService.getReporstAnalysisQuery()).done(function(r){$.each(r.queries,function(i,r){t.push({displayName:r.name||"",description:r.description||"",icon:"processIco",show:!0,filters:r.filterParameters,endPoint:n.endPoint[r.reportSet],reportSet:r.reportSet,activeEdit:!0,id:r.id,subItems:[]})});i.resolve(t)}),i.promise()},renderReportsMenu:function(n){var t=this,u=t.getContent(),f=t.getTemplate("reportsMenu-items"),e=t.getTemplate("reportsMenu-noitems"),r=$("#bz-wp-widget-reportsmenu-list",u),i=t.reportsMenu[n];i.length?r.html($.tmpl(f,{elements:i})):r.html($.tmpl(e,{elements:i}))},buildAnalysisJSON:function(){var n=this,t=$.Deferred();return $.when(n.getAnalysisQueries()).pipe(function(i){bizagi.menuSecurity.AnalysisQueries&&i.length>0&&(n.reportsMenu.AnalysisQuery=i,n.reportsMenu.Reports.push({displayName:n.resources.getResource("workportal-menu-submenu-AnalysisQueries"),show:!0,icon:"",endPoint:"",subItems:"AnalysisQuery"}));t.resolve()}),t.promise()},eventsHandler:function(){var n=this,t=n.getContent(),i=$("#bz-wp-widget-reportsmenu-list",t);i.on("click","li.bz-wp-widget-reportsmenu-readmode",function(t){t.stopPropagation();var i=$(this),r=i.data("subitems"),u=i.data("displayname"),f=i.data("endpoint"),e=i.find(".bz-wp-widget-reportsmenu-itemactions").data("id");n.execSelectedItem(e,r,f);n.buildNavTree(u,r)});i.on("click",".bz-wp-widget-reportsmenu-action",function(t){t.stopPropagation();t.preventDefault();var i=$(this).closest("li.bz-wp-widget-reportsmenu-item"),r=$(this).closest(".bz-wp-widget-reportsmenu-itemactions").data("id");$(this).hasClass("bz-wp-widget-reportsmenu-edit")?n.showReportEdition(r,i):$(this).hasClass("bz-wp-widget-reportsmenu-delete")?n.showDeleteForm(r,i):$(this).hasClass("bz-wp-widget-reportsmenu-cancel")?n.cancelReportAction(r,i):$(this).hasClass("bz-wp-widget-reportsmenu-applyedition")?n.applyReportEdition(r,i):$(this).hasClass("bz-wp-widget-reportsmenu-applydelete")&&n.deleteReport(r,i)});$("#bz-wp-widget-reportsmenu-navtree",t).on("click","li",function(){$(this).nextAll().remove();var t=$(this).data("path");n.renderReportsMenu(t)})},execSelectedItem:function(n,t,i){var r=this,u;i===""?r.renderReportsMenu(t):(u=n?r.getFiltersById(n):{},r.publish("changeWidget",{widgetName:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART,endPoint:i,filters:u}))},showDeleteForm:function(n,t){var i=this,r=i.getTemplate("reportsMenu-delete"),u=$.tmpl(r,{id:n});t.slideUp("fast",function(){$(this).removeClass("bz-wp-widget-reportsmenu-readmode").addClass("bz-wp-widget-reportsmenu-edition").html(u)});t.slideDown("fast")},deleteReport:function(n,t){var i=this,r=i.getContent(),u="id="+n;$.when(i.dataService.deleteReportData(u)).done(function(u){if(u.status===!0){var f=t.nextAll();f.size()>0?(f.slideUp("fast",function(){t.remove()}),f.slideDown("fast")):t.fadeOut("fast",function(){$(this).remove()});i.reportsMenu.AnalysisQuery=jQuery.grep(i.reportsMenu.AnalysisQuery,function(t){return t.id!==n});i.reportsMenu.AnalysisQuery.length||(i.reportsMenu.Reports.pop(),$("#bz-wp-widget-reportsmenu-navtree li:nth-of-type(1)",r).trigger("click"))}})},buildNavTree:function(n,t){var i=this,r=i.getContent(),u=i.getTemplate("reportsMenu-tree"),f=$.tmpl(u,{displayName:n,path:t});$("#bz-wp-widget-reportsmenu-navtree",r).append(f)},showReportEdition:function(n,t){var i=this,u=i.getTemplate("reportsMenu-edition"),r=i.getReportsData(n),f=$.tmpl(u,{displayName:r[0].displayName,description:r[0].description,id:n});t.slideUp("fast",function(){$(this).removeClass("bz-wp-widget-reportsmenu-readmode").addClass("bz-wp-widget-reportsmenu-edition").html(f)});t.slideDown("fast")},applyReportEdition:function(n,t){var i=this,r=t.find("input, textarea");if(i.validateFormElements(r)){var u=i.getReportsData(n),f=r[0].value,e=r[1].value,o="parameters="+JSON.stringify({id:n,name:f,description:e,reportSet:u[0].reportSet,filterParameters:u[0].filters});$.when(i.dataService.updateReportData(o)).done(function(o){if(o.status!==!0){var s=$(r[0]).siblings(".bz-wp-widget-reportmenu-messagecnt"),h=o.message;i.showValidationMessage(h,s)}else u[0].displayName=f,u[0].description=e,i.cancelReportAction(n,t)})}},validateFormElements:function(n){for(var r,t=this,u=!0,i=0,f=n.length;i<f;i++)r=$(n[i]).siblings(".bz-wp-widget-reportmenu-messagecnt"),t.validateRequired($(n[i]))?t.validateSpecialCharacters($(n[i]))?t.removeValidationMessage(r):(u=!1,t.showValidationMessage(t.getResource("bz-rp-components-customreports-invalidvalue"),r)):(u=!1,t.showValidationMessage(t.getResource("bz-rp-components-customreports-required"),r));return u},showValidationMessage:function(n,t){var i=this,r=i.getTemplate("reportsMenu-vldmessage");t.html($.tmpl(r,{message:n}))},removeValidationMessage:function(n){var t=this;$(".bz-wp-widget-reportmenu-errormsg",n).remove()},validateRequired:function(n){var i=this,t=!0;return n.attr("required")&&n.val()===""&&(t=!1),t},validateSpecialCharacters:function(n){var i=new RegExp(/^[a-zA-Z0-9- ]*$/),t=!0;return i.test(n.val())||(t=!1),t},cancelReportAction:function(n,t){var i=this,r=i.getTemplate("reportsMenu-itemsdata"),u=i.getReportsData(n),f=$.tmpl(r,{element:u[0]});t.slideUp("fast",function(){$(this).addClass("bz-wp-widget-reportsmenu-readmode").removeClass("bz-wp-widget-reportsmenu-edition").html(f)});t.slideDown("fast")},getReportsData:function(n){var t=this,i=t.reportsMenu.AnalysisQuery;return i.filter(function(t){return t.id===n})},getFiltersById:function(n){var t=this,i=t.getReportsData(n);return i[0].filters}});
bizagi.workportal.widgets.reportsChart.extend("bizagi.workportal.widgets.reportsChart",{},{init:function(n,t,i){var r=this;r._super(n,t,i);r.loadTemplates({reportsChart:bizagi.getTemplate("bizagi.workportal.desktop.widget.reportsChart").concat("#ui-bizagi-workportal-widget-reports-chart"),"admin.case.search.quicksearch":bizagi.getTemplate("bizagi.workportal.desktop.widgets.admin.caseSearch").concat("#ui-bizagi-workportal-widget-admin-case-search-quicksearch"),useNewEngine:!1})},postRender:function(){var n=this;n.caseSearch={};$.when(n.loadReportingModule()).done(function(){n.loadReport(n.endPoint.defaultReport,n.endPoint.info);n.eventsHandler()})},eventsHandler:function(){var n=this;$("#reports-menu, li",n.content).on("click",function(){var t=$(this),i=t.data("report");t.siblings().removeClass("ui-bizagi-wp-widget-reports-menu-active");t.addClass("ui-bizagi-wp-widget-reports-menu-active");n.loadReport(i,n.endPoint.info)})},loadReport:function(n,t){var i=this,r=i.endPoint.reports[n].components;$("#reports-canvas",i.content).empty();$.when(i.reportingModule.render({canvas:$("#reports-canvas",i.content),report:n,components:r,info:t,filters:i.filters,myTeam:i.myTeam})).done(function(n){i.attachReportEvents.apply(i,[n])})},attachReportEvents:function(n){var t=this;n.bindWindowResize();n.subscribe("filterChange",function(n,i){t.filters=i});n.subscribe("graphicquery",function(n,i){t.showGraphicQuery(i)});n.subscribe("caseadministration",function(n,i){$.isEmptyObject(t.caseSearch)&&t.initCaseAdministration(i);t.showCaseAdministration(i)});n.subscribe("opencase",function(n,i){t.publish("executeAction",{action:bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,idCase:i.caseData.idCase,idWorkItem:i.caseData.idWorkItem,idTask:i.caseData.idTask})})},initCaseAdministration:function(n){var t=this,i=t.getCaseSearchContent();t.caseSearch=new bizagi.workportal.widgets.admin.caseSearch(t.workportalFacade,t.dataService,$.extend(t.params,{container:n.canvas}));t.caseSearch.loadtemplates();t.caseSearch.setupActivitiesLink=function(){}},showCaseAdministration:function(n){var t=this,i=t.getCaseSearchContent();t.caseSearch.content=i;n.canvas.html(i);t.caseSearch.findResults(n.canvas,{I_radNumber:n.radNumber})},getCaseSearchContent:function(){var n=this,t=n.getTemplate("admin.case.search.quicksearch");return $.tmpl(t)}});
bizagi.reporting||(bizagi.reporting={});bizagi.reporting={BAMProcess:{defaultReport:"bamprocessloadanalysis",info:{reportSet:1},reports:{bamprocessloadanalysis:{components:["filters-processversion","filters-dimension"],resource:"bz-rp-loadanalysis-tab"},bamprocessworkinprogress:{components:["filters-processversion","filters-dimension"],resource:"bz-rp-workinprogress-tab"}}},BAMTask:{defaultReport:"bamtasksworkinprogress",info:{reportSet:2},reports:{bamtasksworkinprogress:{components:["filters-processversion","filters-dimension"],resource:"bz-rp-workinprogress-tab"},bamtaskloadanalysis:{components:["filters-processversion","filters-dimension"],resource:"bz-rp-loadanalysis-tab"}}},AnalyticsProcess:{defaultReport:"analyticsprocesscycletime",info:{reportSet:3},reports:{analyticsprocesscycletime:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-cycletime-tab"},analyticsprocessdurationhistogram:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-durationhistogram-tab"},analyticsprocessactivity:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-processactivity-tab"},analyticsprocessactivationranking:{components:["filters-dimension","filters-time"],resource:"bz-rp-activationranking-tab"},analyticsprocessfrequentspaths:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-frequentspaths-tab"}}},AnalyticsTask:{defaultReport:"analyticstaskcycletime",info:{reportSet:4},reports:{analyticstaskcycletime:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-cycletime-tab"}}},ResourceBAM:{callBack:"myTeamCallBack",defaultReport:"bamresourcemonitorworkinprogress",info:{reportSet:6},reports:{bamresourcemonitorworkinprogress:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-workinprogress-tab"},bamresourcemonitorworkinprogressuser:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-workinprogressuser-tab"},bamresourcemonitorworkinprogressteam:{components:["filters-processversion","filters-dimension","filters-time"],resource:"bz-rp-workinprogressteam-tab"}}},AnalyticsSensor:{defaultReport:"sensors",reports:{sensors:{components:["filters-dimension","filters-time"]}},info:{reportSet:5}}};
