<html>
	<head>
		<meta charset="utf-8">
		<title>D3js Template</title>
		<script src="https://d3js.org/d3.v5.min.js"></script>		 
	</head>
	<body>
		<h1>meu 1 titulo</h1>
		
		<p>meu 1 paragrafo</p>
		<p>meu 2 paragrafo</p>	
		
		<h2>meu 2 titulo</h2>
		
		<svg width="600" height="600">
		
		
		</svg>
		  
		<script type="text/javascript">
  
			//mudando cor e texto de primeira tag de h1	
			d3.select("h1").attr("style","color:blue").text("mudando titulo");		
			
			//mudando cor e texto de primeira tag de  p
			d3.select("p").attr("style","color:red").text("mudando paragrafo");
			
			// mudando cor de TODAS as tag de p
			d3.selectAll("p").attr("style","color:green");	
			
			// criando tag de p e seu texto
			d3.select("body").append("p").text("criando paragrafo");
			
			//criando e substituindo dados da tag h2
			var myData = [10,20,30,40,50];			
			d3.select("body")
				.selectAll("h2") //pegue todas as tags h2
				.data(myData)// pegue os dados da variavel myData e deixe disponivel para usar-la		
				.text(function (d){//pegue o valor do metodo .data(myData) e coloque no texto como abaixo
					return "o valor subistituido é " + d;
				})
				.enter()// pegue os dados que sobraram das tags de h2
				.append("h2") // crie á tag h2 com esses dados que sobraram
				.text(function (d){// visualize os dados da forma abaixo
					return "o valor com tag criada é " + d;
				}); 
			
			//criando coordenadas	
			var dataset = [
				[50000, 20],
				[48000, 90], 
				[12000, 50], 
				[20000, 33], 
				[33000, 95],
				[41000, 12],
				[47500, 44],
				[25000, 67],
				[75000, 21],
				[25000, 88]
			];
			
			//criando escalas			
			var escalaX = d3.scaleLinear()
			.domain([10000,90000])// define o minimo e o maximo que irá poder receber dos dados de forma dinamica
			.range([20,560]);//definindo o tamanho maximo e minimo do eixo de Y(20=2*raio e 560=qualquer valor menor que o tamanho total do svg)
			
			var escalaY = d3.scaleLinear()
			.domain([10,100]) 
			.range([560,20]);// estou definindo 30 pois senão o desenho da bolinha fica cortada porque o raio é 10
			
			// criando escala de cor	
			var escalaCor = d3.scaleLinear()
			.domain([10,100]) 
			.range(["grey","red"]);//variação da cor,  quanto mais perto do minimo grey e quanto mais longe red
			 
			//criação de eixos 
			var eixoX = d3.axisTop(escalaX);
		    var grupoEixoX = d3.select("svg").append("g").attr("transform","translate(0,25)");			
			eixoX(grupoEixoX);
			 
			var eixoY = d3.axisLeft(escalaY);
		    var grupoEixoY = d3.select("svg").append("g").attr("transform","translate(25,0)");			
			eixoY(grupoEixoY);
			   
			// criando os pontos da coordenada dos dados acima
			d3.select("svg")
			.selectAll("circle")
			.data(dataset)//pegando os dados de  dentro do array. exemplo: [5, 20]
			.enter()// pegue todos os dados que sobraram das tags de circle
			.append("circle") // crie á tag circle com esses dados que sobraram
			.attr("cx", function (d){
				//exemplo SEM escala
				//return d[0];//exemplo: [5, 20] pegue o 1º mumero da lista = 5
				//exemplo COM escala
				return escalaX(d[0]);//exemplo: [5, 20] pegue o 1º mumero da lista = 5
			})
			.attr("cy", function (d){
				//exemplo SEM escala
				//return d[1];//exemplo: [5, 20] pegue o 2º mumero da lista = 20
				//exemplo COM escala
				return escalaY(d[1]);//exemplo: [5, 20] pegue o 2º mumero da lista = 20
			})
			.attr("fill", function (d){ 
				//exemplo COM escala de cor em y
				return escalaCor(d[1]);//exemplo: [5, 20] pegue o 2º mumero da lista = 20
			})
			.on("mouseover", function (e){  
				d3.select(this).attr("fill", "green"); 
			})
			.attr("r",10);
			
			// criado á legenda de cada ponto da coordenada
			/*  d3.select("svg")
				.selectAll("text")  
				.data(dataset) 					
				.enter() 
				.append("text")   
			    .attr("x", function (d){
					//exemplo SEM escala
					//return d[0];//exemplo: [5, 20] pegue o 1º mumero da lista = 5
					//exemplo COM escala
					return escalaX(d[0]);//exemplo: [5, 20] pegue o 1º mumero da lista = 5
				})
				.attr("y", function (d){
					//exemplo SEM escala
					//return d[1];//exemplo: [5, 20] pegue o 2º mumero da lista = 20
					//exemplo COM escala
					return escalaY(d[1]);//exemplo: [5, 20] pegue o 2º mumero da lista = 20
				}) 
				.text(function (d){
					return " (" + d[0] + " , " + d[1] + " )"; 
				}); 
			 */
			 
		</script>
	</body>
</html>